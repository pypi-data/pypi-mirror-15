.\" Written by Daniel.
.
.TH "QingStor" "1" "May 03, 2016" "0.1" "Qsctl Reference"
.SH NAME
qsctl-sync
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
.nf
qsctl sync
    <local-path> <qs-path> or <qs-path> <local-path>
    [\-\-delete]
    [\-\-exclude]
    [\-\-include]
.fi
.sp
.SH "DESCRIPTION"
.sp
Sync between local directory and qs-directory\&. The first path argument is the
source directory and second the destination directory.
.sp
When a key or file already exists in the destination directory, program will
compare the modified time of source file(key) and destination key(file). The
destination key(file) will be overwritten only if the source file(key) is
newer than destination one.
.SH "OPTIONS"
.PP
\-\-delete
.RS 4
Any files or keys existing under the destination directory but not existing in
the source directory will be deleted if --delete option is specified\&.
.RE
.PP
\-\-include
.RS 4
Exclude all keys or files that match the specified pattern\&.
.RE
.PP
\-\-exclude
.RS 4
Do not exclude keys or files that match the specified pattern\&.
.RE
.SH "EXAMPLES"
.sp
The following \fBsync\fP command will sync current local directory to qs-directory:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
$ qsctl sync . qs://mybucket
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Output:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
Key <test1.txt> created
Key <test2.txt> created
Key <test3.txt> created
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The following \fBsync\fP command sync qs-directory to local directory:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
$ qsctl sync qs://mybucket/test test
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Output:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
File 'test/test1.txt' written
File 'test/test2.txt' written
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The following \fBsync\fP command with the \fB\-\-delete\fP option will delete
those files existing in local directory but not existing in bucket
\fBmybucket\fP. The local current directory has file \fBtest3.txt\fP. The bucket
\fBmybucket\fP has \fBtest1.txt\fP and \fBtest2.txt\fP:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
$ qsctl cp qs://mybucket/myprefix \-r --exclude "*.jpg"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Output:
.INDENT 0.0
.INDENT 4
.sp
.nf
.ft C
File 'test/test1.txt' written
File 'test/test2.txt' written
File 'test/test3.txt' deleted
.ft P
.fi
.UNINDENT
.UNINDENT
.SH "REPORTING BUGS"
.sp
Report bugs to email <\fBdaniel@yunify\&.com\fR>\&.
.SH "SEE ALSO"
.sp
\fBqsctl\fR(1), \fBqsctl-ls\fR(1), \fBqsctl-mb\fR(1), \fBqsctl-mv\fR(1),
\fBqsctl-rb\fR(1), \fBqsctl-rm\fR(1), \fBqsctl-cp\fR(1)
.SH COPYRIGHT
Copyright (C) 2016 Yunify Inc.
.\" Written by Daniel.
.
