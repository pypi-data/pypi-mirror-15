(function(){var e;e=angular.module("ui.bootstrap.showErrors",[]),e.directive("showErrors",["$timeout","showErrorsConfig","$interpolate",function(e,t,n){var o,i,s;return i=function(e){var n;return n=t.trigger,e&&null!=e.trigger&&(n=e.trigger),n},o=function(e){var n;return n=t.showSuccess,e&&null!=e.showSuccess&&(n=e.showSuccess),n},s=function(t,s,r,a){var l,c,u,d,p,g,v,f;if(l=!1,p=t.$eval(r.showErrors),g=o(p),f=i(p),c=s[0].querySelector("input[name]"),d=angular.element(c),u=n(d.attr("name")||"")(t),!u)throw"show-errors element has no child input element with a 'name' attribute";return d.bind(f,function(){return l=!0,v(a[u].$invalid)}),t.$watch(function(){return a[u]&&a[u].$invalid},function(e){return l?v(e):void 0}),t.$on("show-errors-check-validity",function(){return v(a[u].$invalid)}),t.$on("show-errors-reset",function(){return e(function(){return s.removeClass("has-error"),s.removeClass("has-success"),l=!1},0,!1)}),v=function(e){return s.toggleClass("has-error",e),g?s.toggleClass("has-success",!e):void 0}},{restrict:"A",require:"^form",compile:function(e,t){if(-1===t.showErrors.indexOf("skipFormGroupCheck")&&!e.hasClass("form-group")&&!e.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return s}}}]),e.provider("showErrorsConfig",function(){var e,t;e=!1,t="blur",this.showSuccess=function(t){return e=t},this.trigger=function(e){return t=e},this.$get=function(){return{showSuccess:e,trigger:t}}})}).call(this),function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],o=angular.module("ngTagsInput",[]);o.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(o,i,s,r,a){function l(e,t,n,o){var i,s,r,l={};return i=function(t){return a.safeToString(t[e.displayProperty])},s=function(t,n){t[e.displayProperty]=n},r=function(t){var o=i(t);return o&&o.length>=e.minLength&&o.length<=e.maxLength&&e.allowedTagsPattern.test(o)&&!a.findInObjectArray(l.items,t,e.keyProperty||e.displayProperty)&&n({$tag:t})},l.items=[],l.addText=function(e){var t={};return s(t,e),l.add(t)},l.add=function(n){var o=i(n);return e.replaceSpacesWithDashes&&(o=a.replaceSpacesWithDashes(o)),s(n,o),r(n)?(l.items.push(n),t.trigger("tag-added",{$tag:n})):o&&t.trigger("invalid-tag",{$tag:n}),n},l.remove=function(e){var n=l.items[e];return o({$tag:n})?(l.items.splice(e,1),l.clearSelection(),t.trigger("tag-removed",{$tag:n}),n):void 0},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e]},l.selectPrior=function(){l.select(--l.index)},l.selectNext=function(){l.select(++l.index)},l.removeSelected=function(){return l.remove(l.index)},l.clearSelection=function(){l.selected=null,l.index=-1},l.clearSelection(),l}function c(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,o){e.events=a.simplePubSub(),r.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",c],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),e.tagList=new l(e.options,e.events,a.handleUndefinedResult(e.onTagAdding,!0),a.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){var t=o.find("input");return{addTag:function(t){return e.tagList.add(t)},focusInput:function(){t[0].focus()},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},on:function(t,n){return e.events.on(t,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,r,l){var c,u=[e.enter,e.comma,e.space,e.backspace,e.delete,e.left,e.right],d=t.tagList,p=t.events,g=t.options,v=n.find("input"),f=["minTags","maxTags","allowLeftoverText"];c=function(){l.$setValidity("maxTags",d.items.length<=g.maxTags),l.$setValidity("minTags",d.items.length>=g.minTags),l.$setValidity("leftoverText",t.hasFocus||g.allowLeftoverText?!0:!t.newTag.text())},l.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,p.trigger("input-change",e),void 0):t.text||""},invalid:null},t.track=function(e){return e[g.keyProperty||g.displayProperty]},t.$watch("tags",function(e){e?(d.items=a.makeObjectArray(e,g.displayProperty),t.tags=d.items):d.items=[]}),t.$watch("tags.length",function(){c(),l.$validate()}),r.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){p.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,p.trigger("input-focus"))},blur:function(){o(function(){var e=i.prop("activeElement"),o=e===v[0],s=n[0].contains(e);(o||!s)&&(t.hasFocus=!1,p.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):s.clipboardData.getData("Text")},p.trigger("input-paste",e)}},host:{click:function(){t.disabled||v[0].focus()}},tag:{click:function(e){p.trigger("tag-clicked",{$tag:e})}}},p.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=d.items,l.$setDirty()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==f.indexOf(e.name)&&c()}).on("input-change",function(){d.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){g.addOnBlur&&!g.addFromAutocompleteOnly&&d.addText(t.newTag.text()),n.triggerHandler("blur"),c()}).on("input-keydown",function(n){var o,i,s,r,l=n.keyCode,c={};if(!a.isModifierOn(n)&&-1!==u.indexOf(l)){if(c[e.enter]=g.addOnEnter,c[e.comma]=g.addOnComma,c[e.space]=g.addOnSpace,o=!g.addFromAutocompleteOnly&&c[l],i=(l===e.backspace||l===e.delete)&&d.selected,r=l===e.backspace&&0===t.newTag.text().length&&g.enableEditingLastTag,s=(l===e.backspace||l===e.left||l===e.right)&&0===t.newTag.text().length&&!g.enableEditingLastTag,o)d.addText(t.newTag.text());else if(r){var p;d.selectPrior(),p=d.removeSelected(),p&&t.newTag.text(p[g.displayProperty])}else i?d.removeSelected():s&&(l===e.left||l===e.backspace?d.selectPrior():l===e.right&&d.selectNext());(o||s||i||r)&&n.preventDefault()}}).on("input-paste",function(e){if(g.addOnPaste){var t=e.getTextData(),n=t.split(g.pasteSplitPattern);n.length>1&&(n.forEach(function(e){d.addText(e)}),e.preventDefault())}})}}}]),o.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(t,n,o,i){var s=i.registerTagItem(),r=s.getOptions();t.$$template=r.template,t.$$removeTagSymbol=r.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[r.displayProperty])},t.$removeTag=function(){s.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),o.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,o,i,s,r){function a(e,t,n){var o,s,a,l={};return a=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},o=function(e,n){return e.filter(function(e){return!r.findInObjectArray(n,e,a(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=r.replaceSpacesWithDashes(e),n=r.replaceSpacesWithDashes(n)),r.defaultComparer(e,n)})})},l.reset=function(){s=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=r.debounce(function(n,c){l.query=n;var u=i.when(e({$query:n}));s=u,u.then(function(e){u===s&&(e=r.makeObjectArray(e.data||e,a()),e=o(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),o=n.parent(),i=n.prop("offsetTop"),s=n.prop("offsetHeight"),r=o.prop("clientHeight"),a=o.prop("scrollTop");a>i?o.prop("scrollTop",i):i+s>r+a&&o.prop("scrollTop",i+s-r)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=r.simplePubSub(),s.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new a(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,o,i){var s,a=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=i.registerAutocomplete(),d=t.options,p=t.events;d.tagsInput=u.getOptions(),s=function(e){return e&&e.length>=d.minLength||!e&&d.loadOnEmpty},t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),u.focusInput(),e=!0),e},t.track=function(e){return e[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){s(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();d.loadOnFocus&&s(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var o=n.keyCode,i=!1;if(!r.isModifierOn(n)&&-1!==a.indexOf(o))return c.visible?o===e.down?(c.selectNext(),i=!0):o===e.up?(c.selectPrior(),i=!0):o===e.escape?(c.reset(),i=!0):(o===e.enter||o===e.tab)&&(i=t.addSuggestion()):o===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),i=!0),i?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),p.on("suggestion-selected",function(e){l(n,e)})}}}]),o.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,o,i,s){var r=s.registerAutocompleteMatch(),a=r.getOptions();n.$$template=a.template,n.$index=n.$parent.$index,n.$highlight=function(n){return a.highlightMatchedText&&(n=t.safeHighlight(n,r.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[a.displayProperty||a.tagsInput.displayProperty])}}}}]),o.directive("tiTranscludeAppend",function(){return function(e,t,n,o,i){i(function(e){t.append(e)})}}),o.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,i){var s,r,a=e.getTextAutosizeThreshold();s=angular.element('<span class="input"></span>'),s.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(s),r=function(e){var t,i=e;return angular.isString(i)&&0===i.length&&(i=o.placeholder),i&&(s.text(i),s.css("display",""),t=s.prop("offsetWidth"),s.css("display","none")),n.css("width",t?t+a+"px":""),e},i.$parsers.unshift(r),i.$formatters.unshift(r),o.$observe("placeholder",function(e){i.$modelValue||r(e)})}}}]),o.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),o.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(o){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},{load:function(n,s,r,a){var l=function(){return!0};s.options={},angular.forEach(a,function(a,c){var u,d,p,g,v,f;u=a[0],d=a[1],p=a[2]||l,g=i[u],v=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:d},f=function(e){s.options[c]=e&&p(e)?g(e):v()},t[n]&&t[n][c]?r.$observe(c,function(e){f(e),s.events.trigger("option-change",{name:c,newValue:e})}):f(r[c]&&o(r[c])(s.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),o.factory("tiUtil",["$timeout",function(e){var t={};return t.debounce=function(t,n){var o;return function(){var i=arguments;e.cancel(o),o=e(function(){t.apply(null,i)},n)}},t.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var o={};o[t]=e,n.push(o)}),n},t.findInObjectArray=function(e,n,o,i){var s=null;return i=i||t.defaultComparer,e.some(function(e){return i(e[o],n[o])?(s=e,!0):void 0}),s},t.defaultComparer=function(e,n){return t.safeToString(e).toLowerCase()===t.safeToString(n).toLowerCase()},t.safeHighlight=function(e,n){function o(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!n)return e;e=t.encodeHTML(e),n=t.encodeHTML(n);var i=new RegExp("&[^;]+;|"+o(n),"gi");return e.replace(i,function(e){return e.toLowerCase()===n.toLowerCase()?"<em>"+e+"</em>":e})},t.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},t.encodeHTML=function(e){return t.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},t.replaceSpacesWithDashes=function(e){return t.safeToString(e).replace(/\s/g,"-")},t.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},t.simplePubSub=function(){var e={};return{on:function(t,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(n)}),this},trigger:function(n,o){var i=e[n]||[];return i.every(function(e){return t.handleUndefinedResult(e,!0)(o)}),this}}},t}]),o.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(){var e;e=function(){function e(){return["common","ui.bootstrap.showErrors","ngTagsInput","bbData"]}return e}(),angular.module("buildbot_travis",new e)}.call(this),function(){var e,t,n,o;o=function(){function e(e,n){t=this,t.$scope=e,e.title="Watched Projects",e.project_remove=function(t){return _.remove(e.cfg.projects,function(e){return e===t})},e.shows={},e.toggle_show=function(t){var n;return null==(n=e.shows)[t]&&(n[t]=!1),e.shows[t]=!e.shows[t]},e.new_project=function(){var t;return null==(t=e.cfg).projects&&(t.projects=[]),e.shows[e.cfg.projects.length]=!0,e.cfg.projects.push({vcs_type:_.keys(n.plugins.buildbot_travis.supported_vcs)[0]})},e.is_shown=function(t){return e.shows[t]},e.allTags=function(t){var n,o,i,s,r,a,l,c,u;for(o=[],c=e.cfg.projects,s=0,a=c.length;a>s;s++)if(n=c[s],null!=n.tags)for(u=n.tags,r=0,l=u.length;l>r;r++)i=u[r],0===i.indexOf(t)&&o.indexOf(i)<0&&o.push(i);return o},e.allStages=function(t){var n,o,i,s,r;for(n=[],r=e.cfg.stages,i=0,s=r.length;s>i;i++)o=r[i],0===o.indexOf(t)&&n.indexOf(o)<0&&n.push(o);return n},e.allBranches=function(t){var n,o,i,s,r,a,l,c,u;for(i=[],c=e.cfg.projects,s=0,a=c.length;a>s;s++)if(o=c[s],null!=o.branches)for(u=o.branches,r=0,l=u.length;l>r;r++)n=u[r],0===n.indexOf(t)&&i.indexOf(n)<0&&i.push(n);return i}}var t;return t=null,e}(),t=function(){function e(e){this.$scope=e,t=this,this.$scope.title="Default Environment Variables",this.$scope.new_env={},this.$scope.env_remove=function(t){return delete e.cfg.env[t]},this.$scope.env_add=function(){var n;return null==(n=t.$scope.cfg).env&&(n.env={}),t.$scope.cfg.env[t.$scope.new_env.key]=t.$scope.new_env.value,e.new_env={}}}var t;return t=null,e}(),e=function(){function e(e){this.$scope=e,t=this,this.$scope.title="Deployment Environments",this.$scope.new_stage="",this.$scope.stage_remove=function(e){return-1!==t.$scope.cfg.stages.indexOf(e)?t.$scope.cfg.stages.splice(t.$scope.cfg.stages.indexOf(e),1):void 0},this.$scope.stage_add=function(e){var n;return e?(null==(n=t.$scope.cfg).stages&&(n.stages=[]),t.$scope.cfg.stages.push(e),e=""):void 0}}var t;return t=null,e}(),n=function(){function e(e){this.$scope=e,t=this,this.$scope.title="Not Important Files",this.$scope.important_file_remove=function(e){return _.remove(t.$scope.cfg.not_important_files,function(t){return t===e})},this.$scope.important_file_add=function(){var e;return t.$scope.new_file?(null==(e=t.$scope.cfg).not_important_files&&(e.not_important_files=[]),t.$scope.cfg.not_important_files.push(t.$scope.new_file),t.$scope.new_file=""):void 0}}var t;return t=null,e}(),angular.module("buildbot_travis").controller("projectsConfigController",["$scope","config","$state",o]).controller("envConfigController",["$scope","config","$state",t]).controller("deploymentConfigController",["$scope","config","$state",e]).controller("notImportantFilesConfigController",["$scope","config","$state",n])}.call(this),function(){var e;e=function(){function e(e,t){var n;n="deploy dashboard",t.addGroup({name:n,caption:"Deploy",icon:"rocket",order:0}),e.state({controller:"deployController",templateUrl:"buildbot_travis/views/deploy.html",name:"travis_deploy",url:"/bbtravis/deploy",data:{group:n,caption:"Deploy"}}),n="settings",t.addGroup({name:n,caption:"Settings",icon:"wrench",order:150}),e.state({controller:"deploymentConfigController",templateUrl:"buildbot_travis/views/deployment.html",name:"travis_config_deployment",url:"/bbtravis/config/deployment",data:{group:n,caption:"Deployment"}}),e.state({controller:"projectsConfigController",templateUrl:"buildbot_travis/views/projects.html",name:"travis_config_projects",url:"/bbtravis/config/projects",data:{group:n,caption:"Projects"}}),e.state({controller:"envConfigController",templateUrl:"buildbot_travis/views/env.html",name:"travis_config_env",url:"/bbtravis/config/env",data:{group:n,caption:"Environment variables"}}),e.state({controller:"notImportantFilesConfigController",templateUrl:"buildbot_travis/views/not_important_files.html",name:"not_important_files",url:"/bbtravis/config/not_important_files",data:{group:n,caption:"Not Important Files"}})}return e}(),angular.module("buildbot_travis").config(["$stateProvider","glMenuServiceProvider",e])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!0,transclude:!0,restrict:"E",templateUrl:"buildbot_travis/views/config_page.html",controller:"_ConfigPageController"}}return e}(),t=function(){function e(e,n,o,i){var s,r,a,l;for(this.$scope=e,t=this,this.$scope.cfg=angular.copy(n.plugins.buildbot_travis.cfg),this.$scope.buildbot_travis=n.plugins.buildbot_travis,this.$scope.errors=[],this.$scope.saving=!1,l=this.$scope.cfg.projects,r=0,a=l.length;a>r;r++)s=l[r],s.branch&&(s.branches=s.branch.split(" "),delete s.branch);this.$scope.save=function(){return t.$scope.$broadcast("show-errors-check-validity"),t.$scope.hasInvalids()?void 0:(n.plugins.buildbot_travis.cfg,n.plugins.buildbot_travis.cfg=angular.copy(t.$scope.cfg),t.$scope.saving=!0,i.put("buildbot_travis/api/config",n.plugins.buildbot_travis.cfg).then(function(e){return e.data.success?location.reload(!0):(t.$scope.saving=!1,t.$scope.errors=e.data.errors)}))},this.$scope.cancel=function(){return this.$scope.cfg=angular.copy(n.plugins.buildbot_travis.cfg)},this.$scope.hasInvalids=function(){var e,n;return e=function(t){var n,o;if(null!=(o=t.form)?o.$invalid:void 0)return!0;for(n=t.$$childHead;n;){if(e(n))return!0;n=n.$$nextSibling}return!1},n=e(t.$scope)}}var t;return t=null,e}(),angular.module("buildbot_travis").directive("configPage",[e]).controller("_ConfigPageController",["$scope","config","$state","$http",t])}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){function e(e,o,i,s,r){var a,l,c,u,d,p;n=this,n.$scope=e,e.title="Deployment info",e.fscheduler="",e.builderName="",e.latestDeployedVersionByProjectDict={},e.gitTagsByProjectDict={},e.untaggedVersionsByProject=[],e.untaggedVersionsByProjectDict={},e.projectsFiltered=[],d=[],c=[],a=[],this.$scope.cfg=angular.copy(s.plugins.buildbot_travis.cfg),a=r.open().closeOnDestroy(e),Array.prototype.toDict=function(e){return this.reduce(function(t,n){return null!=n[e]&&(t[n[e]]=n),t},{})},l=function(){var t,n,o,i,s;for(console.log("Filtering projects ..."),i=e.cfg.projects,s=[],n=0,o=i.length;o>n;n++)t=i[n],null!=t.stages&&t.stages.length>0?s.push(e.projectsFiltered.push(t)):s.push(void 0);return s},u=function(){var t,n,o,i,s,r,a,l,u,p,g,v,f;for(console.log("Initializing the versions ..."),v=e.projectsFiltered,l=0,p=v.length;p>l;l++){for(o=v[l],n={},n.projectName=o.name,n.stages_sorted={},n.stages=[],f=o.stages,u=0,g=f.length;g>u;u++)a=f[u],t={},t.stage="",t.versions=[],t.versions=["NA"],t.stage=a,n.stages.push(t);d.push(n),i={},i.projectName=o.name,i.projectGitTags=["NA"],c.push(i),s={},s.projectName=o.name,s.versions=[],e.untaggedVersionsByProject.push(s)}return e.latestDeployedVersionByProjectDict=d.toDict("projectName"),e.gitTagsByProjectDict=c.toDict("projectName"),e.untaggedVersionsByProjectDict=e.untaggedVersionsByProject.toDict("projectName"),r=e.cfg.projects.toDict("name")},e.isStageUndefined=function(n,o){return null!=e.projectsDict[n].stages?t.call(e.projectsDict[n].stages,o)>=0?!1:!0:!0},p=function(){return a.getBuilders().onNew=function(n){var o,i,s,r,l,u;for(console.log("Retrieving the builders"),i="",i=n.name,u=e.projectsFiltered,o=r=0,l=u.length;l>r;o=++r)if(s=u[o],i.match(s.name))if(i.match(/-deploy/)||i.match(/-job/)||i.match(/-try/)){if(!i.match(/-deploy/))return;a.getBuilds({limit:50,order:"-complete_at",builderid:n.builderid,complete:"true",results:0}).onChange=function(n){var o,i,r,a;for(console.log("Retrieving the deploy builds..."),a=[],i=0,r=n.length;r>i;i++)o=n[i],a.push(o.getProperties().onNew=function(n){var o,i,r,a,l,c,u,p,g;if(null!=n&&(i=n.codebase[0],null!=n.version[0]&&""!==n.version[0]&&null!=n.stage[0]&&""!==n.stage[0]&&d!==[])){for(l=0,u=d.length;u>l;l++)if(s=d[l],s.projectName===i){for(g=s.stages,c=0,p=g.length;p>c;c++)r=g[c],r.stage===n.stage[0]&&("NA"===r.versions[0]?(r.versions=[],r.versions.push(n.version[0])):(o=n.version[0],t.call(r.versions,o)<0&&r.versions.push(n.version[0])));a={},a=s.stages.toDict("stage"),s.stages_sorted=a}return e.latestDeployedVersionByProjectDict=d.toDict("projectName")}});return a}}else a.getBuilds({limit:50,order:"-complete_at",builderid:n.builderid,complete:"true",results:0}).onChange=function(n){var o,i,s,r;for(console.log("Retrieving the builds..."),r=[],i=0,s=n.length;s>i;i++)o=n[i],r.push(o.getProperties().onNew=function(n){var o,i,s,r,a,l,u,d,p,g,v,f;if(null!=n.branch){if(!n.branch[0].match(/tags/)&&(s=n.codebase[0],null!=n.revision)){for(p=e.untaggedVersionsByProject,a=0,u=p.length;u>a;a++)r=p[a],s===r.projectName&&(g=n.revision[0],t.call(r.versions,g)<0&&(i=n.revision[0],r.versions.push(i)));e.untaggedVersionsByProjectDict=e.untaggedVersionsByProject.toDict("projectName")}if(n.branch[0].match(/tags/)&&(s=n.codebase[0],null!=n["commit-description"])){for(l=0,d=c.length;d>l;l++)o=c[l],s===o.projectName&&(v=n["commit-description"][0],t.call(o.projectGitTags,v)<0&&(i=[],i=n["commit-description"][0],"NA"===o.projectGitTags[0]&&(o.projectGitTags=[]),f=i[s],t.call(o.projectGitTags,f)<0&&o.projectGitTags.push(i[s])));return e.gitTagsByProjectDict=c.toDict("projectName")}}});return r}}},l(),u(),p(),e.submit=function(){return console.log(e.selectedTag),console.log(e.selectedProject),console.log(e.selectedStage),console.log(e.builderName)},e.deploy=function(t,n,o){var s;return e.selectedTag=t,e.selectedProject=n,e.selectedStage=o,s=e.selectedProject+"-deploy",a.getForceschedulers(s).onNew=function(t){var o;return e.fscheduler=t,e.builderName=n+"-deploy",e.submit(),o={},o.modal=i.open({templateUrl:"buildbot_travis/views/deploydialog.html",controller:"deployDialogController",resolve:{modal:function(){return o},tag:function(){return e.selectedTag},project:function(){return e.selectedProject},stage:function(){return e.selectedStage},forcesched:function(){return e.fscheduler},buildername:function(){return e.builderName}}})}},e.deployLatest=function(t,n){var o;return e.selectedCommit=t,e.selectedProject=n,o=e.selectedProject+"-deploy",a.getForceschedulers(o).onNew=function(t){var o;return e.fscheduler=t,e.builderName=n+"-deploy",e.submit(),o={},o.modal=i.open({templateUrl:"buildbot_travis/views/deploy_latest_dialog.html",controller:"deployLatestDialogController",size:"lg",resolve:{modal:function(){return o},commit:function(){return e.selectedCommit},project:function(){return e.selectedProject},forcesched:function(){return e.fscheduler},buildername:function(){return e.builderName}}})}}}var n;return n=null,e}(),angular.module("buildbot_travis").controller("deployController",["$scope","$state","$uibModal","config","dataService",e])}.call(this),function(){var e;e=function(){function e(e,t,n,o,i,s,r){var a,l;l=this,l.$scope=e,e.commit=n,e.project=o,e.projectsDict=[],Array.prototype.toDict=function(e){return this.reduce(function(t,n){return null!=n[e]&&(t[n[e]]=n),t},{})},this.$scope.cfg=angular.copy(r.plugins.buildbot_travis.cfg),e.projectsDict=e.cfg.projects.toDict("name"),a=function(e){var t,n,o,i;for(i=[],n=0,o=e.length;o>n;n++)t=e[n],null!=t.fields?i.push(a(t.fields)):i.push(t.value=t["default"]);return i},a(i.all_fields),angular.extend(e,{rootfield:{type:"nested",layout:"simple",fields:i.all_fields,columns:1},sch:i}),e.ok=function(o){var s,r;return r={},s=function(e){var t,i,a,l;for(l=[],i=0,a=e.length;a>i;i++)t=e[i],t.errors="",null!=t.fields?l.push(s(t.fields)):t.fullName.match(/revision/)?l.push(r[t.fullName]=n):"stage"===t.fullName?l.push(r[t.fullName]=o):l.push(r[t.fullName]=t.value);return l},s(i.all_fields),i.control("force",r).then(function(e){return t.modal.close(e.result)},function(t){return e.error=t.error.message})},e.cancel=function(){return t.modal.dismiss()}}return e}(),angular.module("buildbot_travis").controller("deployLatestDialogController",["$scope","modal","commit","project","forcesched","buildername","config","$location",e])}.call(this),function(){var e;e=function(){function e(e,t,n,o,i,s){var r;e.tag=n,e.project=o,e.stage=i,r=function(e){var t,n,o,i;for(i=[],n=0,o=e.length;o>n;n++)t=e[n],null!=t.fields?i.push(r(t.fields)):i.push(t.value=t["default"]);return i},r(s.all_fields),angular.extend(e,{rootfield:{type:"nested",layout:"simple",fields:s.all_fields,columns:1},sch:s}),e.ok=function(){var o,r;return r={},o=function(e){var t,s,a,l;for(l=[],s=0,a=e.length;a>s;s++)t=e[s],t.errors="",null!=t.fields?l.push(o(t.fields)):"version"===t.fullName?l.push(r[t.fullName]=n):"stage"===t.fullName?l.push(r[t.fullName]=i):l.push(r[t.fullName]=t.value);return l},o(s.all_fields),s.control("force",r).then(function(e){return t.modal.close(e.result)},function(t){return e.error=t.error.message})},e.cancel=function(){return t.modal.dismiss()}}return e}(),angular.module("buildbot_travis").controller("deployDialogController",["$scope","modal","tag","project","stage","forcesched","buildername",e])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!1,transclude:!1,restrict:"E",scope:{allTags:"=",tags:"=",placeholder:"@"},templateUrl:"buildbot_travis/views/input_tags.html",controller:"_InputTagsController"}}return e}(),t=function(){function e(e){var n,o,i,s,r;for(t=this,e.tags_model=[],null==e.tags&&(e.tags=[]),r=e.tags,i=0,s=r.length;s>i;i++)n=r[i],angular.isObject(n)&&(n=n.text),e.tags_model.push({text:n});o=function(){var t,o,i,s;for(e.tags.splice(0,e.tags.length),i=e.tags_model,s=[],t=0,o=i.length;o>t;t++)n=i[t],s.push(e.tags.push(n.text));return s},o(),e.$watch("tags_model",o,!0)}var t;return t=null,e}(),angular.module("buildbot_travis").directive("inputTags",[e]).controller("_InputTagsController",["$scope",t])}.call(this),function(){var e,t;e=function(){function e(){return{replace:!1,transclude:!1,restrict:"E",scope:{allStages:"=",stages:"=",placeholder:"@"},templateUrl:"buildbot_travis/views/input_stages.html",controller:"_InputStagesController"}}return e}(),t=function(){function e(e){var n,o,i,s,r;for(t=this,e.stages_model=[],null==e.stages&&(e.stages=[]),r=e.stages,i=0,s=r.length;s>i;i++)n=r[i],angular.isObject(n)&&(n=n.text),e.stages_model.push({text:n});o=function(){var t,o,i,s;for(e.stages.splice(0,e.stages.length),i=e.stages_model,s=[],t=0,o=i.length;o>t;t++)n=i[t],s.push(e.stages_model.push(n.text));return s},o(),e.$watch("stages_model",o,!0)}var t;return t=null,e}(),angular.module("buildbot_travis").directive("inputStages",[e]).controller("_InputStagesController",["$scope",t])}.call(this),angular.module("buildbot_travis").run(["$templateCache",function(e){e.put("buildbot_travis/views/config_page.html",'<div class="container"><div class="row"><div role="alert" ng-repeat="error in errors" class="alert alert-danger">{{ error }}</div></div><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">{{ title }}</h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer"><div ng-click="cancel()" class="btn btn-default">Dismiss changes</div><div ng-class="{disabled: hasInvalids() || saving}" ng-click="save()" class="btn btn-default pull-right"><i ng-hide="saving" class="fa fa-check"></i><i ng-show="saving" class="fa fa-circle-o-notch fa-spin"></i>&nbsp;Save</div></div></div></div></div></div>'),e.put("buildbot_travis/views/deploy.html",'<div class="container"><div class="row"><table class="table table-hover table-striped table-condensed"><tr><th rowspan="2">Deliverables</th><th colspan="{{ cfg.stages.length + 1 }}" class="text-center">Stages<span ng-init="help=false" ng-click="help=!help"><i style="position:relative" class="fa fa-question-circle"><div ng-if="help" style="display:block;min-width:600px;left:-300px;top:30px" class="popover bottom anim-popover"><h5 class="popover-title">Stages filtering</h5><div class="popover-content"><p>Environments you need to deploy to should be specified in the Settings/Deployment section.</p><p>BEWARE! These environments should be sorted following your development process definition.</p><p>Example : DEVELOPMENT | QA | PRODUCTION</p><p>BEWARE! The first column is reserved for COMMIT stage - ie merged developments in the MAINLINE</p></div><div class="arrow"></div></div></i></span></th></tr><tr><th class="text-center">Commit</th><th ng-repeat="(stage_id, stage) in cfg.stages" class="text-center">{{ stage }}</th></tr><tr ng-repeat="project in projectsFiltered track by $index"><td style="width:200px">{{ project.name }}</td><td style="width:200px" class="text-center">{{ untaggedVersionsByProjectDict[project.name].versions[0] }}\n&nbsp;<div uib-dropdown="uib-dropdown" class="btn-group"><button type="button" uib-dropdown-toggle="uib-dropdown-toggle" ng-disabled="disabled" class="btn btn-primary">{{ untaggedVersionsByProjectDict[project.name].versions[0] }}<span class="caret"></span></button>&nbsp;<ul uib-dropdown-menu="uib-dropdown-menu" role="menu" aria-labelledby="single-button" class="dropdown-menu"><li ng-repeat="commit in untaggedVersionsByProjectDict[project.name].versions track by $index"><a href="#" ng-click="deployLatest(commit, project.name)">{{ commit }}</a></li></ul></div></td><td ng-repeat="(stage_id, stage) in cfg.stages" class="text-center">{{ latestDeployedVersionByProjectDict[project.name].stages_sorted[stage].versions[0] }}\n&nbsp;<div uib-dropdown="uib-dropdown" class="btn-group"><button type="button" uib-dropdown-toggle="uib-dropdown-toggle" class="btn btn-primary">{{ gitTagsByProjectDict[project.name].projectGitTags[0]  }}<span class="caret"></span></button>&nbsp;<ul uib-dropdown-menu="uib-dropdown-menu" role="menu" aria-labelledby="single-button" class="dropdown-menu"><li ng-repeat="git_tag in gitTagsByProjectDict[project.name].projectGitTags track by $index"><a href="#" ng-click="deploy(git_tag, project.name, stage)">{{ git_tag }}</a></li></ul></div></td></tr></table></div></div>'),e.put("buildbot_travis/views/deploy_latest_dialog.html",'<div class="modal-content"><div class="modal-header"><h4>Deploy</h4></div><div class="modal-body">Do you want to deploy&nbsp;<b>{{ project }}&nbsp;</b>version&nbsp;<b>{{ commit }}&nbsp;</b>in &nbsp;<div uib-dropdown="" is-open="status.isopen" class="btn-group"><button type="button" uib-dropdown-toggle="" ng-disabled="disabled" class="btn btn-primary">{{ projectsDict[project].stages[0] }}<span class="caret"></span></button>&nbsp;<ul uib-dropdown-menu="" role="menu" aria-labelledby="single-button" class="dropdown-menu"><li ng-repeat="(stage_id, stage) in projectsDict[project].stages"><a href="" ng-click="ok(stage)">{{ stage }}</a></li></ul></div></div><div class="modal-footer"><button ng-click="cancel()" class="btn btn-default">Cancel</button></div></div>'),e.put("buildbot_travis/views/deploydialog.html",'<div class="modal-content"><div class="modal-header"><h4>Deploy</h4></div><div class="modal-body">Do you want to deploy&nbsp;<b>{{ project }}&nbsp;</b>version&nbsp;<b>{{ tag }}&nbsp;</b>in&nbsp;<b>{{ stage }}&nbsp;</b>stage ?&nbsp;</div><div class="modal-footer"><button ng-click="cancel()" class="btn btn-default">Cancel</button><button ng-click="ok()" class="btn btn-primary">Ok</button></div></div>'),e.put("buildbot_travis/views/deployment.html",'<config-page><div class="form-group"><div ng-repeat="stage in buildbot_travis.cfg.stages" class="row"><div class="col-sm-12"><div class="input-group"><input type="text" ng-model="stage" ng-disabled="true" class="form-control"/><div class="input-group-btn"><div ng-click="stage_remove(stage)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="input-group filelist"><input type="text" ng-model="new_stage" placeholder="New deployment environment" class="form-control"/><div class="input-group-btn"><div ng-disabled="form2.$invalid" ng-click="stage_add(new_stage)" class="btn btn-default">+</div></div></div></div></div></div></config-page>'),e.put("buildbot_travis/views/env.html",'<config-page><div ng-repeat="(key, value) in cfg.env" class="form-group"><ng-form name="form"><div class="form-group col-sm-6"><input type="text" ng-model="key" ng-disabled="true" class="form-control"/></div><div show-errors="show-errors" class="input-group col-sm-6"><input name="value" type="text" ng-model="value" required="required" class="form-control"/><div class="input-group-btn"><div ng-click="env_remove(key)" class="btn btn-danger"><i class="fa fa-times"></i></div></div></div></ng-form></div><div class="form-group"><ng-form name="form2"><div show-errors="show-errors" class="col-sm-6 form-group"><input name="name" type="text" ng-model="new_env.key" placeholder="variable name" required="required" class="form-control"/></div><div show-errors="show-errors" class="col-sm-6 input-group"><input name="value" type="text" ng-model="new_env.value" placeholder="variable value" required="required" class="form-control"/><div class="input-group-btn"><div ng-disabled="form2.$invalid" ng-click="env_add(key)" class="btn btn-default"><i class="fa fa-plus"></i></div></div></div></ng-form></div></config-page>'),e.put("buildbot_travis/views/input_stages.html",'<deploy-env-input ng-model="stages_model" placeholder="{{placeholder}}"><auto-complete source="allStages($query)"></auto-complete></deploy-env-input>'),e.put("buildbot_travis/views/input_tags.html",'<tags-input ng-model="tags_model" placeholder="{{placeholder}}"><auto-complete source="allTags($query)"></auto-complete></tags-input>'),e.put("buildbot_travis/views/not_important_files.html",'<config-page><div class="form-group"><div ng-repeat="file in cfg.not_important_files" class="row"><div class="col-sm-12"><div class="input-group"><input type="text" ng-model="file" class="form-control"/><div class="input-group-btn"><div ng-click="important_file_remove(file)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="input-group filelist"><input type="text" ng-model="new_file" placeholder="file whose change dont generate a build" class="form-control"/><div class="input-group-btn"><div ng-click="important_file_add()" class="btn btn-default">+</div></div></div></div></div></div></config-page>'),e.put("buildbot_travis/views/projects.html",'<config-page><div ng-repeat="(project_id, project) in cfg.projects" class="panel panel-default"><div class="panel-heading"><div class="panel-title">{{ project.name }}&nbsp;<span title="{{ project.repository }} | {{ project.branch }}" class="label label-default">{{ project.vcs_type }}</span><div ng-click="toggle_show(project_id)" class="btn btn-xs btn-default pull-right"><i class="fa fa-sliders"></i></div>&nbsp;<span ng-repeat="tag in project.tags"><div class="label label-success">{{ tag }}</div>&nbsp;</span><span ng-repeat="stage in project.stages"><div class="label label-default">{{ stage }}</div>&nbsp;</span></div></div><div ng-show="is_shown(project_id)" class="panel-body"><ng-form name="form" class="form-horizontal"><div show-errors="show-errors" class="form-group"><label class="col-sm-2 control-label">Project name:</label><div class="col-sm-8"><input type="text" ng-model="project.name" name="name" placeholder="Project Name" required="required" class="form-control"/><p ng-if="form.name.$error.required" class="help-block">The projects\'s name is required</p></div><div class="col-sm-2"><div ng-click="project_remove(project)" class="pull-right btn btn-danger">delete project</div></div></div><div class="form-group"><label class="col-sm-2 control-label">Tags:</label><div class="col-sm-10"><input-tags tags="project.tags" all-tags="allTags"></input-tags></div></div><div class="form-group"><label class="col-sm-2 control-label">Stages:</label><div class="col-sm-10"><input-tags tags="project.stages" all-tags="allStages" placeholder="Add a stage"></input-tags></div></div><div class="form-group"><label class="col-sm-2 control-label">VCS type:</label><div class="col-sm-2"><select ng-model="project.vcs_type" ng-options="key as key for (key, value) in buildbot_travis.supported_vcs" class="form-control"></select></div><span class="col-sm-8 control-label">{{buildbot_travis.supported_vcs[project.vcs_type]}}</span></div><div class="form-group"><label class="col-sm-2 control-label">Branch(es):</label><div class="col-sm-6"><input-tags tags="project.branches" all-tags="allBranches" placeholder="Add a branch"></input-tags></div><span class="col-sm-4 control-label">use \'*\' character for matching several branches</span></div><div show-errors="show-errors" class="form-group"><label class="col-sm-2 control-label">Repository:</label><div class="col-sm-10"><input name="repository" type="text" ng-model="project.repository" placeholder="git://url/to/repo.git" required="required" class="form-control"/><p ng-if="form.repository.$error.required" class="help-block">The projects\'s name is required</p></div></div></ng-form></div></div><div ng-click="new_project()" class="btn btn-default pull-right">New Project</div></config-page>'),e.put("buildbot_travis/views/travis_config.html",'<div class="container"><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Buildbot Travis configuration editor</h3></div><div class="panel-body"><form><div class="form-group"><label>Deployment</label><div ng-repeat="stage in cfg.stages" class="row"><div class="col-sm-12"><div class="input-group"><input type="text" ng-model="stage" class="form-control"/><div class="input-group-btn"><div ng-click="stage_remove(stage)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="input-group filelist"><input type="text" ng-model="new_stage" placeholder="Deployment environment" class="form-control"/><div class="input-group-btn"><div ng-click="stage_add()" class="btn btn-default">+</div></div></div></div></div></div><div class="form-group"><label>Projects repositories</label><div ng-repeat="project in cfg.projects" class="row"><div class="col-sm-2"><input type="text" ng-model="project.name" class="form-control"/></div><div class="col-sm-2"><input type="text" ng-model="project.vcs_type" class="form-control"/></div><div class="col-sm-4"><input type="text" ng-model="project.branch" class="form-control"/></div><div class="col-sm-12"><div class="input-group"><input type="text" ng-model="project.repository" class="form-control"/><div class="input-group-btn"><div ng-click="project_remove(project)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-2"><input type="text" ng-model="new_project.name" placeholder="project name" class="form-control"/></div><div class="col-sm-2"><input type="text" ng-model="new_project.vcs_type" placeholder="project type" class="form-control"/></div><div class="col-sm-4"><input type="text" ng-model="new_project.branch" placeholder="project branch" class="form-control"/></div><div class="col-sm-12"><div class="input-group"><input type="url" ng-model="new_project.repository" placeholder="repository url" class="form-control"/><div class="input-group-btn"><div ng-click="project_add()" class="btn btn-default">+</div></div></div></div></div></div><div class="form-group"><label>Default Environment Variables</label><div ng-repeat="(key, value) in cfg.env" class="row"><div class="col-sm-6"><input type="text" ng-model="key" class="form-control"/></div><div class="col-sm-6"><div class="input-group"><input type="text" ng-model="value" class="form-control"/><div class="input-group-btn"><div ng-click="env_remove(key)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-6"><input type="text" ng-model="new_env_key" placeholder="variable name" class="form-control"/></div><div class="col-sm-6"><div class="input-group"><input type="text" ng-model="new_env_value" placeholder="variable value" class="form-control"/><div class="input-group-btn"><div ng-click="env_add(key)" class="btn btn-default">+</div></div></div></div></div></div><div class="form-group"><label>Not Important Files</label><div ng-repeat="file in cfg.not_important_files" class="row"><div class="col-sm-12"><div class="input-group"><input type="text" ng-model="file" class="form-control"/><div class="input-group-btn"><div ng-click="important_file_remove(file)" class="btn btn-danger">x</div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="input-group filelist"><input type="text" ng-model="new_file" placeholder="file whose change dont generate a build" class="form-control"/><div class="input-group-btn"><div ng-click="important_file_add()" class="btn btn-default">+</div></div></div></div></div></div></form></div><div class="panel-footer"><div ng-click="cancel()" class="btn btn-default">Dismiss changes</div><div ng-click="save()" class="btn btn-default pull-right">Save</div></div></div></div></div></div>')
}]);