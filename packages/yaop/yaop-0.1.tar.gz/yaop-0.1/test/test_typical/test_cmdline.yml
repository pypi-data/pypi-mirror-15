# --- meta-description of the application
app:
  name: yconfig
  desc: Python library for config file & command line options
  details: Use YAML files to describe what to do (and not how to do it)
  version: '1.0'
  date: Jan. 2016
  # author: Myself
  # usage: yconfig2 [ -<option> ] (custom example) %(variables)s
  # usage: '%(name)s [ -<option> ] (custom example) %(variables)s'
  notes:
    - |-
      configuration is described in two files, which default names are :
          - <main module name>.yml for meta description and
          - config.yml for default values
  # main: main          # default to 'main'
  # main: test
  main_call: auto     # default to 'auto'
  # main_call: null
  # main_call: kargs
  # main_call: cmdline
  # main_nocheck: True
  # first_karg: recurse # CURRENTLY NOT YET IMPLEMENTED
# --- here comes pure options (with flags, order doesn't matter)
opts:
  help:
    # flag: -h
    # long_flag: --help
    # type: bool   # default type for options is bool
    action: help()
    desc: print this help screen
  log:
    var: log_fname
    type: str
    default: ./log/fsbka-%(timestamp)s
    desc: name of the optional log file
  incremental:
    type: bool
    desc: switch to incremental mode
  recurse:
    # flag: -r
    # long_flag: --recurse
    # flag: -h          # check for errors
    # long_flag: --help # check for errors
    # long_flag: -r     # check for errors
    var: is_recurse
    default: false
    desc: recurse throught directories
  user:
    var: username
    # type: str   # computed from default value
    default: 'me'
    # default: 314
    # optional: true
  integer:
    flag: -I
    default: 123
# --- here comes pure parameters (no flags, order is meaningfull)
params:
  ifname:
    # flag: null # by default all params have flag = null
    default: iimage.jpg
    desc: input filename
  ofname:
    # long_flag: toto
    default: oimage.jpg
    desc: output filename
    # optional: false
    optional: true
  counter1:
    default: 456
    optional: true
  counter2:
    var: icnt2
    type: int
    optional: true
