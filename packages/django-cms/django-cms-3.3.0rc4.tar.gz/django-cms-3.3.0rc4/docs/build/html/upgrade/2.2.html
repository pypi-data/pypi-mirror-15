

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.2 release notes &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Release notes &amp; upgrade information" href="index.html"/>
        <link rel="next" title="Upgrading from 2.1.x and Django 1.2.x" href="2.1.html"/>
        <link rel="prev" title="2.3 release notes" href="2.3.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Key topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release notes &amp; upgrade information</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="3.3.html">3.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.2.3.html">3.2.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.2.2.html">3.2.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.2.1.html">3.2.1 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.2.html">3.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.5.html">3.1.5 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.4.html">3.1.4 release notes - Unreleased - Draft</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.3.html">3.1.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.2.html">3.1.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.1.html">3.1.1 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.1.html">3.1 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.16.html">3.0.16 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.15.html">3.0.15 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.14.html">3.0.14 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.13.html">3.0.13 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.12.html">3.0.12 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.11.html">3.0.11 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.10.html">3.0.10 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.9.html">3.0.9 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.8.html">3.0.8 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.7.html">3.0.7 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.6.html">3.0.6 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.3.html">3.0.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.html">3.0 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.4.html">2.4 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.4.html">2.3.4 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.3.html">2.3.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.2.html">2.3.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.html">2.3 release notes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">2.2 release notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-s-new-in-2-2">What&#8217;s new in 2.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#django-mptt-now-a-proper-dependency"><code class="docutils literal"><span class="pre">django-mptt</span></code> now a proper dependency</a></li>
<li class="toctree-l4"><a class="reference internal" href="#django-1-3-support">Django 1.3 support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-permissions">View permissions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#backwards-incompatible-changes">Backwards incompatible changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#django-sekizai-instead-of-pluginmedia"><code class="docutils literal"><span class="pre">django-sekizai</span></code> instead of PluginMedia</a></li>
<li class="toctree-l4"><a class="reference internal" href="#toolbar-must-be-enabled-explicitly-in-templates">Toolbar must be enabled explicitly in templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#static-files-moved-to-static">Static files moved to /static/</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#features-deprecated-in-2-2">Features deprecated in 2.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#django-dbgettext-support"><code class="docutils literal"><span class="pre">django-dbgettext</span></code> support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2.1.html">Upgrading from 2.1.x and Django 1.2.x</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Release notes &amp; upgrade information</a> &raquo;</li>
      
    <li>2.2 release notes</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/upgrade/2.2.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-notes">
<h1>2.2 release notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-s-new-in-2-2">
<h2>What&#8217;s new in 2.2<a class="headerlink" href="#what-s-new-in-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-mptt-now-a-proper-dependency">
<h3><code class="docutils literal"><span class="pre">django-mptt</span></code> now a proper dependency<a class="headerlink" href="#django-mptt-now-a-proper-dependency" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/django-mptt/django-mptt/">django-mptt</a> is now used as a
proper dependency and is no longer shipped with the django CMS. This solves the
version conflict issues many people were experiencing when trying to use the django CMS
together with other Django apps that require django-mptt. django CMS 2.2
requires django-mptt 0.5.1.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please remove the old <code class="docutils literal"><span class="pre">mptt</span></code> package from your Python site-packages
directory before upgrading. The <code class="docutils literal"><span class="pre">setup.py</span></code> file will install the
<a class="reference external" href="https://github.com/django-mptt/django-mptt/">django-mptt</a> package as an external dependency!</p>
</div>
</div>
<div class="section" id="django-1-3-support">
<h3>Django 1.3 support<a class="headerlink" href="#django-1-3-support" title="Permalink to this headline">¶</a></h3>
<p>The django CMS 2.2 supports both Django 1.2.5 and Django 1.3.</p>
</div>
<div class="section" id="view-permissions">
<h3>View permissions<a class="headerlink" href="#view-permissions" title="Permalink to this headline">¶</a></h3>
<p>You can now give view permissions for django CMS pages to groups and users.</p>
</div>
</div>
<div class="section" id="backwards-incompatible-changes">
<span id="id1"></span><h2>Backwards incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-sekizai-instead-of-pluginmedia">
<h3><code class="docutils literal"><span class="pre">django-sekizai</span></code> instead of PluginMedia<a class="headerlink" href="#django-sekizai-instead-of-pluginmedia" title="Permalink to this headline">¶</a></h3>
<p>Due to the sorry state of the old plugin media framework, it has been dropped in
favour of the more stable and more flexible django-sekizai, which is a new
dependency for the django CMS 2.2.</p>
<p>The following methods and properties of <code class="xref py py-class docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase</span></code>
are affected:</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.PluginMedia</span></code></li>
<li><code class="xref py py-attr docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.pluginmedia</span></code></li>
<li><code class="xref py py-meth docutils literal"><span class="pre">cms.plugins_base.CMSPluginBase.get_plugin_media()</span></code></li>
</ul>
<p>Accessing those attributes or methods will raise a
<code class="xref py py-exc docutils literal"><span class="pre">cms.exceptions.Deprecated</span></code> error.</p>
<p>The <code class="xref py py-class docutils literal"><span class="pre">cms.middleware.media.PlaceholderMediaMiddleware</span></code> middleware was also
removed in this process and is therefore no longer required. However you are now
required to have the <code class="docutils literal"><span class="pre">'sekizai.context_processors.sekizai'</span></code> context processor
in your <code class="xref std std-setting docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></code> setting.</p>
<p>All templates in <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_TEMPLATES"><code class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></code></a> must at least contain the <code class="docutils literal"><span class="pre">js</span></code> and
<code class="docutils literal"><span class="pre">css</span></code> sekizai namespaces.</p>
<p>Please refer to the documentation on <a class="reference internal" href="../how_to/custom_plugins.html#custom-plugins-handling-media"><span>Handling media</span></a> in
custom CMS plugins and the
<a class="reference external" href="http://django-sekizai.readthedocs.org/">django-sekizai documentation</a> for
more information.</p>
</div>
<div class="section" id="toolbar-must-be-enabled-explicitly-in-templates">
<h3>Toolbar must be enabled explicitly in templates<a class="headerlink" href="#toolbar-must-be-enabled-explicitly-in-templates" title="Permalink to this headline">¶</a></h3>
<p>The toolbar no longer hacks itself into responses in the middleware, but rather
has to be enabled explicitly using the <code class="docutils literal"><span class="pre">{%</span> <span class="pre">cms_toolbar</span> <span class="pre">%}</span></code> template tag from
the <code class="docutils literal"><span class="pre">cms_tags</span></code> template tag library in your templates. The template tag
should be placed somewhere within the body of the HTML (within <code class="docutils literal"><span class="pre">&lt;body&gt;...&lt;/body&gt;</span></code>).</p>
<p>This solves issues people were having with the toolbar showing up in places it
shouldn&#8217;t have.</p>
</div>
<div class="section" id="static-files-moved-to-static">
<h3>Static files moved to /static/<a class="headerlink" href="#static-files-moved-to-static" title="Permalink to this headline">¶</a></h3>
<p>The static files (CSS/JavaScript/images) were moved from <code class="docutils literal"><span class="pre">/media/</span></code> to
<code class="docutils literal"><span class="pre">/static/</span></code> to work with the new <code class="docutils literal"><span class="pre">django.contrib.staticfiles</span></code> app in Django
1.3. This means you will have to make sure you serve static files as well as
media files on your server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you use Django 1.2.x you will not have a <code class="docutils literal"><span class="pre">django.contrib.staticfiles</span></code>
app. Instead you need the <a class="reference external" href="http://pypi.python.org/pypi/django-staticfiles/">django-staticfiles</a> backport.</p>
</div>
</div>
</div>
<div class="section" id="features-deprecated-in-2-2">
<h2>Features deprecated in 2.2<a class="headerlink" href="#features-deprecated-in-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="django-dbgettext-support">
<h3><code class="docutils literal"><span class="pre">django-dbgettext</span></code> support<a class="headerlink" href="#django-dbgettext-support" title="Permalink to this headline">¶</a></h3>
<p>The django-dbgettext support has been fully dropped in 2.2 in favour of the
built-in multi-lingual support mechanisms.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2.1.html" class="btn btn-neutral float-right" title="Upgrading from 2.1.x and Django 1.2.x" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2.3.html" class="btn btn-neutral" title="2.3 release notes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>