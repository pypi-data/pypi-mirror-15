

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API References &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="Form and model fields" href="fields.html"/>
        <link rel="prev" title="Plugins" href="plugins.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Key topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html">Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">API References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cms-api">cms.api</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-cms.api">Functions and constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-workflows">Example workflows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-cms.constants">cms.constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-cms.plugin_base">cms.plugin_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cms-toolbar">cms.toolbar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-cms.toolbar.toolbar">cms.toolbar.toolbar</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-toolbar-items">cms.toolbar.items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-menus.base">menus.base</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fields.html">Form and model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="templatetags.html">Template Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="wizards.html">Content creation wizards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Reference</a> &raquo;</li>
      
    <li>API References</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/api_references.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-references">
<h1>API References<a class="headerlink" href="#api-references" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cms-api">
<h2>cms.api<a class="headerlink" href="#cms-api" title="Permalink to this headline">¶</a></h2>
<p>Python APIs for creating CMS content. This is done in <a class="reference internal" href="#module-cms.api" title="cms.api"><code class="xref py py-mod docutils literal"><span class="pre">cms.api</span></code></a> and not
on the models and managers, because the direct API via models and managers is
slightly counterintuitive for developers. Also the functions defined in this
module do sanity checks on arguments.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">None of the functions in this module does any security or permission
checks. They verify their input values to be sane wherever
possible, however permission checks should be implemented manually
before calling any of these functions.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Due to potential circular dependency issues, it&#8217;s recommended
to import the api in the functions that uses its function.</p>
<p>e.g. use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">cms.api</span> <span class="kn">import</span> <span class="n">api_function</span>

    <span class="n">api_function</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">cms.api</span> <span class="kn">import</span> <span class="n">api_function</span>

<span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="n">api_function</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-cms.api">
<span id="functions-and-constants"></span><h3>Functions and constants<a class="headerlink" href="#module-cms.api" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="cms.api.VISIBILITY_ALL">
<code class="descclassname">cms.api.</code><code class="descname">VISIBILITY_ALL</code><a class="headerlink" href="#cms.api.VISIBILITY_ALL" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for the <code class="docutils literal"><span class="pre">limit_menu_visibility</span></code> keyword argument to
<a class="reference internal" href="#cms.api.create_page" title="cms.api.create_page"><code class="xref py py-func docutils literal"><span class="pre">create_page()</span></code></a>. Does not limit menu visibility.</p>
</dd></dl>

<dl class="data">
<dt id="cms.api.VISIBILITY_USERS">
<code class="descclassname">cms.api.</code><code class="descname">VISIBILITY_USERS</code><a class="headerlink" href="#cms.api.VISIBILITY_USERS" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for the <code class="docutils literal"><span class="pre">limit_menu_visibility</span></code> keyword argument to
<a class="reference internal" href="#cms.api.create_page" title="cms.api.create_page"><code class="xref py py-func docutils literal"><span class="pre">create_page()</span></code></a>. Limits menu visibility to authenticated users.</p>
</dd></dl>

<dl class="data">
<dt id="cms.api.VISIBILITY_ANONYMOUS">
<code class="descclassname">cms.api.</code><code class="descname">VISIBILITY_ANONYMOUS</code><a class="headerlink" href="#cms.api.VISIBILITY_ANONYMOUS" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for the <code class="docutils literal"><span class="pre">limit_menu_visibility</span></code> keyword argument to
<a class="reference internal" href="#cms.api.create_page" title="cms.api.create_page"><code class="xref py py-func docutils literal"><span class="pre">create_page()</span></code></a>. Limits menu visibility to anonymous (not authenticated) users.</p>
</dd></dl>

<dl class="function">
<dt id="cms.api.create_page">
<code class="descclassname">cms.api.</code><code class="descname">create_page</code><span class="sig-paren">(</span><em>title</em>, <em>template</em>, <em>language</em>, <em>menu_title=None</em>, <em>slug=None</em>, <em>apphook=None</em>, <em>apphook_namespace=None</em>, <em>redirect=None</em>, <em>meta_description=None</em>, <em>created_by='python-api'</em>, <em>parent=None</em>, <em>publication_date=None</em>, <em>publication_end_date=None</em>, <em>in_navigation=False</em>, <em>soft_root=False</em>, <em>reverse_id=None</em>, <em>navigation_extenders=None</em>, <em>published=False</em>, <em>site=None</em>, <em>login_required=False</em>, <em>limit_visibility_in_menu=VISIBILITY_ALL</em>, <em>position=&quot;last-child&quot;</em>, <em>overwrite_url=None</em>, <em>xframe_options=Page.X_FRAME_OPTIONS_INHERIT</em>, <em>with_revision=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.create_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance and returns it. Also
creates a <code class="xref py py-class docutils literal"><span class="pre">cms.models.titlemodel.Title</span></code> instance for the specified
language.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>title</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Title of the page</li>
<li><strong>template</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Template to use for this page. Must be in <a class="reference internal" href="configuration.html#std:setting-CMS_TEMPLATES"><code class="xref std std-setting docutils literal"><span class="pre">CMS_TEMPLATES</span></code></a></li>
<li><strong>language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Language code for this page. Must be in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-LANGUAGES" title="(in Django v1.10)"><code class="docutils literal"><span class="pre">LANGUAGES</span></code></a></li>
<li><strong>menu_title</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Menu title for this page</li>
<li><strong>slug</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Slug for the page, by default uses a slugified version of <em>title</em></li>
<li><strong>apphook</strong> (string or <code class="xref py py-class docutils literal"><span class="pre">cms.app_base.CMSApp</span></code> sub-class) &#8211; Application to hook on this page, must be a valid apphook</li>
<li><strong>apphook_namespace</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Name of the apphook namespace</li>
<li><strong>redirect</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; URL redirect</li>
<li><strong>meta_description</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Description of this page for SEO</li>
<li><strong>created_by</strong> (string of <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/auth.html#django.contrib.auth.models.User" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></code></a> instance) &#8211; User that is creating this page</li>
<li><strong>parent</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; Parent page of this page</li>
<li><strong>publication_date</strong> (<a class="reference external" href="http://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.5)"><em>datetime</em></a>) &#8211; Date to publish this page</li>
<li><strong>publication_end_date</strong> (<a class="reference external" href="http://docs.python.org/3/library/datetime.html#module-datetime" title="(in Python v3.5)"><em>datetime</em></a>) &#8211; Date to unpublish this page</li>
<li><strong>in_navigation</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether this page should be in the navigation or not</li>
<li><strong>soft_root</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether this page is a soft root or not</li>
<li><strong>reverse_id</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Reverse ID of this page (for template tags)</li>
<li><strong>navigation_extenders</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Menu to attach to this page. Must be a valid menu</li>
<li><strong>published</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether this page should be published or not</li>
<li><strong>site</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/sites.html#django.contrib.sites.models.Site" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.sites.models.Site</span></code></a> instance) &#8211; Site to put this page on</li>
<li><strong>login_required</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether users must be logged in or not to view this page</li>
<li><strong>limit_menu_visibility</strong> (<a class="reference internal" href="#cms.api.VISIBILITY_ALL" title="cms.api.VISIBILITY_ALL"><code class="xref py py-data docutils literal"><span class="pre">VISIBILITY_ALL</span></code></a> or <a class="reference internal" href="#cms.api.VISIBILITY_USERS" title="cms.api.VISIBILITY_USERS"><code class="xref py py-data docutils literal"><span class="pre">VISIBILITY_USERS</span></code></a> or <a class="reference internal" href="#cms.api.VISIBILITY_ANONYMOUS" title="cms.api.VISIBILITY_ANONYMOUS"><code class="xref py py-data docutils literal"><span class="pre">VISIBILITY_ANONYMOUS</span></code></a>) &#8211; Limits visibility of this page in the menu</li>
<li><strong>position</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Where to insert this node if <em>parent</em> is given, must be <code class="docutils literal"><span class="pre">'first-child'</span></code> or <code class="docutils literal"><span class="pre">'last-child'</span></code></li>
<li><strong>overwrite_url</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Overwritten path for this page</li>
<li><strong>xframe_options</strong> (<em>integer</em>) &#8211; X Frame Option value for Clickjacking protection</li>
<li><strong>with_revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether to create a revision for the new page.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.create_title">
<code class="descclassname">cms.api.</code><code class="descname">create_title</code><span class="sig-paren">(</span><em>language</em>, <em>title</em>, <em>page</em>, <em>menu_title=None</em>, <em>slug=None</em>, <em>redirect=None</em>, <em>meta_description=None</em>, <em>parent=None</em>, <em>overwrite_url=None</em>, <em>with_revision=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.create_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="xref py py-class docutils literal"><span class="pre">cms.models.titlemodel.Title</span></code> instance and returns it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Language code for this page. Must be in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-LANGUAGES" title="(in Django v1.10)"><code class="docutils literal"><span class="pre">LANGUAGES</span></code></a></li>
<li><strong>title</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Title of the page</li>
<li><strong>page</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; The page for which to create this title</li>
<li><strong>menu_title</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Menu title for this page</li>
<li><strong>slug</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Slug for the page, by default uses a slugified version of <em>title</em></li>
<li><strong>redirect</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; URL redirect</li>
<li><strong>meta_description</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Description of this page for SEO</li>
<li><strong>parent</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; Used for automated slug generation</li>
<li><strong>overwrite_url</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Overwritten path for this page</li>
<li><strong>with_revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Whether to create a revision for the new page.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.add_plugin">
<code class="descclassname">cms.api.</code><code class="descname">add_plugin</code><span class="sig-paren">(</span><em>placeholder</em>, <em>plugin_type</em>, <em>language</em>, <em>position='last-child'</em>, <em>target=None</em>, <em>**data</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.add_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a plugin to a placeholder and returns it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>placeholder</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.placeholdermodel.Placeholder</span></code> instance) &#8211; Placeholder to add the plugin to</li>
<li><strong>plugin_type</strong> (string or <a class="reference internal" href="#cms.plugin_base.CMSPluginBase" title="cms.plugin_base.CMSPluginBase"><code class="xref py py-class docutils literal"><span class="pre">cms.plugin_base.CMSPluginBase</span></code></a> sub-class, must be a valid plugin) &#8211; What type of plugin to add</li>
<li><strong>language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Language code for this plugin, must be in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-LANGUAGES" title="(in Django v1.10)"><code class="docutils literal"><span class="pre">LANGUAGES</span></code></a></li>
<li><strong>position</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; Position to add this plugin to the placeholder, must be a valid django-mptt position</li>
<li><strong>target</strong> &#8211; Parent plugin. Must be plugin instance</li>
<li><strong>data</strong> (<em>kwargs</em>) &#8211; Data for the plugin type instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.create_page_user">
<code class="descclassname">cms.api.</code><code class="descname">create_page_user</code><span class="sig-paren">(</span><em>created_by</em>, <em>user</em>, <em>can_add_page=True</em>, <em>can_change_page=True</em>, <em>can_delete_page=True</em>, <em>can_recover_page=True</em>, <em>can_add_pageuser=True</em>, <em>can_change_pageuser=True</em>, <em>can_delete_pageuser=True</em>, <em>can_add_pagepermission=True</em>, <em>can_change_pagepermission=True</em>, <em>can_delete_pagepermission=True</em>, <em>grant_all=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.create_page_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a page user for the user provided and returns that page user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>created_by</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/auth.html#django.contrib.auth.models.User" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></code></a> instance) &#8211; The user that creates the page user</li>
<li><strong>user</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/auth.html#django.contrib.auth.models.User" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></code></a> instance) &#8211; The user to create the page user from</li>
<li><strong>can_*</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Permissions to give the user</li>
<li><strong>grant_all</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Grant all permissions to the user</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.assign_user_to_page">
<code class="descclassname">cms.api.</code><code class="descname">assign_user_to_page</code><span class="sig-paren">(</span><em>page</em>, <em>user</em>, <em>grant_on=ACCESS_PAGE_AND_DESCENDANTS</em>, <em>can_add=False</em>, <em>can_change=False</em>, <em>can_delete=False</em>, <em>can_change_advanced_settings=False</em>, <em>can_publish=False</em>, <em>can_change_permissions=False</em>, <em>can_move_page=False</em>, <em>grant_all=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.assign_user_to_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns a user to a page and gives them some permissions. Returns the
<code class="xref py py-class docutils literal"><span class="pre">cms.models.permissionmodels.PagePermission</span></code> object that gets
created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>page</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; The page to assign the user to</li>
<li><strong>user</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/auth.html#django.contrib.auth.models.User" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></code></a> instance) &#8211; The user to assign to the page</li>
<li><strong>grant_on</strong> (<code class="xref py py-data docutils literal"><span class="pre">cms.models.permissionmodels.ACCESS_PAGE</span></code>, <code class="xref py py-data docutils literal"><span class="pre">cms.models.permissionmodels.ACCESS_CHILDREN</span></code>, <code class="xref py py-data docutils literal"><span class="pre">cms.models.permissionmodels.ACCESS_DESCENDANTS</span></code> or <code class="xref py py-data docutils literal"><span class="pre">cms.models.permissionmodels.ACCESS_PAGE_AND_DESCENDANTS</span></code>) &#8211; Controls which pages are affected</li>
<li><strong>can_*</strong> &#8211; Permissions to grant</li>
<li><strong>grant_all</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Grant all permissions to the user</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.publish_page">
<code class="descclassname">cms.api.</code><code class="descname">publish_page</code><span class="sig-paren">(</span><em>page</em>, <em>user</em>, <em>language</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.publish_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Publishes a page.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>page</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; The page to publish</li>
<li><strong>user</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/auth.html#django.contrib.auth.models.User" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.auth.models.User</span></code></a> instance) &#8211; The user that performs this action</li>
<li><strong>language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; The target language to publish to</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cms.api.publish_pages">
<code class="descclassname">cms.api.</code><code class="descname">publish_pages</code><span class="sig-paren">(</span><em>include_unpublished=False</em>, <em>language=None</em>, <em>site=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.api.publish_pages" title="Permalink to this definition">¶</a></dt>
<dd><p>Publishes multiple pages defined by parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>include_unpublished</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Set to <code class="docutils literal"><span class="pre">True</span></code> to publish all drafts, including unpublished ones; otherwise, only already published pages will be republished</li>
<li><strong>language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; If given, only pages in this language will be published; otherwise, all languages will be published</li>
<li><strong>site</strong> (<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/contrib/sites.html#django.contrib.sites.models.Site" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.contrib.sites.models.Site</span></code></a> instance) &#8211; Specify a site to publish pages for specified site only; if not specified pages from all sites are published</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descname">get_page_draft(page):</code></dt>
<dd><p>Returns the draft version of a page, regardless if the passed in
page is a published version or a draft version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>page</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; The page to get the draft version</td>
</tr>
<tr class="field-even field"><th class="field-name">Return page:</th><td class="field-body">draft version of the page</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descname">copy_plugins_to_language(page, source_language, target_language, only_empty=True):</code></dt>
<dd><p>Copy the plugins to another language in the same page for all the page
placeholders.</p>
<p>By default plugins are copied only if placeholder has no plugin for the target language; use <code class="docutils literal"><span class="pre">only_empty=False</span></code> to change this.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function skips permissions checks</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>page</strong> (<code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code> instance) &#8211; the page to copy</li>
<li><strong>source_language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; The source language code, must be in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-LANGUAGES" title="(in Django v1.10)"><code class="docutils literal"><span class="pre">LANGUAGES</span></code></a></li>
<li><strong>target_language</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; The source language code, must be in <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/settings.html#std:setting-LANGUAGES" title="(in Django v1.10)"><code class="docutils literal"><span class="pre">LANGUAGES</span></code></a></li>
<li><strong>only_empty</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; if False, plugin are copied even if plugins exists in the
target language (on a placeholder basis).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return int:</th><td class="field-body"><p class="first last">number of copied plugins</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="example-workflows">
<h3>Example workflows<a class="headerlink" href="#example-workflows" title="Permalink to this headline">¶</a></h3>
<p>Create a page called <code class="docutils literal"><span class="pre">'My</span> <span class="pre">Page</span></code> using the template <code class="docutils literal"><span class="pre">'my_template.html'</span></code> and
add a text plugin with the content <code class="docutils literal"><span class="pre">'hello</span> <span class="pre">world'</span></code>. This is done in English:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">cms.api</span> <span class="kn">import</span> <span class="n">create_page</span><span class="p">,</span> <span class="n">add_plugin</span>

<span class="n">page</span> <span class="o">=</span> <span class="n">create_page</span><span class="p">(</span><span class="s">&#39;My Page&#39;</span><span class="p">,</span> <span class="s">&#39;my_template.html&#39;</span><span class="p">,</span> <span class="s">&#39;en&#39;</span><span class="p">)</span>
<span class="n">placeholder</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">placeholders</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">slot</span><span class="o">=</span><span class="s">&#39;body&#39;</span><span class="p">)</span>
<span class="n">add_plugin</span><span class="p">(</span><span class="n">placeholder</span><span class="p">,</span> <span class="s">&#39;TextPlugin&#39;</span><span class="p">,</span> <span class="s">&#39;en&#39;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="s">&#39;hello world&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-cms.constants">
<span id="cms-constants"></span><h2>cms.constants<a class="headerlink" href="#module-cms.constants" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="cms.constants.TEMPLATE_INHERITANCE_MAGIC">
<code class="descclassname">cms.constants.</code><code class="descname">TEMPLATE_INHERITANCE_MAGIC</code><a class="headerlink" href="#cms.constants.TEMPLATE_INHERITANCE_MAGIC" title="Permalink to this definition">¶</a></dt>
<dd><p>The token used to identify when a user selects &#8220;inherit&#8221; as template for a
page.</p>
</dd></dl>

<dl class="data">
<dt id="cms.constants.LEFT">
<code class="descclassname">cms.constants.</code><code class="descname">LEFT</code><a class="headerlink" href="#cms.constants.LEFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a position indicator in the toolbar.</p>
</dd></dl>

<dl class="data">
<dt id="cms.constants.RIGHT">
<code class="descclassname">cms.constants.</code><code class="descname">RIGHT</code><a class="headerlink" href="#cms.constants.RIGHT" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a position indicator in the toolbar.</p>
</dd></dl>

<dl class="data">
<dt id="cms.constants.REFRESH">
<code class="descclassname">cms.constants.</code><code class="descname">REFRESH</code><a class="headerlink" href="#cms.constants.REFRESH" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant used by the toolbar.</p>
</dd></dl>

<dl class="data">
<dt id="cms.constants.EXPIRE_NOW">
<code class="descclassname">cms.constants.</code><code class="descname">EXPIRE_NOW</code><a class="headerlink" href="#cms.constants.EXPIRE_NOW" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant of 0 (zero) used for cache control headers</p>
</dd></dl>

<dl class="data">
<dt id="cms.constants.MAX_EXPIRATION_TTL">
<code class="descclassname">cms.constants.</code><code class="descname">MAX_EXPIRATION_TTL</code><a class="headerlink" href="#cms.constants.MAX_EXPIRATION_TTL" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant of 31536000 or 365 days in seconds used for cache control headers</p>
</dd></dl>

</div>
<div class="section" id="module-cms.plugin_base">
<span id="cms-plugin-base"></span><h2>cms.plugin_base<a class="headerlink" href="#module-cms.plugin_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cms.plugin_base.CMSPluginBase">
<em class="property">class </em><code class="descclassname">cms.plugin_base.</code><code class="descname">CMSPluginBase</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherits <code class="docutils literal"><span class="pre">django.contrib.admin.options.ModelAdmin</span></code>.</p>
<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.admin_preview">
<code class="descname">admin_preview</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.admin_preview" title="Permalink to this definition">¶</a></dt>
<dd><p>Defaults to <code class="docutils literal"><span class="pre">False</span></code>, if <code class="docutils literal"><span class="pre">True</span></code>, displays a preview in the admin.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.cache">
<code class="descname">cache</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>If present and set to <code class="docutils literal"><span class="pre">False</span></code>, the plugin will prevent the caching of
the resulting page.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Setting this to <code class="docutils literal"><span class="pre">False</span></code> will effectively disable the
CMS page cache and all upstream caches for pages where
the plugin appears. This may be useful in certain cases
but for general cache management, consider using the much
more capable <a class="reference internal" href="#cms.plugin_base.CMSPluginBase.get_cache_expiration" title="cms.plugin_base.CMSPluginBase.get_cache_expiration"><code class="xref py py-meth docutils literal"><span class="pre">get_cache_expiration()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.change_form_template">
<code class="descname">change_form_template</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.change_form_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom template to use to render the form to edit this plugin.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.form">
<code class="descname">form</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.form" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom form class to be used to edit this plugin.</p>
</dd></dl>

<dl class="method">
<dt id="cms.plugin_base.CMSPluginBase.get_plugin_urls">
<code class="descname">get_plugin_urls</code><span class="sig-paren">(</span><em>instance</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.get_plugin_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns URL patterns for which the plugin wants to register views for.
They are included under django CMS PageAdmin in the plugin path
(e.g.: <code class="docutils literal"><span class="pre">/admin/cms/page/plugin/&lt;plugin-name&gt;/</span></code> in the default case).
Useful if your plugin needs to asynchronously talk to the admin.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.model">
<code class="descname">model</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the <code class="xref py py-class docutils literal"><span class="pre">CMSPlugin</span></code> model we created earlier. If you don&#8217;t need
model because you just want to display some template logic, use
<code class="xref py py-class docutils literal"><span class="pre">CMSPlugin</span></code> from <code class="xref py py-mod docutils literal"><span class="pre">cms.models</span></code> as the model instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.module">
<code class="descname">module</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.module" title="Permalink to this definition">¶</a></dt>
<dd><p>Will group the plugin in the plugin editor. If module is <code class="docutils literal"><span class="pre">None</span></code>,
plugin is grouped &#8220;Generic&#8221; group.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.name">
<code class="descname">name</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Will be displayed in the plugin editor.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.render_plugin">
<code class="descname">render_plugin</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.render_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal"><span class="pre">False</span></code>, this plugin will not be rendered at all.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.render_template">
<code class="descname">render_template</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.render_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Will be rendered with the context returned by the render function.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.plugin_base.CMSPluginBase.text_enabled">
<code class="descname">text_enabled</code><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.text_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this plugin can be used in text plugins or not.</p>
</dd></dl>

<dl class="method">
<dt id="cms.plugin_base.CMSPluginBase.icon_alt">
<code class="descname">icon_alt</code><span class="sig-paren">(</span><em>instance</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.icon_alt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alt text for the icon used in text plugins, see
<a class="reference internal" href="#cms.plugin_base.CMSPluginBase.icon_src" title="cms.plugin_base.CMSPluginBase.icon_src"><code class="xref py py-meth docutils literal"><span class="pre">icon_src()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.plugin_base.CMSPluginBase.icon_src">
<code class="descname">icon_src</code><span class="sig-paren">(</span><em>instance</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.icon_src" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the URL to the icon to be used for the given instance when that
instance is used inside a text plugin.</p>
</dd></dl>

<dl class="method">
<dt id="cms.plugin_base.CMSPluginBase.get_cache_expiration">
<code class="descname">get_cache_expiration</code><span class="sig-paren">(</span><em>request</em>, <em>instance</em>, <em>placeholder</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.get_cache_expiration" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides expiration value to the placeholder, and in turn to the page
for determining the appropriate Cache-Control headers to add to the
HTTPResponse object.</p>
<p>Must return one of:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><code class="docutils literal"><span class="pre">None</span></code>:</th><td class="field-body"><p class="first">This means the placeholder and the page will not even consider
this plugin when calculating the page expiration.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name"><code class="docutils literal"><span class="pre">datetime</span></code>:</th><td class="field-body"><p class="first">A specific date and time (timezone-aware) in the future when
this plugin&#8217;s content expires.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The returned <code class="docutils literal"><span class="pre">datetime</span></code> must be timezone-aware
or the plugin will be ignored (with a warning)
during expiration calculations.</p>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name"><code class="docutils literal"><span class="pre">int</span></code>:</th><td class="field-body"><p class="first last">An number of seconds that this plugin&#8217;s content can be cached.</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>There are constants are defined in <code class="docutils literal"><span class="pre">cms.constants</span></code> that may be
useful: <code class="xref py py-data docutils literal"><span class="pre">EXPIRE_NOW</span></code> and <code class="xref py py-data docutils literal"><span class="pre">MAX_EXPIRATION_TTL</span></code>.</p>
<p>An integer value of <code class="docutils literal"><span class="pre">0</span></code> (zero) or <code class="xref py py-data docutils literal"><span class="pre">EXPIRE_NOW</span></code> effectively means
&#8220;do not cache&#8221;. Negative values will be treated as <code class="xref py py-data docutils literal"><span class="pre">EXPIRE_NOW</span></code>.
Values exceeding the value <code class="xref py py-data docutils literal"><span class="pre">MAX_EXPIRATION_TTL</span></code> will be set to
that value.</p>
<p>Negative <code class="docutils literal"><span class="pre">timedelta</span></code> values or those greater than <code class="xref py py-data docutils literal"><span class="pre">MAX_EXPIRATION_TTL</span></code>
will also be ranged in the same manner.</p>
<p>Similarly, <code class="docutils literal"><span class="pre">datetime</span></code> values earlier than now will be treated as
<code class="xref py py-data docutils literal"><span class="pre">EXPIRE_NOW</span></code>. Values greater than <code class="xref py py-data docutils literal"><span class="pre">MAX_EXPIRATION_TTL</span></code> seconds in the
future will be treated as <code class="xref py py-data docutils literal"><span class="pre">MAX_EXPIRATION_TTL</span></code> seconds in the future.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> &#8211; Relevant <code class="docutils literal"><span class="pre">HTTPRequest</span></code> instance.</li>
<li><strong>instance</strong> &#8211; The <code class="docutils literal"><span class="pre">CMSPlugin</span></code> instance that is being rendered.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">datetime</span></code> or <code class="docutils literal"><span class="pre">int</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cms.plugin_base.CMSPluginBase.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>context</em>, <em>instance</em>, <em>placeholder</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.plugin_base.CMSPluginBase.render" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns the context to be used to render the template
specified in <a class="reference internal" href="#cms.plugin_base.CMSPluginBase.render_template" title="cms.plugin_base.CMSPluginBase.render_template"><code class="xref py py-attr docutils literal"><span class="pre">render_template</span></code></a>.</p>
<p>It&#8217;s recommended to always populate the context with default values
by calling the render method of the super class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">placeholder</span><span class="p">):</span>
    <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">MyPlugin</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">placeholder</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">context</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> &#8211; Current template context.</li>
<li><strong>instance</strong> &#8211; Plugin instance that is being rendered.</li>
<li><strong>placeholder</strong> &#8211; Name of the placeholder the plugin is in.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">dict</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cms-toolbar">
<span id="toolbar-api-reference"></span><h2>cms.toolbar<a class="headerlink" href="#cms-toolbar" title="Permalink to this headline">¶</a></h2>
<p>All methods taking a <code class="docutils literal"><span class="pre">side</span></code> argument expect either
<a class="reference internal" href="#cms.constants.LEFT" title="cms.constants.LEFT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.LEFT</span></code></a> or <a class="reference internal" href="#cms.constants.RIGHT" title="cms.constants.RIGHT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.RIGHT</span></code></a> for that
argument.</p>
<p>Methods accepting the <code class="docutils literal"><span class="pre">position</span></code> argument can insert items at a specific
position. This can be either <code class="docutils literal"><span class="pre">None</span></code> to insert at the end, an integer
index at which to insert the item, a <a class="reference internal" href="#cms.toolbar.items.ItemSearchResult" title="cms.toolbar.items.ItemSearchResult"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.items.ItemSearchResult</span></code></a> to insert
it <em>before</em> that search result or a <a class="reference internal" href="#cms.toolbar.items.BaseItem" title="cms.toolbar.items.BaseItem"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.items.BaseItem</span></code></a> instance to insert
it <em>before</em> that item.</p>
<div class="section" id="module-cms.toolbar.toolbar">
<span id="cms-toolbar-toolbar"></span><h3>cms.toolbar.toolbar<a class="headerlink" href="#module-cms.toolbar.toolbar" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="cms.toolbar.toolbar.CMSToolbar">
<em class="property">class </em><code class="descclassname">cms.toolbar.toolbar.</code><code class="descname">CMSToolbar</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar" title="Permalink to this definition">¶</a></dt>
<dd><p>The toolbar class providing a Python API to manipulate the toolbar. Note
that some internal attributes are not documented here.</p>
<p>All methods taking a <code class="docutils literal"><span class="pre">position</span></code> argument expect either
<a class="reference internal" href="#cms.constants.LEFT" title="cms.constants.LEFT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.LEFT</span></code></a> or <a class="reference internal" href="#cms.constants.RIGHT" title="cms.constants.RIGHT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.RIGHT</span></code></a> for that
argument.</p>
<p>This class inherits <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin" title="cms.toolbar.items.ToolbarMixin"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.items.ToolbarMixin</span></code></a>, so please
check that reference as well.</p>
<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.is_staff">
<code class="descname">is_staff</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.is_staff" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the current user is a staff user or not.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.edit_mode">
<code class="descname">edit_mode</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.edit_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the toolbar is in edit mode.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.build_mode">
<code class="descname">build_mode</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.build_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the toolbar is in build mode.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.show_toolbar">
<code class="descname">show_toolbar</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.show_toolbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the toolbar should be shown or not.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.csrf_token">
<code class="descname">csrf_token</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.csrf_token" title="Permalink to this definition">¶</a></dt>
<dd><p>The CSRF token of this request</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.toolbar_language">
<code class="descname">toolbar_language</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.toolbar_language" title="Permalink to this definition">¶</a></dt>
<dd><p>Language used by the toolbar.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.toolbar.CMSToolbar.watch_models">
<code class="descname">watch_models</code><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.watch_models" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of model this toolbar works on; used for redirection after editing
(<a class="reference internal" href="../how_to/toolbar.html#url-changes"><span>Detecting URL changes</span></a>).</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.toolbar.CMSToolbar.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>item</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Low level API to add items.</p>
<p>Adds an item, which must be an instance of
<a class="reference internal" href="#cms.toolbar.items.BaseItem" title="cms.toolbar.items.BaseItem"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.items.BaseItem</span></code></a>, to the toolbar.</p>
<p>This method should only be used for custom item classes, as all built-in
item classes have higher level APIs.</p>
<p>Read above for information on <code class="docutils literal"><span class="pre">position</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.toolbar.CMSToolbar.remove_item">
<code class="descname">remove_item</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.remove_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an item from the toolbar or raises a <a class="reference external" href="http://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.5)"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code></a> if it&#8217;s
not found.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.toolbar.CMSToolbar.get_or_create_menu">
<code class="descname">get_or_create_menu</code><span class="sig-paren">(</span><em>key. verbose_name</em>, <em>side=LEFT</em>, <em>position=NOne</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.get_or_create_menu" title="Permalink to this definition">¶</a></dt>
<dd><p>If a menu with <code class="docutils literal"><span class="pre">key</span></code> already exists, this method will return that
menu. Otherwise it will create a menu for that <code class="docutils literal"><span class="pre">key</span></code> with the given
<code class="docutils literal"><span class="pre">verbose_name</span></code> on <code class="docutils literal"><span class="pre">side</span></code> at <code class="docutils literal"><span class="pre">position</span></code> and return it.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.toolbar.CMSToolbar.add_button">
<code class="descname">add_button</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>extra_wrapper_classes=None</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.add_button" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a button to the toolbar. <code class="docutils literal"><span class="pre">extra_wrapper_classes</span></code> will be applied
to the wrapping <code class="docutils literal"><span class="pre">div</span></code> while <code class="docutils literal"><span class="pre">extra_classes</span></code> are applied to the
<code class="docutils literal"><span class="pre">&lt;a&gt;</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.toolbar.CMSToolbar.add_button_list">
<code class="descname">add_button_list</code><span class="sig-paren">(</span><em>extra_classes=None</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.toolbar.CMSToolbar.add_button_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an (empty) button list to the toolbar and returns it. See
<a class="reference internal" href="#cms.toolbar.items.ButtonList" title="cms.toolbar.items.ButtonList"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.items.ButtonList</span></code></a> for further information.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cms-toolbar-items">
<h3>cms.toolbar.items<a class="headerlink" href="#cms-toolbar-items" title="Permalink to this headline">¶</a></h3>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p><strong>Overlay</strong> and <strong>sideframe</strong></p>
<p>Then django CMS <em>sideframe</em> has been replaced with an <em>overlay</em> mechanism. The API still refers
to the <code class="docutils literal"><span class="pre">sideframe</span></code>, because it is invoked in the same way, and what has changed is merely the
behaviour in the user&#8217;s browser.</p>
<p class="last">In other words, <em>sideframe</em> and the <em>overlay</em> refer to different versions of the same thing.</p>
</div>
<span class="target" id="module-cms.toolbar.items"></span><dl class="class">
<dt id="cms.toolbar.items.ItemSearchResult">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">ItemSearchResult</code><a class="headerlink" href="#cms.toolbar.items.ItemSearchResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for the find APIs in <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin" title="cms.toolbar.items.ToolbarMixin"><code class="xref py py-class docutils literal"><span class="pre">ToolbarMixin</span></code></a>. Supports addition and
subtraction of numbers. Can be cast to an integer.</p>
<dl class="attribute">
<dt id="cms.toolbar.items.ItemSearchResult.item">
<code class="descname">item</code><a class="headerlink" href="#cms.toolbar.items.ItemSearchResult.item" title="Permalink to this definition">¶</a></dt>
<dd><p>The item found.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.items.ItemSearchResult.index">
<code class="descname">index</code><a class="headerlink" href="#cms.toolbar.items.ItemSearchResult.index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.ToolbarMixin">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">ToolbarMixin</code><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides APIs shared between <a class="reference internal" href="#cms.toolbar.toolbar.CMSToolbar" title="cms.toolbar.toolbar.CMSToolbar"><code class="xref py py-class docutils literal"><span class="pre">cms.toolbar.toolbar.CMSToolbar</span></code></a> and
<a class="reference internal" href="#cms.toolbar.items.Menu" title="cms.toolbar.items.Menu"><code class="xref py py-class docutils literal"><span class="pre">Menu</span></code></a>.</p>
<p>The <code class="docutils literal"><span class="pre">active</span></code> and <code class="docutils literal"><span class="pre">disabled</span></code> flags taken by all methods of this class
specify the state of the item added.</p>
<p><code class="docutils literal"><span class="pre">extra_classes</span></code> should be either <code class="docutils literal"><span class="pre">None</span></code> or a list of class names as
strings.</p>
<dl class="attribute">
<dt id="cms.toolbar.items.ToolbarMixin.REFRESH_PAGE">
<code class="descname">REFRESH_PAGE</code><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.REFRESH_PAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to be used with <code class="docutils literal"><span class="pre">on_close</span></code> to refresh the current page when
the frame is closed.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.items.ToolbarMixin.LEFT">
<code class="descname">LEFT</code><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.LEFT" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to be used with <code class="docutils literal"><span class="pre">side</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.items.ToolbarMixin.RIGHT">
<code class="descname">RIGHT</code><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.RIGHT" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant to be used with <code class="docutils literal"><span class="pre">side</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.get_item_count">
<code class="descname">get_item_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.get_item_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of items in the toolbar or menu.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>item</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Low level API to add items, adds the <code class="docutils literal"><span class="pre">item</span></code> to the toolbar or menu
and makes it searchable. <code class="docutils literal"><span class="pre">item</span></code> must be an instance of
<a class="reference internal" href="#cms.toolbar.items.BaseItem" title="cms.toolbar.items.BaseItem"><code class="xref py py-class docutils literal"><span class="pre">BaseItem</span></code></a>. Read above for information about the <code class="docutils literal"><span class="pre">position</span></code>
argument.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.remove_item">
<code class="descname">remove_item</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.remove_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes <code class="docutils literal"><span class="pre">item</span></code> from the toolbar or menu. If the item can&#8217;t be found,
a <a class="reference external" href="http://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.5)"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code></a> is raised.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.find_items">
<code class="descname">find_items</code><span class="sig-paren">(</span><em>item_type</em>, <em>**attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.find_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of <a class="reference internal" href="#cms.toolbar.items.ItemSearchResult" title="cms.toolbar.items.ItemSearchResult"><code class="xref py py-class docutils literal"><span class="pre">ItemSearchResult</span></code></a> objects matching all items
of <code class="docutils literal"><span class="pre">item_type</span></code>, which must be a sub-class of <a class="reference internal" href="#cms.toolbar.items.BaseItem" title="cms.toolbar.items.BaseItem"><code class="xref py py-class docutils literal"><span class="pre">BaseItem</span></code></a>, where
all attributes in <code class="docutils literal"><span class="pre">attributes</span></code> match.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.find_first">
<code class="descname">find_first</code><span class="sig-paren">(</span><em>item_type</em>, <em>**attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.find_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first <a class="reference internal" href="#cms.toolbar.items.ItemSearchResult" title="cms.toolbar.items.ItemSearchResult"><code class="xref py py-class docutils literal"><span class="pre">ItemSearchResult</span></code></a> that matches the search or
<code class="docutils literal"><span class="pre">None</span></code>. The search strategy is the same as in <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.find_items" title="cms.toolbar.items.ToolbarMixin.find_items"><code class="xref py py-meth docutils literal"><span class="pre">find_items()</span></code></a>.
Since positional insertion allows <code class="docutils literal"><span class="pre">None</span></code>, it&#8217;s safe to use the return
value of this method as the position argument to insertion APIs.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.add_sideframe_item">
<code class="descname">add_sideframe_item</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>on_close=None</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.add_sideframe_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an item which opens <code class="docutils literal"><span class="pre">url</span></code> in the sideframe and returns it.</p>
<p><code class="docutils literal"><span class="pre">on_close</span></code> can be set to <code class="docutils literal"><span class="pre">None</span></code> to do nothing when the sideframe
closes, <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.REFRESH_PAGE" title="cms.toolbar.items.ToolbarMixin.REFRESH_PAGE"><code class="xref py py-attr docutils literal"><span class="pre">REFRESH_PAGE</span></code></a> to refresh the page when it
closes or a URL to open once it closes.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.add_modal_item">
<code class="descname">add_modal_item</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>on_close=REFRESH_PAGE</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.add_modal_item" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.add_sideframe_item" title="cms.toolbar.items.ToolbarMixin.add_sideframe_item"><code class="xref py py-meth docutils literal"><span class="pre">add_sideframe_item()</span></code></a>, but opens the <code class="docutils literal"><span class="pre">url</span></code> in a
modal dialog instead of the sideframe.</p>
<p><code class="docutils literal"><span class="pre">on_close</span></code> can be set to <code class="docutils literal"><span class="pre">None</span></code> to do nothing when the side modal
closes, <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.REFRESH_PAGE" title="cms.toolbar.items.ToolbarMixin.REFRESH_PAGE"><code class="xref py py-attr docutils literal"><span class="pre">REFRESH_PAGE</span></code></a> to refresh the page when it
closes or a URL to open once it closes.</p>
<p>Note: The default value for <code class="docutils literal"><span class="pre">on_close</span></code> is different in <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.add_sideframe_item" title="cms.toolbar.items.ToolbarMixin.add_sideframe_item"><code class="xref py py-meth docutils literal"><span class="pre">add_sideframe_item()</span></code></a> then in <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin.add_modal_item" title="cms.toolbar.items.ToolbarMixin.add_modal_item"><code class="xref py py-meth docutils literal"><span class="pre">add_modal_item()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.add_link_item">
<code class="descname">add_link_item</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.add_link_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an item that simply opens <code class="docutils literal"><span class="pre">url</span></code> and returns it.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ToolbarMixin.add_ajax_item">
<code class="descname">add_ajax_item</code><span class="sig-paren">(</span><em>name</em>, <em>action</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>data=None</em>, <em>question=None</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ToolbarMixin.add_ajax_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an item which sends a POST request to <code class="docutils literal"><span class="pre">action</span></code> with <code class="docutils literal"><span class="pre">data</span></code>.
<code class="docutils literal"><span class="pre">data</span></code> should be <code class="docutils literal"><span class="pre">None</span></code> or a dictionary, the CSRF token will
automatically be added to it.</p>
<p>If <code class="docutils literal"><span class="pre">question</span></code> is set to a string, it will be asked before the
request is sent to confirm the user wants to complete this action.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.BaseItem">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">BaseItem</code><span class="sig-paren">(</span><em>position</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.BaseItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Base item class.</p>
<dl class="attribute">
<dt id="cms.toolbar.items.BaseItem.template">
<code class="descname">template</code><a class="headerlink" href="#cms.toolbar.items.BaseItem.template" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be set by sub-classes and point to a Django template</p>
</dd></dl>

<dl class="attribute">
<dt id="cms.toolbar.items.BaseItem.side">
<code class="descname">side</code><a class="headerlink" href="#cms.toolbar.items.BaseItem.side" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be either <a class="reference internal" href="#cms.constants.LEFT" title="cms.constants.LEFT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.LEFT</span></code></a> or
<a class="reference internal" href="#cms.constants.RIGHT" title="cms.constants.RIGHT"><code class="xref py py-data docutils literal"><span class="pre">cms.constants.RIGHT</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.BaseItem.render">
<code class="descname">render</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.BaseItem.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the item and returns it as a string. By default calls
<a class="reference internal" href="#cms.toolbar.items.BaseItem.get_context" title="cms.toolbar.items.BaseItem.get_context"><code class="xref py py-meth docutils literal"><span class="pre">get_context()</span></code></a> and renders <a class="reference internal" href="#cms.toolbar.items.BaseItem.template" title="cms.toolbar.items.BaseItem.template"><code class="xref py py-attr docutils literal"><span class="pre">template</span></code></a> with the context
returned.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.BaseItem.get_context">
<code class="descname">get_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.BaseItem.get_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the context (as dictionary) for this item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.Menu">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">Menu</code><span class="sig-paren">(</span><em>name</em>, <em>csrf_token</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.Menu" title="Permalink to this definition">¶</a></dt>
<dd><p>The menu item class. Inherits <a class="reference internal" href="#cms.toolbar.items.ToolbarMixin" title="cms.toolbar.items.ToolbarMixin"><code class="xref py py-class docutils literal"><span class="pre">ToolbarMixin</span></code></a> and provides the APIs
documented on it.</p>
<p>The <code class="docutils literal"><span class="pre">csrf_token</span></code> must be set as this class provides high level APIs to
add items to it.</p>
<dl class="method">
<dt id="cms.toolbar.items.Menu.get_or_create_menu">
<code class="descname">get_or_create_menu</code><span class="sig-paren">(</span><em>key</em>, <em>verbose_name</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.Menu.get_or_create_menu" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as <a class="reference internal" href="#cms.toolbar.toolbar.CMSToolbar.get_or_create_menu" title="cms.toolbar.toolbar.CMSToolbar.get_or_create_menu"><code class="xref py py-meth docutils literal"><span class="pre">cms.toolbar.toolbar.CMSToolbar.get_or_create_menu()</span></code></a> but adds
the menu as a sub menu and returns a <a class="reference internal" href="#cms.toolbar.items.SubMenu" title="cms.toolbar.items.SubMenu"><code class="xref py py-class docutils literal"><span class="pre">SubMenu</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.Menu.add_break">
<code class="descname">add_break</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.Menu.add_break" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a visual break in the menu, useful for grouping items, and
returns it. <code class="docutils literal"><span class="pre">identifier</span></code> may be used to make this item searchable.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.SubMenu">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">SubMenu</code><span class="sig-paren">(</span><em>name</em>, <em>csrf_token</em>, <em>side=LEFT</em>, <em>position=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.SubMenu" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#cms.toolbar.items.Menu" title="cms.toolbar.items.Menu"><code class="xref py py-class docutils literal"><span class="pre">Menu</span></code></a> but without the <a class="reference internal" href="#cms.toolbar.items.Menu.get_or_create_menu" title="cms.toolbar.items.Menu.get_or_create_menu"><code class="xref py py-meth docutils literal"><span class="pre">Menu.get_or_create_menu()</span></code></a> method.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.LinkItem">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">LinkItem</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>side=LEFT</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.LinkItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple link item.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.SideframeItem">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">SideframeItem</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>on_close=None</em>, <em>side=LEFT</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.SideframeItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Item that opens <code class="docutils literal"><span class="pre">url</span></code> in sideframe.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.AjaxItem">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">AjaxItem</code><span class="sig-paren">(</span><em>name</em>, <em>action</em>, <em>csrf_token</em>, <em>data=None</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>question=None</em>, <em>side=LEFT</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.AjaxItem" title="Permalink to this definition">¶</a></dt>
<dd><p>An item which posts <code class="docutils literal"><span class="pre">data</span></code> to <code class="docutils literal"><span class="pre">action</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.ModalItem">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">ModalItem</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em>, <em>on_close=None</em>, <em>side=LEFT</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ModalItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Item that opens <code class="docutils literal"><span class="pre">url</span></code> in the modal.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.Break">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">Break</code><span class="sig-paren">(</span><em>identifier=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.Break" title="Permalink to this definition">¶</a></dt>
<dd><p>A visual break for menus. <code class="docutils literal"><span class="pre">identifier</span></code> may be provided to make this item
searchable. Since breaks can only be within menus, they have no <code class="docutils literal"><span class="pre">side</span></code>
attribute.</p>
</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.ButtonList">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">ButtonList</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>extra_classes=None</em>, <em>side=LEFT</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ButtonList" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of one or more buttons.</p>
<p>The <code class="docutils literal"><span class="pre">identifier</span></code> may be provided to make this item searchable.</p>
<dl class="method">
<dt id="cms.toolbar.items.ButtonList.add_item">
<code class="descname">add_item</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ButtonList.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <code class="docutils literal"><span class="pre">item</span></code> to the list of buttons. <code class="docutils literal"><span class="pre">item</span></code> must be an instance of
<a class="reference internal" href="#cms.toolbar.items.Button" title="cms.toolbar.items.Button"><code class="xref py py-class docutils literal"><span class="pre">Button</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cms.toolbar.items.ButtonList.add_button">
<code class="descname">add_button</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.ButtonList.add_button" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a <a class="reference internal" href="#cms.toolbar.items.Button" title="cms.toolbar.items.Button"><code class="xref py py-class docutils literal"><span class="pre">Button</span></code></a> to the list of buttons and returns it.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cms.toolbar.items.Button">
<em class="property">class </em><code class="descclassname">cms.toolbar.items.</code><code class="descname">Button</code><span class="sig-paren">(</span><em>name</em>, <em>url</em>, <em>active=False</em>, <em>disabled=False</em>, <em>extra_classes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cms.toolbar.items.Button" title="Permalink to this definition">¶</a></dt>
<dd><p>A button to be used with <a class="reference internal" href="#cms.toolbar.items.ButtonList" title="cms.toolbar.items.ButtonList"><code class="xref py py-class docutils literal"><span class="pre">ButtonList</span></code></a>. Opens <code class="docutils literal"><span class="pre">url</span></code> when selected.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-menus.base">
<span id="menus-base"></span><h2>menus.base<a class="headerlink" href="#module-menus.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="menus.base.NavigationNode">
<em class="property">class </em><code class="descclassname">menus.base.</code><code class="descname">NavigationNode</code><span class="sig-paren">(</span><em>title, url, id[, parent_id=None][, parent_namespace=None][, attr=None][, visible=True]</em><span class="sig-paren">)</span><a class="headerlink" href="#menus.base.NavigationNode" title="Permalink to this definition">¶</a></dt>
<dd><p>A navigation node in a menu tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>title</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; The title to display this menu item with.</li>
<li><strong>url</strong> (<a class="reference external" href="http://docs.python.org/3/library/string.html#module-string" title="(in Python v3.5)"><em>string</em></a>) &#8211; The URL associated with this menu item.</li>
<li><strong>id</strong> &#8211; Unique (for the current tree) ID of this item.</li>
<li><strong>parent_id</strong> &#8211; Optional, ID of the parent item.</li>
<li><strong>parent_namespace</strong> &#8211; Optional, namespace of the parent.</li>
<li><strong>attr</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a>) &#8211; Optional, dictionary of additional information to store on
this node.</li>
<li><strong>visible</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) &#8211; Optional, defaults to <code class="docutils literal"><span class="pre">True</span></code>, whether this item is
visible or not.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="menus.base.NavigationNode.attr">
<code class="descname">attr</code><a class="headerlink" href="#menus.base.NavigationNode.attr" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of various additional information describing the node.
Nodes that represent CMS pages have the following keys in attr:</p>
<ul class="simple">
<li><strong>auth_required</strong> (<em>bool</em>) – is authentication required to access this page</li>
<li><strong>is_page</strong> (<em>bool</em>) – Always True</li>
<li><strong>navigation_extenders</strong> (<em>list</em>) – navigation extenders connected to this node (including Apphooks)</li>
<li><strong>redirect_url</strong> (<em>str</em>) – redirect URL of page (if any)</li>
<li><strong>reverse_id</strong> (<em>str</em>) – unique identifier for the page</li>
<li><strong>soft_root</strong> (<em>bool</em>) – whether page is a soft root</li>
<li><strong>visible_for_authenticated</strong> (<em>bool</em>) – visible for authenticated users</li>
<li><strong>visible_for_anonymous</strong> (<em>bool</em>) – visible for anonymous users</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="menus.base.NavigationNode.get_descendants">
<code class="descname">get_descendants</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#menus.base.NavigationNode.get_descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all children beneath the current menu item.</p>
</dd></dl>

<dl class="method">
<dt id="menus.base.NavigationNode.get_ancestors">
<code class="descname">get_ancestors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#menus.base.NavigationNode.get_ancestors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all parent items, excluding the current menu item.</p>
</dd></dl>

<dl class="method">
<dt id="menus.base.NavigationNode.get_absolute_url">
<code class="descname">get_absolute_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#menus.base.NavigationNode.get_absolute_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method to return the URL associated with this menu item,
primarily to follow naming convention asserted by Django.</p>
</dd></dl>

<dl class="method">
<dt id="menus.base.NavigationNode.get_menu_title">
<code class="descname">get_menu_title</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#menus.base.NavigationNode.get_menu_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method to return the associated title, using the same naming
convention used by <code class="xref py py-class docutils literal"><span class="pre">cms.models.pagemodel.Page</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fields.html" class="btn btn-neutral float-right" title="Form and model fields" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="plugins.html" class="btn btn-neutral" title="Plugins" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>