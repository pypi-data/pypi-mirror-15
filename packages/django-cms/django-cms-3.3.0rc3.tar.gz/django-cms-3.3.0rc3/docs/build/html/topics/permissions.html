

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Permissions &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Key topics" href="index.html"/>
        <link rel="next" title="Some commonly-used plugins" href="commonly_used_plugins.html"/>
        <link rel="prev" title="Internationalisation" href="i18n.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Key topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="touch.html">Using touch-screen devices with django CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="menu_system.html">How the menu system works</a></li>
<li class="toctree-l2"><a class="reference internal" href="publishing.html">Publishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_languages.html">Serving content in multiple languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html">Internationalisation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Permissions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#view-restrictions">View restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#page-permissions">Page permissions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#users-page-user-groups-page">Users (page) / User groups (page)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Page permissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pages-global-permissions">Pages global permissions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#edit-mode-permission">Edit mode permission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-permissions">File Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commonly_used_plugins.html">Some commonly-used plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchdocs.html">Search and django CMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Key topics</a> &raquo;</li>
      
    <li>Permissions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/topics/permissions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="permissions">
<h1>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h1>
<p>In django CMS you can set three types of permissions:</p>
<ol class="arabic simple">
<li>View restrictions for restricting front-end view access to users</li>
<li>Page permissions for allowing staff users to only have rights on certain sections of certain sites</li>
<li>Mode permission which when left unset, restricts staff users to only editing, not adding new content</li>
</ol>
<p>To enable features 1. and 2., <code class="docutils literal"><span class="pre">settings.py</span></code> requires:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CMS_PERMISSION</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>The third one is controlled by the &#8220;<strong>Can use Structure mode</strong>&#8221; Django permission.</p>
<div class="section" id="view-restrictions">
<h2>View restrictions<a class="headerlink" href="#view-restrictions" title="Permalink to this headline">¶</a></h2>
<p>View restrictions can be set-up from the <em>View restrictions</em> formset on any cms page.
Once a page has at least one view restriction installed, only users with granted access will be able to see that page.
Mind that this restriction is for viewing the page as an end-user (front-end view), not viewing the page in the admin interface!</p>
<p>View restrictions are also controlled by the <code class="docutils literal"><span class="pre">CMS_PUBLIC_FOR</span></code> setting. Possible values are <code class="docutils literal"><span class="pre">all</span></code> and <code class="docutils literal"><span class="pre">staff</span></code>.
This setting decides if pages without any view restrictions are:</p>
<ul class="simple">
<li>viewable by everyone &#8211; including anonymous users (<em>all</em>)</li>
<li>viewable by staff users only (<em>staff</em>)</li>
</ul>
</div>
<div class="section" id="page-permissions">
<h2>Page permissions<a class="headerlink" href="#page-permissions" title="Permalink to this headline">¶</a></h2>
<p>After setting <code class="docutils literal"><span class="pre">CMS_PERMISSION</span> <span class="pre">=</span> <span class="pre">True</span></code> you will have three new models in the admin index:</p>
<ol class="arabic simple">
<li>Users (page)</li>
<li>User groups (page)</li>
<li>Pages global permissions</li>
</ol>
<div class="section" id="users-page-user-groups-page">
<span id="users-page-permissions"></span><h3>Users (page) / User groups (page)<a class="headerlink" href="#users-page-user-groups-page" title="Permalink to this headline">¶</a></h3>
<p>Using <em>Users (page)</em> you can easily add users with permissions over CMS pages.</p>
<p>You would be able to create a user with the same set of permissions using the usual <em>Auth.User</em> model, but using <em>Users (page)</em> is more convenient.</p>
<p>A new user created using <em>Users (page)</em> with given page add/edit/delete rights will not be able to make any changes to pages straight away.
The user must first be assigned to a set of pages over which he may exercise these rights.
This is done using the <a class="reference internal" href="#id1"><span>Page permissions</span></a>. formset on any page or by using <a class="reference internal" href="#pages-global-permissions"><span>Pages global permissions</span></a>.</p>
<p><em>User groups (page)</em> manages the same feature on the group level.</p>
</div>
<div class="section" id="id1">
<span id="id2"></span><h3>Page permissions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The <em>Page permission</em> formset has multiple checkboxes defining different permissions: can edit, can add, can delete, can change advanced settings, can publish, can move and can change permission.
These define what kind of actions the user/group can do on the pages on which the permissions are being granted through the <em>Grant on</em> drop-down.</p>
<p><em>Can change permission</em> refers to whether the user can change the permissions of his subordinate users. Bob is the subordinate of Alice if one of:</p>
<ul class="simple">
<li>Bob was created by Alice</li>
<li>Bob has at least one page permission set on one of the pages on which Alice has the <em>Can change permissions</em> right</li>
</ul>
<p><strong>Note:</strong> Mind that even though a new user has permissions to change a page, that doesn&#8217;t give him permissions to add a plugin within that page.
In order to be able to add/change/delete plugins on any page, you will need to go through the usual <em>Auth.User</em> model and give the new user permissions to each plugin you want him to have access to.
Example: if you want the new user to be able to use the text plugin, you will need to give him the following rights: <code class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">add</span> <span class="pre">text</span></code>, <code class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">change</span> <span class="pre">text</span></code>, <code class="docutils literal"><span class="pre">text</span> <span class="pre">|</span> <span class="pre">text</span> <span class="pre">|</span> <span class="pre">Can</span> <span class="pre">delete</span> <span class="pre">text</span></code>.</p>
</div>
<div class="section" id="pages-global-permissions">
<span id="id3"></span><h3>Pages global permissions<a class="headerlink" href="#pages-global-permissions" title="Permalink to this headline">¶</a></h3>
<p>Using the <em>Pages global permissions</em> model you can give a set of permissions to all pages in a set of sites.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You always <strong>must</strong> set the sites managed py the global permissions, even if you only have one site.</p>
</div>
</div>
</div>
<div class="section" id="edit-mode-permission">
<span id="structure-mode-permissions"></span><h2>Edit mode permission<a class="headerlink" href="#edit-mode-permission" title="Permalink to this headline">¶</a></h2>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.1.</span></p>
</div>
<p>django CMS uses <strong>Structure</strong> and <strong>Content</strong> modes for different type of content editing;
while the former allows full control over the plugins layout, positioning and to add new
plugins to the page, the latter only allow editing existing plugins.</p>
<p>From version 3.1 the specific permission &#8220;<strong>Can use Structure mode</strong>&#8221; exists to permit access
to Structure Mode. This allows defining a different level of permissions on the same content.</p>
<p>This permission also applies to <code class="docutils literal"><span class="pre">PlaceholderField</span></code> defined on models.</p>
</div>
<div class="section" id="file-permissions">
<h2>File Permissions<a class="headerlink" href="#file-permissions" title="Permalink to this headline">¶</a></h2>
<p>django CMS does not take care of and no responsibility for controlling access to files. Please make sure to use either
a pre-built solution (like <a class="reference external" href="https://github.com/stefanfoulis/django-filer">django-filer</a>) or to roll your own.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="commonly_used_plugins.html" class="btn btn-neutral float-right" title="Some commonly-used plugins" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="i18n.html" class="btn btn-neutral" title="Internationalisation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>