

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Line Interface &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="Content creation wizards" href="wizards.html"/>
        <link rel="prev" title="Template Tags" href="templatetags.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Key topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html">Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_references.html">API References</a></li>
<li class="toctree-l2"><a class="reference internal" href="fields.html">Form and model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="templatetags.html">Template Tags</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Command Line Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#informational-commands">Informational commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cms-list"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-check"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">check</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#plugin-and-apphook-management-commands">Plugin and apphook management commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cms-delete-orphaned-plugins"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">delete-orphaned-plugins</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-uninstall"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">uninstall</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-copy"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-copy-lang"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">lang</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-copy-site"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">site</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#moderation-commands">Moderation commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cms-moderator"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">moderator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cms-publisher-publish"><code class="docutils literal"><span class="pre">cms</span> <span class="pre">publisher-publish</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maintenance-and-repair">Maintenance and repair</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fix-tree"><code class="docutils literal"><span class="pre">fix-tree</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fix-mptt"><code class="docutils literal"><span class="pre">fix-mptt</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wizards.html">Content creation wizards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Reference</a> &raquo;</li>
      
    <li>Command Line Interface</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/cli.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-line-interface">
<h1>Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h1>
<p>You can invoke the django CMS command line interface using the <code class="docutils literal"><span class="pre">cms</span></code> Django
command:</p>
<div class="highlight-bash"><div class="highlight"><pre>python manage.py cms
</pre></div>
</div>
<div class="section" id="informational-commands">
<h2>Informational commands<a class="headerlink" href="#informational-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cms-list">
<span id="cms-list-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span></code><a class="headerlink" href="#cms-list" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">list</span></code> command is used to display information about your installation.</p>
<p>It has two sub-commands:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span> <span class="pre">plugins</span></code> lists all plugins that are used in your project.</li>
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span> <span class="pre">apphooks</span></code> lists all apphooks that are used in your project.</li>
</ul>
<p><code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span> <span class="pre">plugins</span></code> will issue warnings when it finds orphaned plugins (see
<code class="docutils literal"><span class="pre">cms</span> <span class="pre">delete-orphaned-plugins</span></code> below).</p>
</div>
<div class="section" id="cms-check">
<span id="cms-check-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">check</span></code><a class="headerlink" href="#cms-check" title="Permalink to this headline">¶</a></h3>
<p>Checks your configuration and environment.</p>
</div>
</div>
<div class="section" id="plugin-and-apphook-management-commands">
<h2>Plugin and apphook management commands<a class="headerlink" href="#plugin-and-apphook-management-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cms-delete-orphaned-plugins">
<span id="cms-delete-orphaned-plugins-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">delete-orphaned-plugins</span></code><a class="headerlink" href="#cms-delete-orphaned-plugins" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal"><span class="pre">delete-orphaned-plugins</span></code> command <strong>permanently deletes</strong> data from
your database. You should make a backup of your database before using it!</p>
</div>
<p>Identifies and deletes orphaned plugins.</p>
<p>Orphaned plugins are ones that exist in the CMSPlugins table, but:</p>
<ul class="simple">
<li>have a plugin_type that is no longer even installed</li>
<li>have no corresponding saved instance in that particular plugin type&#8217;s table</li>
</ul>
<p>Such plugins will cause problems when trying to use operations that need to copy
pages (and therefore plugins), which includes <code class="docutils literal"><span class="pre">cms</span> <span class="pre">moderator</span> <span class="pre">on</span></code> as well as page
copy operations in the admin.</p>
<p>It is advised to run <code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span> <span class="pre">plugins</span></code> periodically, and <code class="docutils literal"><span class="pre">cms</span>
<span class="pre">delete-orphaned-plugins</span></code> when required.</p>
</div>
<div class="section" id="cms-uninstall">
<h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">uninstall</span></code><a class="headerlink" href="#cms-uninstall" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">uninstall</span></code> subcommand can be used to make uninstalling a CMS
Plugin or an apphook easier.</p>
<p>It has two sub-commands:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">uninstall</span> <span class="pre">plugins</span> <span class="pre">&lt;plugin</span> <span class="pre">name&gt;</span> <span class="pre">[&lt;plugin</span> <span class="pre">name</span> <span class="pre">2&gt;</span> <span class="pre">[...]]</span></code> uninstalls
one or several plugins by <strong>removing</strong> them from all pages where they are
used. Note that the plugin name should be the name of the class that is
registered in the django CMS. If you are unsure about the plugin name, use
the <a class="reference internal" href="#cms-list-command"><span>cms list</span></a> to see a list of installed plugins.</li>
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">uninstall</span> <span class="pre">apphooks</span> <span class="pre">&lt;apphook</span> <span class="pre">name&gt;</span> <span class="pre">[&lt;apphook</span> <span class="pre">name</span> <span class="pre">2&gt;</span> <span class="pre">[...]]</span></code> uninstalls
one or several apphooks by <strong>removing</strong> them from all pages where they are
used. Note that the apphook name should be the name of the class that is
registered in the django CMS. If you are unsure about the apphook name, use
the <a class="reference internal" href="#cms-list-command"><span>cms list</span></a> to see a list of installed apphooks.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The uninstall commands <strong>permanently delete</strong> data from your database.
You should make a backup of your database before using them!</p>
</div>
</div>
<div class="section" id="cms-copy">
<span id="cms-copy-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span></code><a class="headerlink" href="#cms-copy" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">copy</span></code> command is used to copy content from one language or site to another.</p>
<p>It has two sub-commands:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">lang</span></code> copy content to a given language.</li>
<li><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">site</span></code> copy pages and content to a given site.</li>
</ul>
</div>
<div class="section" id="cms-copy-lang">
<span id="cms-copy-lang-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">lang</span></code><a class="headerlink" href="#cms-copy-lang" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">copy</span> <span class="pre">lang</span></code> subcommand can be used to copy content (titles and plugins)
from one language to another.
By default the subcommand copy content from the current site
(e.g. the value of <code class="docutils literal"><span class="pre">SITE_ID</span></code>) and only if the target
placeholder has no content for the specified language; using the defined
options you can change this.</p>
<p>You must provide two arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--from-lang</span></code>: the language to copy the content from;</li>
<li><code class="docutils literal"><span class="pre">--to-lang</span></code>: the language to copy the content to.</li>
</ul>
<p>It accepts the following options</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--force</span></code>: set to copy content even if a placeholder already has content;
if set, copied content will be appended to the original one;</li>
<li><code class="docutils literal"><span class="pre">--site</span></code>: specify a SITE_ID to operate on sites different from the current one;</li>
<li><code class="docutils literal"><span class="pre">--verbosity</span></code>: set for more verbose output.</li>
</ul>
<p>Example:</p>
<div class="highlight-bash"><div class="highlight"><pre>cms copy lang --from-lang<span class="o">=</span>en --to-lang<span class="o">=</span>de --force --site<span class="o">=</span><span class="m">2</span> --verbosity<span class="o">=</span>2
</pre></div>
</div>
</div>
<div class="section" id="cms-copy-site">
<span id="cms-copy-site-command"></span><h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">copy</span> <span class="pre">site</span></code><a class="headerlink" href="#cms-copy-site" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">copy</span> <span class="pre">site</span></code> subcommand can be used to copy content (pages and plugins)
from one site to another.
The subcommand copy content from the <code class="docutils literal"><span class="pre">from-site</span></code> to <code class="docutils literal"><span class="pre">to-site</span></code>; please note
that static placeholders are copied as they are shared across sites.
The whole source tree is copied, in the root of the target website.
Existing pages on the target website are not modified.</p>
<p>You must provide two arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--from-site</span></code>: the site to copy the content from;</li>
<li><code class="docutils literal"><span class="pre">--to-site</span></code>: the site to copy the content to.</li>
</ul>
<p>Example:</p>
<div class="highlight-bash"><div class="highlight"><pre>cms copy site --from-site<span class="o">=</span><span class="m">1</span> --to-site<span class="o">=</span>2
</pre></div>
</div>
</div>
</div>
<div class="section" id="moderation-commands">
<h2>Moderation commands<a class="headerlink" href="#moderation-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cms-moderator">
<h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">moderator</span></code><a class="headerlink" href="#cms-moderator" title="Permalink to this headline">¶</a></h3>
<p>If you migrate from an earlier version, you should use the <code class="docutils literal"><span class="pre">cms</span> <span class="pre">moderator</span> <span class="pre">on</span></code>
command to ensure that your published pages are up to date, whether or not you
used moderation in the past.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This command <strong>alters data</strong> in your database. You should make a backup of
your database before using it! <strong>Never</strong> run this command without first
checking for orphaned plugins, using the <code class="docutils literal"><span class="pre">cms</span> <span class="pre">list</span> <span class="pre">plugins</span></code> command, and
if necessary <code class="docutils literal"><span class="pre">delete-orphaned-plugins</span></code>. Running  <code class="docutils literal"><span class="pre">cms</span> <span class="pre">moderator</span></code> with
orphaned plugins will fail and leave bad data in your database.</p>
</div>
</div>
<div class="section" id="cms-publisher-publish">
<h3><code class="docutils literal"><span class="pre">cms</span> <span class="pre">publisher-publish</span></code><a class="headerlink" href="#cms-publisher-publish" title="Permalink to this headline">¶</a></h3>
<p>If you want to publish many pages at once, this command can help you. By default,
this command publishes drafts for all public pages.</p>
<p>It accepts the following options</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--unpublished</span></code>: set to publish all drafts, including unpublished ones;
if not set, only already published pages will be republished.</li>
<li><code class="docutils literal"><span class="pre">-l</span></code>, <code class="docutils literal"><span class="pre">--language</span></code>: specify a language code to publish pages in only one language;
if not specified, this command publishes all page languages;</li>
<li><code class="docutils literal"><span class="pre">--site</span></code>: specify a site id to publish pages for specified site only;
if not specified, this command publishes pages for all sites;</li>
</ul>
<p>Example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#publish drafts for public pages in all languages</span>
cms publisher-publish

<span class="c">#publish all drafts in all pages</span>
cms publisher-publish --unpublished

<span class="c">#publish drafts for public pages in deutsch</span>
cms publisher-publish --language<span class="o">=</span>de

<span class="c">#publish all drafts in deutsch</span>
cms publisher-publish --unpublished --language<span class="o">=</span>de

<span class="c">#publish all drafts in deutsch, but only for site with id=2</span>
cms publisher-publish --unpublished --language<span class="o">=</span>de --site<span class="o">=</span>2
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This command publishes drafts. You should review drafts before using this
command, because they will become public.</p>
</div>
</div>
</div>
<div class="section" id="maintenance-and-repair">
<h2>Maintenance and repair<a class="headerlink" href="#maintenance-and-repair" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fix-tree">
<span id="id1"></span><h3><code class="docutils literal"><span class="pre">fix-tree</span></code><a class="headerlink" href="#fix-tree" title="Permalink to this headline">¶</a></h3>
<p>Occasionally, the pages and plugins tree can become corrupted.
Typical symptoms include problems when trying to copy or delete plugins or pages.</p>
<dl class="docutils">
<dt>This commands will fix small corruptions by recalculating the tree information from</dt>
<dd>the other parameters</dd>
</dl>
</div>
<div class="section" id="fix-mptt">
<span id="id2"></span><h3><code class="docutils literal"><span class="pre">fix-mptt</span></code><a class="headerlink" href="#fix-mptt" title="Permalink to this headline">¶</a></h3>
<p>Occasionally, the MPTT tree can become corrupted (this is one of the reasons for <a class="reference internal" href="../upgrade/3.1.html"><em>our move
away from MPTT to MP in django CMS 3.1</em></a>). Typical symptoms include problems when
trying to copy or delete plugins or pages.</p>
<p>This command has been removed in django CMS 3.1 &lt;/upgrade/3.1&gt;` and replaced with <a class="reference internal" href="#fix-tree">fix-tree</a>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wizards.html" class="btn btn-neutral float-right" title="Content creation wizards" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="templatetags.html" class="btn btn-neutral" title="Template Tags" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>