

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Plugins &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="API References" href="api_references.html"/>
        <link rel="prev" title="Navigation" href="navigation.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Key topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html">Navigation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cmspluginbase-attributes-and-methods-reference">CMSPluginBase Attributes and Methods Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cmsplugin-attributes-and-methods-reference">CMSPlugin Attributes and Methods Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_references.html">API References</a></li>
<li class="toctree-l2"><a class="reference internal" href="fields.html">Form and model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="templatetags.html">Template Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="wizards.html">Content creation wizards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Reference</a> &raquo;</li>
      
    <li>Plugins</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/plugins.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="plugins">
<h1>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cmspluginbase-attributes-and-methods-reference">
<h2>CMSPluginBase Attributes and Methods Reference<a class="headerlink" href="#cmspluginbase-attributes-and-methods-reference" title="Permalink to this headline">¶</a></h2>
<p>These are a list of attributes and methods that can (or should) be overridden
on your Plugin definition.</p>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="admin-preview">
<h4>admin_preview<a class="headerlink" href="#admin-preview" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If <code class="docutils literal"><span class="pre">True</span></code>, displays a preview in the admin.</p>
</div>
<div class="section" id="allow-children">
<h4>allow_children<a class="headerlink" href="#allow-children" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Can this plugin have child plugins? Or can other plugins be placed inside this
plugin? If set to <code class="docutils literal"><span class="pre">True</span></code> you are responsible to render the children in your
plugin template.</p>
<p>Please use something like this or something similar:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">cms_tags</span> <span class="cp">%}</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;myplugin&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">instance.my_content</span> <span class="cp">}}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">plugin</span> <span class="k">in</span> <span class="nv">instance.child_plugin_instances</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">render_plugin</span> <span class="nv">plugin</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Be sure to access <code class="docutils literal"><span class="pre">instance.child_plugin_instances</span></code> to get all children.
They are pre-filled and ready to use. To finally render your child plugins use
the <code class="docutils literal"><span class="pre">{%</span> <span class="pre">render_plugin</span> <span class="pre">%}</span></code> template tag.</p>
<p>See also: <a class="reference internal" href="#child-classes">child_classes</a>, <a class="reference internal" href="#parent-classes">parent_classes</a>, <a class="reference internal" href="#require-parent">require_parent</a></p>
</div>
<div class="section" id="cache">
<h4>cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h4>
<p>Default: <a class="reference internal" href="configuration.html#std:setting-CMS_PLUGIN_CACHE"><code class="xref std std-setting docutils literal"><span class="pre">CMS_PLUGIN_CACHE</span></code></a></p>
<p>Is this plugin cacheable? If your plugin displays content based on the user or
request or other dynamic properties set this to False.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you disable a plugin cache be sure to restart the server and clear the cache afterwards.</p>
</div>
</div>
<div class="section" id="change-form-template">
<h4>change_form_template<a class="headerlink" href="#change-form-template" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">admin/cms/page/plugin_change_form.html</span></code></p>
<p>The template used to render the form when you edit the plugin.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyPlugin</span><span class="p">(</span><span class="n">CMSPluginBase</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">MyModel</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;My Plugin&quot;</span><span class="p">)</span>
    <span class="n">render_template</span> <span class="o">=</span> <span class="s">&quot;cms/plugins/my_plugin.html&quot;</span>
    <span class="n">change_form_template</span> <span class="o">=</span> <span class="s">&quot;admin/cms/page/plugin_change_form.html&quot;</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#frontend-edit-template">frontend_edit_template</a></p>
</div>
<div class="section" id="child-classes">
<h4>child_classes<a class="headerlink" href="#child-classes" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">None</span></code></p>
<p>A List of Plugin Class Names. If this is set, only plugins listed here can be
added to this plugin.</p>
<p>See also: <a class="reference internal" href="#parent-classes">parent_classes</a></p>
</div>
<div class="section" id="disable-child-plugins">
<h4>disable_child_plugins<a class="headerlink" href="#disable-child-plugins" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Disables dragging of child plugins in structure mode.</p>
</div>
<div class="section" id="frontend-edit-template">
<h4>frontend_edit_template<a class="headerlink" href="#frontend-edit-template" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">cms/toolbar/placeholder_wrapper.html</span></code></p>
<p>The template used for wrapping the plugin in frontend editing.</p>
<p>See also: <a class="reference internal" href="#change-form-template">change_form_template</a></p>
</div>
<div class="section" id="model">
<h4>model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">CMSPlugin</span></code></p>
<p>If the plugin requires per-instance settings, then this setting must be set to
a model that inherits from <code class="xref py py-class docutils literal"><span class="pre">CMSPlugin</span></code>.</p>
<p>See also: <a class="reference internal" href="../how_to/custom_plugins.html#storing-configuration"><span>Storing configuration</span></a></p>
</div>
<div class="section" id="page-only">
<h4>page_only<a class="headerlink" href="#page-only" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Can this plugin only be attached to a placeholder that is attached to a page?
Set this to <code class="docutils literal"><span class="pre">True</span></code> if you always need a page for this plugin.</p>
<p>See also: <a class="reference internal" href="#child-classes">child_classes</a>, <a class="reference internal" href="#parent-classes">parent_classes</a>, <a class="reference internal" href="#require-parent">require_parent</a>,</p>
</div>
<div class="section" id="parent-classes">
<h4>parent_classes<a class="headerlink" href="#parent-classes" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">None</span></code></p>
<p>A list of Plugin Class Names. If this is set, this plugin may only be added
to plugins listed here.</p>
<p>See also: <a class="reference internal" href="#child-classes">child_classes</a>, <a class="reference internal" href="#require-parent">require_parent</a></p>
</div>
<div class="section" id="render-plugin">
<h4>render_plugin<a class="headerlink" href="#render-plugin" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Should the plugin be rendered at all, or doesn&#8217;t it have any output?  If
<cite>render_plugin</cite> is <code class="docutils literal"><span class="pre">True</span></code>, then you must also define <code class="xref py py-meth docutils literal"><span class="pre">render_template()</span></code></p>
<p>See also: <a class="reference internal" href="#render-template">render_template</a>, <a class="reference internal" href="#get-render-template">get_render_template</a></p>
</div>
<div class="section" id="render-template">
<h4>render_template<a class="headerlink" href="#render-template" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">None</span></code></p>
<p>The path to the template used to render the template. If <code class="docutils literal"><span class="pre">render_plugin</span></code>
is <code class="docutils literal"><span class="pre">True</span></code> either this or <code class="docutils literal"><span class="pre">get_render_template</span></code> <strong>must</strong> be defined;</p>
<p>See also: <a class="reference internal" href="#render-plugin">render_plugin</a> , <a class="reference internal" href="#get-render-template">get_render_template</a></p>
</div>
<div class="section" id="require-parent">
<h4>require_parent<a class="headerlink" href="#require-parent" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Is it required that this plugin is a child of another plugin? Or can it be
added to any placeholder, even one attached to a page.</p>
<p>See also: <a class="reference internal" href="#child-classes">child_classes</a>, <a class="reference internal" href="#parent-classes">parent_classes</a></p>
</div>
<div class="section" id="text-enabled">
<h4>text_enabled<a class="headerlink" href="#text-enabled" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Can the plugin be inserted inside the text plugin?  If this is <code class="docutils literal"><span class="pre">True</span></code> then
<code class="xref py py-meth docutils literal"><span class="pre">icon_src()</span></code> must be overridden.</p>
<p>See also: <a class="reference internal" href="#icon-src">icon_src</a>, <a class="reference internal" href="#icon-alt">icon_alt</a></p>
</div>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<div class="section" id="render">
<span id="id1"></span><h4>render<a class="headerlink" href="#render" title="Permalink to this headline">¶</a></h4>
<p>The <code class="xref py py-meth docutils literal"><span class="pre">render()</span></code> method takes three arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">context</span></code>: The context with which the page is rendered.</li>
<li><code class="docutils literal"><span class="pre">instance</span></code>: The instance of your plugin that is rendered.</li>
<li><code class="docutils literal"><span class="pre">placeholder</span></code>: The name of the placeholder that is rendered.</li>
</ul>
<p>This method must return a dictionary or an instance of
<a class="reference external" href="http://readthedocs.org/docs/django/en/latest/ref/templates/api.html#django.template.Context" title="(in Django v1.10)"><code class="xref py py-class docutils literal"><span class="pre">django.template.Context</span></code></a>, which will be used as context to render the
plugin template.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
<p>By default this method will add <code class="docutils literal"><span class="pre">instance</span></code> and <code class="docutils literal"><span class="pre">placeholder</span></code> to the
context, which means for simple plugins, there is no need to overwrite this
method.</p>
<p>If you overwrite this method it&#8217;s recommended to always populate the context
with default values by calling the render method of the super class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">placeholder</span><span class="p">):</span>
    <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">MyPlugin</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">placeholder</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">context</span>
</pre></div>
</div>
</div>
<div class="section" id="get-render-template">
<h4>get_render_template<a class="headerlink" href="#get-render-template" title="Permalink to this headline">¶</a></h4>
<p>If you need to determine the plugin render model at render time
you can implement <code class="xref py py-meth docutils literal"><span class="pre">get_render_template()</span></code> method on the plugin
class; this method takes the same arguments as <code class="docutils literal"><span class="pre">render</span></code>.
The method <strong>must</strong> return a valid template file path.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>def get_render_template(self, context, instance, placeholder):
    if instance.attr = &#39;one&#39;:
        return &#39;template1.html&#39;
    else:
        return &#39;template2.html&#39;
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#render-plugin">render_plugin</a> , <a class="reference internal" href="#render-template">render_template</a></p>
</div>
<div class="section" id="icon-src">
<h4>icon_src<a class="headerlink" href="#icon-src" title="Permalink to this headline">¶</a></h4>
<p>By default, this returns an empty string, which, if left unoverridden would
result in no icon rendered at all, which, in turn, would render the plugin
uneditable by the operator inside a parent text plugin.</p>
<p>Therefore, this should be overridden when the plugin has <code class="docutils literal"><span class="pre">text_enabled</span></code> set to
<code class="docutils literal"><span class="pre">True</span></code> to return the path to an icon to display in the text of the text
plugin.</p>
<p>icon_src takes 1 argument:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">instance</span></code>: The instance of the plugin model</li>
</ul>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">icon_src</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">settings</span><span class="o">.</span><span class="n">STATIC_URL</span> <span class="o">+</span> <span class="s">&quot;cms/img/icons/plugins/link.png&quot;</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#text-enabled">text_enabled</a>, <a class="reference internal" href="#icon-alt">icon_alt</a></p>
</div>
<div class="section" id="icon-alt">
<h4>icon_alt<a class="headerlink" href="#icon-alt" title="Permalink to this headline">¶</a></h4>
<p>Although it is optional, authors of &#8220;text enabled&#8221; plugins should consider
overriding this function as well.</p>
<p>This function accepts the <code class="docutils literal"><span class="pre">instance</span></code> as a parameter and returns a string to be
used as the alt text for the plugin&#8217;s icon which will appear as a tooltip in
most browsers.  This is useful, because if the same plugin is used multiple
times within the same text plugin, they will typically all render with the
same icon rendering them visually identical to one another. This alt text and
related tooltip will help the operator distinguish one from the others.</p>
<p>By default <code class="xref py py-meth docutils literal"><span class="pre">icon_alt()</span></code> will return a string of the form: &#8220;[plugin type] -
[instance]&#8221;, but can be modified to return anything you like.</p>
<p><code class="xref py py-meth docutils literal"><span class="pre">icon_alt()</span></code> takes 1 argument:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">instance</span></code>: The instance of the plugin model</li>
</ul>
<p>The default implementation is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">icon_alt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> - </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">force_text</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">force_text</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#text-enabled">text_enabled</a>, <a class="reference internal" href="#icon-src">icon_src</a></p>
</div>
<div class="section" id="text-editor-button-icon">
<h4>text_editor_button_icon<a class="headerlink" href="#text-editor-button-icon" title="Permalink to this headline">¶</a></h4>
<p>When <a class="reference internal" href="#text-enabled">text_enabled</a> is <code class="docutils literal"><span class="pre">True</span></code>, this plugin can be added in a text editor and
there might be an icon button for that purpose. This method allows to override
this icon.</p>
<p>By default, it returns <code class="docutils literal"><span class="pre">None</span></code> and each text editor plugin may have its own
fallback icon.</p>
<p><code class="xref py py-meth docutils literal"><span class="pre">text_editor_button_icon()</span></code> takes 2 arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">editor_name</span></code>: The plugin name of the text editor</li>
<li><code class="docutils literal"><span class="pre">icon_context</span></code>: A dictionary containing information about the needed icon
like <cite>width</cite>, <cite>height</cite>, <cite>theme</cite>, etc</li>
</ul>
<p>Usually this method should return the icon URL. But, it may depends on the text
editor because what is needed may differ. Please consult the documentation of
your text editor plugin.</p>
<p>This requires support from the text plugin; support for this is currently planned
for <a class="reference external" href="https://github.com/divio/djangocms-text-ckeditor/">djangocms-text-ckeditor</a> 2.5.0.</p>
<p>See also: <a class="reference internal" href="#text-enabled">text_enabled</a></p>
</div>
<div class="section" id="get-extra-placeholder-menu-items">
<span id="id2"></span><h4>get_extra_placeholder_menu_items<a class="headerlink" href="#get-extra-placeholder-menu-items" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">get_extra_placeholder_menu_items(self,</span> <span class="pre">request,</span> <span class="pre">placeholder)</span></code></p>
<p>Extends the context menu for all placeholders. To add one or more custom context
menu items that are displayed in the context menu for all placeholders when in
structure mode, override this method in a related plugin to return a list of
<code class="docutils literal"><span class="pre">cms.plugin_base.PluginMenuItem</span></code> instances.</p>
</div>
<div class="section" id="get-extra-global-plugin-menu-items">
<span id="id3"></span><h4>get_extra_global_plugin_menu_items<a class="headerlink" href="#get-extra-global-plugin-menu-items" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">get_extra_global_plugin_menu_items(self,</span> <span class="pre">request,</span> <span class="pre">plugin)</span></code></p>
<p>Extends the context menu for all plugins. To add one or more custom context menu
items that are displayed in the context menu for all plugins when in structure
mode, override this method in a related plugin to return a list of
<code class="docutils literal"><span class="pre">cms.plugin_base.PluginMenuItem</span></code> instances.</p>
</div>
<div class="section" id="get-extra-local-plugin-menu-items">
<span id="id4"></span><h4>get_extra_local_plugin_menu_items<a class="headerlink" href="#get-extra-local-plugin-menu-items" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal"><span class="pre">get_extra_local_plugin_menu_items(self,</span> <span class="pre">request,</span> <span class="pre">plugin)</span></code></p>
<p>Extends the context menu for a specific plugin. To add one or more custom
context menu items that are displayed in the context menu for a given plugin
when in structure mode, override this method in the plugin to return a list of
<code class="docutils literal"><span class="pre">cms.plugin_base.PluginMenuItem</span></code> instances.</p>
</div>
</div>
</div>
<div class="section" id="cmsplugin-attributes-and-methods-reference">
<h2>CMSPlugin Attributes and Methods Reference<a class="headerlink" href="#cmsplugin-attributes-and-methods-reference" title="Permalink to this headline">¶</a></h2>
<p>These are a list of attributes and methods that can (or should) be overridden
on your plugin&#8217;s <cite>model</cite> definition.</p>
<p>See also: <a class="reference internal" href="../how_to/custom_plugins.html#storing-configuration"><span>Storing configuration</span></a></p>
<div class="section" id="id5">
<h3>Attributes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="section" id="translatable-content-excluded-fields">
<h4>translatable_content_excluded_fields<a class="headerlink" href="#translatable-content-excluded-fields" title="Permalink to this headline">¶</a></h4>
<p>Default: <code class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></code></p>
<p>A list of plugin fields which will not be exported while using <code class="xref py py-meth docutils literal"><span class="pre">get_translatable_content()</span></code>.</p>
<p>See also: <a class="reference internal" href="#get-translatable-content">get_translatable_content</a>, <a class="reference internal" href="#set-translatable-content">set_translatable_content</a></p>
</div>
</div>
<div class="section" id="id6">
<h3>Methods<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="section" id="copy-relations">
<h4>copy_relations<a class="headerlink" href="#copy-relations" title="Permalink to this headline">¶</a></h4>
<p>Handle copying of any relations attached to this plugin. Custom plugins have
to do this themselves.</p>
<p><code class="docutils literal"><span class="pre">copy_relations</span></code> takes 1 argument:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">old_instance</span></code>: The source plugin instance</li>
</ul>
<p>See also: <a class="reference internal" href="../how_to/custom_plugins.html#handling-relations"><span>Handling Relations</span></a>, <a class="reference internal" href="#post-copy">post_copy</a></p>
</div>
<div class="section" id="get-translatable-content">
<h4>get_translatable_content<a class="headerlink" href="#get-translatable-content" title="Permalink to this headline">¶</a></h4>
<p>Get a dictionary of all content fields (field name / field value pairs) from
the plugin.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">djangocms_text_ckeditor.models</span> <span class="kn">import</span> <span class="n">Text</span>

<span class="n">plugin</span> <span class="o">=</span> <span class="n">Text</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_plugin_instance</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plugin</span><span class="o">.</span><span class="n">get_translatable_content</span><span class="p">()</span>
<span class="c"># returns {&#39;body&#39;: u&#39;&lt;p&gt;I am text!&lt;/p&gt;\n&#39;}</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#translatable-content-excluded-fields">translatable_content_excluded_fields</a>, <a class="reference internal" href="#set-translatable-content">set_translatable_content</a></p>
</div>
<div class="section" id="post-copy">
<h4>post_copy<a class="headerlink" href="#post-copy" title="Permalink to this headline">¶</a></h4>
<p>Can (should) be overridden to handle the copying of plugins which contain
children plugins after the original parent has been copied.</p>
<p><code class="docutils literal"><span class="pre">post_copy</span></code> takes 2 arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">old_instance</span></code>: The old plugin instance instance</li>
<li><code class="docutils literal"><span class="pre">new_old_ziplist</span></code>: A list of tuples containing new copies and the old existing child plugins.</li>
</ul>
<p>See also: <a class="reference internal" href="../how_to/custom_plugins.html#handling-relations"><span>Handling Relations</span></a>, <a class="reference internal" href="#copy-relations">copy_relations</a></p>
</div>
<div class="section" id="set-translatable-content">
<h4>set_translatable_content<a class="headerlink" href="#set-translatable-content" title="Permalink to this headline">¶</a></h4>
<p>Takes a dictionary of plugin fields (field name / field value pairs) and
overwrites the plugin&#8217;s fields. Returns <code class="docutils literal"><span class="pre">True</span></code> if all fields have been
written successfully, and <code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
<p>set_translatable_content takes 1 argument:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">fields</span></code>: A dictionary containing the field names and translated content for each.</li>
</ul>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">djangocms_text_ckeditor.models</span> <span class="kn">import</span> <span class="n">Text</span>

<span class="n">plugin</span> <span class="o">=</span> <span class="n">Text</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_plugin_instance</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plugin</span><span class="o">.</span><span class="n">set_translatable_content</span><span class="p">({</span><span class="s">&#39;body&#39;</span><span class="p">:</span> <span class="s">u&#39;&lt;p&gt;This is a different text!&lt;/p&gt;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">})</span>
<span class="c"># returns True</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#translatable-content-excluded-fields">translatable_content_excluded_fields</a>, <a class="reference internal" href="#get-translatable-content">get_translatable_content</a></p>
</div>
<div class="section" id="get-add-url">
<h4>get_add_url<a class="headerlink" href="#get-add-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to add a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
</div>
<div class="section" id="get-edit-url">
<h4>get_edit_url<a class="headerlink" href="#get-edit-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to edit a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
</div>
<div class="section" id="get-move-url">
<h4>get_move_url<a class="headerlink" href="#get-move-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to move a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
</div>
<div class="section" id="get-delete-url">
<h4>get_delete_url<a class="headerlink" href="#get-delete-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to delete a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
</div>
<div class="section" id="get-copy-url">
<h4>get_copy_url<a class="headerlink" href="#get-copy-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to copy a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
</div>
<div class="section" id="add-url">
<h4>add_url<a class="headerlink" href="#add-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to add a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
<p>This property is now deprecated. Will be removed in 3.4.
Use the <code class="docutils literal"><span class="pre">get_add_url</span></code> method instead.</p>
<p>Default: None (<code class="docutils literal"><span class="pre">cms_page_add_plugin</span></code> view is used)</p>
</div>
<div class="section" id="edit-url">
<h4>edit_url<a class="headerlink" href="#edit-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to edit a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
<p>This property is now deprecated. Will be removed in 3.4.
Use the <code class="docutils literal"><span class="pre">get_edit_url</span></code> method instead.</p>
<p>Default: None (<code class="docutils literal"><span class="pre">cms_page_edit_plugin</span></code> view is used)</p>
</div>
<div class="section" id="move-url">
<h4>move_url<a class="headerlink" href="#move-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to move a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
<p>This property is now deprecated. Will be removed in 3.4.
Use the <code class="docutils literal"><span class="pre">get_move_url</span></code> method instead.</p>
<p>Default: None (<code class="docutils literal"><span class="pre">cms_page_move_plugin</span></code> view is used)</p>
</div>
<div class="section" id="delete-url">
<h4>delete_url<a class="headerlink" href="#delete-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to delete a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
<p>This property is now deprecated. Will be removed in 3.4.
Use the <code class="docutils literal"><span class="pre">get_delete_url</span></code> method instead.</p>
<p>Default: None (<code class="docutils literal"><span class="pre">cms_page_delete_plugin</span></code> view is used)</p>
</div>
<div class="section" id="copy-url">
<h4>copy_url<a class="headerlink" href="#copy-url" title="Permalink to this headline">¶</a></h4>
<p>Returns the URL to call to copy a plugin instance; useful to implement plugin-specific
logic in a custom view.</p>
<p>This property is now deprecated. Will be removed in 3.4.
Use the <code class="docutils literal"><span class="pre">get_copy_url</span></code> method instead.</p>
<p>Default: None (<code class="docutils literal"><span class="pre">cms_page_copy_plugins</span></code> view is used)</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api_references.html" class="btn btn-neutral float-right" title="API References" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="navigation.html" class="btn btn-neutral" title="Navigation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>