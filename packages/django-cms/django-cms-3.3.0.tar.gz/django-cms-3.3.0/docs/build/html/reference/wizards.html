

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Content creation wizards &mdash; django cms 3.3.0.dev4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.3.0.dev4 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="Development &amp; community" href="../contributing/index.html"/>
        <link rel="prev" title="Command Line Interface" href="cli.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> django cms
          

          
          </a>

          
            
            
              <div class="version">
                3.3.0.dev4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/index.html">Key topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html">Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_references.html">API References</a></li>
<li class="toctree-l2"><a class="reference internal" href="fields.html">Form and model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="templatetags.html">Template Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Content creation wizards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-wizard">Base Wizard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#base-wizard-methods">Base Wizard methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-description">get_description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-title">get_title</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-success-url">get_success_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-weight">get_weight</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-has-add-permission">user_has_add_permission</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wizard-pool"><code class="docutils literal"><span class="pre">wizard_pool</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#wizard-pool-methods">Wizard pool methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#is-registered">is_registered</a></li>
<li class="toctree-l4"><a class="reference internal" href="#register">register</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unregister">unregister</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-entry">get_entry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-entries">get_entries</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Reference</a> &raquo;</li>
      
    <li>Content creation wizards</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/wizards.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
<div class="section" id="content-creation-wizards">
<span id="wizard-reference"></span><h1>Content creation wizards<a class="headerlink" href="#content-creation-wizards" title="Permalink to this headline">¶</a></h1>
<p>See the <a class="reference internal" href="../how_to/wizards.html#wizard-how-to"><span>How-to section on wizards</span></a> for an introduction to
creating wizards.</p>
<p>Wizard classes are sub-classes of <code class="docutils literal"><span class="pre">cms.wizards.wizard_base.Wizard</span></code>.</p>
<p>They need to be registered with the <code class="docutils literal"><span class="pre">cms.wizards.wizard_pool.wizard_pool</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wizard_pool</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">my_app_wizard</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, a wizard needs to be instantiated, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_app_wizard</span> <span class="o">=</span> <span class="n">MyAppWizard</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">&quot;New MyApp&quot;</span><span class="p">,</span>
    <span class="n">weight</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">form</span><span class="o">=</span><span class="n">MyAppWizardForm</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s">&quot;Create a new MyApp instance&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>When instantiating a Wizard object, use the keywords:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">title:</th><td class="field-body">The title of the wizard. This will appear in a large font size on
the wizard &#8220;menu&#8221;</td>
</tr>
<tr class="field-even field"><th class="field-name">weight:</th><td class="field-body">The &#8220;weight&#8221; of the wizard when determining the sort-order.</td>
</tr>
<tr class="field-odd field"><th class="field-name">form:</th><td class="field-body">The form to use for this wizard. This is mandatory, but can be
sub-classed from <cite>django.forms.form</cite> or <cite>django.forms.ModelForm</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">model:</th><td class="field-body">If a Form is used above, this keyword argument must be supplied and
should contain the model class. This is used to determine the unique
wizard &#8220;signature&#8221; amongst other things.</td>
</tr>
<tr class="field-odd field"><th class="field-name">template_name:</th><td class="field-body">An optional template can be supplied.</td>
</tr>
<tr class="field-even field"><th class="field-name">description:</th><td class="field-body">The description is optional, but if it is not supplied, the
CMS will create one from the pattern:
&#8220;Create a new «model.verbose_name» instance.&#8221;</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">edit_mode_on_success:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If set, the CMS will switch the user to edit-mode by
adding an <code class="docutils literal"><span class="pre">edit</span></code> param to the query-string of the
URL returned by <code class="docutils literal"><span class="pre">get_success_url</span></code>. This is <code class="docutils literal"><span class="pre">True</span></code>
by default.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="base-wizard">
<h2>Base Wizard<a class="headerlink" href="#base-wizard" title="Permalink to this headline">¶</a></h2>
<p>All wizard classes should inherit from <code class="docutils literal"><span class="pre">cms.wizards.wizard_base.Wizard</span></code>. This
class implements a number of methods that may be overridden as required.</p>
</div>
<div class="section" id="base-wizard-methods">
<h2>Base Wizard methods<a class="headerlink" href="#base-wizard-methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-description">
<h3>get_description<a class="headerlink" href="#get-description" title="Permalink to this headline">¶</a></h3>
<p>Simply returns the <code class="docutils literal"><span class="pre">description</span></code> property assigned during instantiation or one
derived from the model if description is not provided during instantiation.
Override this method if this needs to be determined programmatically.</p>
</div>
<div class="section" id="get-title">
<h3>get_title<a class="headerlink" href="#get-title" title="Permalink to this headline">¶</a></h3>
<p>Simply returns the <code class="docutils literal"><span class="pre">title</span></code> property assigned during instantiation. Override
this method if this needs to be determined programmatically.</p>
</div>
<div class="section" id="get-success-url">
<h3>get_success_url<a class="headerlink" href="#get-success-url" title="Permalink to this headline">¶</a></h3>
<p>Once the wizard has completed, the user will be redirected to the URL of the new
object that was created. By default, this is done by return the result of
calling the <code class="docutils literal"><span class="pre">get_absolute_url</span></code> method on the object. This may then be modified
to force the user into edit mode if the wizard property <code class="docutils literal"><span class="pre">edit_mode_on_success</span></code>
is True.</p>
<p>In some cases, the created content will not implement <code class="docutils literal"><span class="pre">get_absolute_url</span></code> or
that redirecting the user is undesirable. In these cases, simply override this
method. If <code class="docutils literal"><span class="pre">get_success_url</span></code> returns <code class="docutils literal"><span class="pre">None</span></code>, the CMS will just redirect to
the current page after the object is created.</p>
<p>This method is called by the CMS with the parameter:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">obj:</th><td class="field-body">The created object</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="get-weight">
<h3>get_weight<a class="headerlink" href="#get-weight" title="Permalink to this headline">¶</a></h3>
<p>Simply returns the <code class="docutils literal"><span class="pre">weight</span></code> property assigned during instantiation. Override
this method if this needs to be determined programmatically.</p>
</div>
<div class="section" id="user-has-add-permission">
<h3>user_has_add_permission<a class="headerlink" href="#user-has-add-permission" title="Permalink to this headline">¶</a></h3>
<p>This should return a boolean reflecting whether the user has permission to
create the underlying content for the wizard.</p>
<p>This method is called by the CMS with these parameters:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">user:</th><td class="field-body">The current user</td>
</tr>
<tr class="field-even field"><th class="field-name">page:</th><td class="field-body">The current CMS page the user is viewing when invoking the wizard</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="wizard-pool">
<h2><code class="docutils literal"><span class="pre">wizard_pool</span></code><a class="headerlink" href="#wizard-pool" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">wizard_pool</span></code> includes a read-only property <code class="docutils literal"><span class="pre">discovered</span></code> which returns the
Boolean <code class="docutils literal"><span class="pre">True</span></code> if wizard-discovery has already occurred and <code class="docutils literal"><span class="pre">False</span></code>
otherwise.</p>
</div>
<div class="section" id="wizard-pool-methods">
<h2>Wizard pool methods<a class="headerlink" href="#wizard-pool-methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="is-registered">
<h3>is_registered<a class="headerlink" href="#is-registered" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, it may be necessary to check to see if a specific wizard has been
registered. To do this, simply call:</p>
<div class="highlight-python"><div class="highlight"><pre>value = wizard_pool.is_registered(«wizard»)
</pre></div>
</div>
</div>
<div class="section" id="register">
<h3>register<a class="headerlink" href="#register" title="Permalink to this headline">¶</a></h3>
<p>You may notice from the example above that the last line in the sample code is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wizard_pool</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">my_app_wizard</span><span class="p">)</span>
</pre></div>
</div>
<p>This sort of thing should look very familiar, as a similar approach is used for
cms_apps, template tags and even Django&#8217;s admin.</p>
<p>Calling the wizard pool&#8217;s <code class="docutils literal"><span class="pre">register</span></code> method will register the provided wizard
into the pool, unless there is already a wizard of the same module and class
name. In this case, the register method will raise a
<code class="docutils literal"><span class="pre">cms.wizards.wizard_pool.AlreadyRegisteredException</span></code>.</p>
</div>
<div class="section" id="unregister">
<h3>unregister<a class="headerlink" href="#unregister" title="Permalink to this headline">¶</a></h3>
<p>It may be useful to unregister wizards that have already been registered with
the pool. To do this, simply call:</p>
<div class="highlight-python"><div class="highlight"><pre>value = wizard_pool.unregister(«wizard»)
</pre></div>
</div>
<p>The value returned will be a Boolean: <code class="docutils literal"><span class="pre">True</span></code> if a wizard was successfully
unregistered or <code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
</div>
<div class="section" id="get-entry">
<h3>get_entry<a class="headerlink" href="#get-entry" title="Permalink to this headline">¶</a></h3>
<p>If you would like to get a reference to a specific wizard in the pool, just call
<code class="docutils literal"><span class="pre">get_entry()</span></code> as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wizard</span> <span class="o">=</span> <span class="n">wizard_pool</span><span class="o">.</span><span class="n">get_entry</span><span class="p">(</span><span class="n">my_app_wizard</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="get-entries">
<h3>get_entries<a class="headerlink" href="#get-entries" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">get_entries()</span></code> is useful if it is required to have a list of all registered
wizards. Typically, this is used to iterate over them all. Note that they will
be returned in the order of their <code class="docutils literal"><span class="pre">weight</span></code>: smallest numbers for weight are
returned first.:</p>
<div class="highlight-python"><div class="highlight"><pre>for wizard in wizard_pool.get_entries():
    # do something with a wizard...
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../contributing/index.html" class="btn btn-neutral float-right" title="Development &amp; community" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cli.html" class="btn btn-neutral" title="Command Line Interface" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.3.0.dev4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>