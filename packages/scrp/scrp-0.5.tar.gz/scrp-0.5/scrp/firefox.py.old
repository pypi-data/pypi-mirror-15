import os
from subprocess import call, CalledProcessError, check_output, Popen
from time import sleep

def start():
    sleep(2)
    print "about to start firefox"
    #Popen(["xvfb-run", "--auto-servernum", "firefox", "--marionette"])
    #Popen("xvfb-run --auto-servernum firefox --marionette", shell=True)
    #Popen("firefox --marionette --display=:1", shell=True)
    Popen("firefox --marionette --display=:1", shell=True)
    print "started firefox"
    sleep(5)

def stop():
    call(["pkill", "-9", "firefox"])
    call(["pkill", "-9", "xvfb-run"])
    call(["pkill", "-9", "Xvfb"])

def restart():
    stop()
    start()
