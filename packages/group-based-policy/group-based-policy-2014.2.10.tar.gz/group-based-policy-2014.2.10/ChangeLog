CHANGES
=======

2014.2.10
---------

* Make get_gbp_details robust against SNAT IP loss

2014.2.8
--------

* [APIC-mapping] Support non-OpFlex networks
* Fixed IP address as optional attributes for PT
* Add DevRef for all major features

2014.2.7
--------

* [APIC-mapping] Restore 'config' import
* [APIC-mapping] Fixes for pre-existing L3-out
* Disallow identical external routes
* Prevent deletion of NAT pool having floating IP
* [apic-mapping] retrieve the right subnets during PTG allocation
* [APIC mapping] Restrict creation of external EPGs to tenant
* [APIC mapping] Allow more L3-policies to connect to external segment
* [apic-mappic] do not enforce subnet check in shadow BD
* Adding a consolidated policy.json
* Initializing proxy pool attrs from conf
* Fix dependency installation error due to pip
* floating ip deletion causes db deadlock
* port extra attribute extension for gbp mapping
* [apic-mapping] create reverse rules for ICMP as needed
* validate l2p update at plugin level
* Changing data type of 'config' column of 'sc_nodes'
* [APIC mapping] Fix contract association for pre-existing external EPG
* Remove version from setup.cfg

2014.2.6
--------

* [apic-mapping]Put real port IDs in ha table when proxy port
* Allow disabling of default route via DHCP
* [APIC mapping] Send correct host SNAT IP in get_gbp_details
* [APIC mapping] Set external IP for L3Policy only once
* Avoid allocating multiple router gateway IPs
* Point to juno-eol
* [apic-mapping] debugging chain overlapping ips
* Increase name attr len to 128 in API and 255 in DB
* Update juno stable version to 2014.2.6

2014.2.5
--------

* Reject updating nodes in an in use ServiceChain Spec
* Use default bi direction for classifier
* [APIC mapping] Set external routed domain for L3Outs
* [APIC mapping] Update operational status of floating-IP resource
* [apic-mapping] avoid snat duplicate on gbp-details
* [apic-mapping] revert udp rules
* Support IP protocol Numbers in GBP
* Process only relevant PTG for SC instantiation on PTG create
* Reject deletion of PRS in use by External Policy
* management ptg lookup in NCP to use admin context
* Limit ML2 delete_network/subnet retries
* [apic-mapping] avoid cached results for port notifications
* [apic-mapping] propagate promiscuous mode when in a cluster
* [apic-mapping] Send ES name for SNAT auto alloc
* Update stable version to 2014.2.5

2014.2.4
--------

* [apic-mapping] scope ctx correctly on opflex RPC
* [apic-mapping] RPC-driven allocation of SNAT IPs
* [apic-mapping] notify head of the chain correctly
* do not notify unrelated chains on consumer added
* [apic-mapping]gracefully fail get_gbp_details
* [apic-mapping] scope cluster master details by mac address
* [APIC mapping] Support pre-existing L3Outs
* [APIC mapping] Compare owned-addresses correctly
* delete proxy subnets when proxy is deleted
* [Apic Mapping] TScP with Admin owned Resources
* [APIC mapping] Update IP address ownership info based on notifications
* [apic-mapping] add details info based on owned addresses
* add cluster_id attribute to PTs for HA
* reject EP sharing during update
* [apic-mapping] do not attach routers to proxy subnets
* Fix port notification update in L3 plugin
* Use elevated context when retrieving ports
* [APIC mapping] Allow disabling NAT for external-segments
* Changing stackforge references
* [apic-mapping] enhance subnet info for opflex rpc
* use chain admin context for PT notifications
* [apic-mapping] handle subnet concurrent allocation
* refactor SC mapping into a dedicated gbp driver
* [apic-mapping] send fixed ips as part of the opflex RPC
* Handle concurrent subnet allocation
* Fix router interface status
* Fix to DB update for auto-allocated external fixed IP
* Update devstack exercise scripts with new CLI
* [APIC mapping] Set 'Associated L3Out' for NAT BD
* [APIC mapping] Changes to implicit external networks
* [APIC mapping] Support for multiple external-policies
* api to notify ncp plugin when prs consumer added/removed
* [apic_mapping] Notify port chain on FIP APIs
* [apic-mapping] allow wildcard for pr [second-part]
* [apic-mapping] allow wildcard for protocol when creating a policy rule
* [apic-mapping] use pt description to point a different port
* [apic-mapping] support for traffic stitching plumber
* provider centric service chains
* introducing traffic stitching plumber
* the mighty PEP8 hammer shall rise on functional tests
* rmd and ipd to support proxy_group extension
* Adding gbpfunctest integration tests to contrib
* add proxy ip pool to proxy group extension
* proxy ptg extension
* Admin or Provider tenant to own implicit SCIs
* explicitly specify router_id when creating a floating ip
* Update version to 2014.2.4

2014.2.3
--------

* Provide external fixed-ip properly when setting router gateway
* [apic-mapping] reference existing apic objects
* Handle concurrent implicit L3P creation
* Allow setting router's external IP
* add get_vrf_details rpc method to apic mapping
* Remove neutronclient 2.3.9 pin in integration job
* test external segment routes after precommit operation
* Fix incorrect reporting of failed exercise scripts
* Handle NAT-pools properly in APIC-mapping driver
* [apic-mapping]add vrf details to get_gbp_details rpc
* remove unique constraint from ES ip address mapping
* Send network information for port along with GBP details
* use nat pool to allocate floating ips
* GBP-specific L3 plugin for FIPs
* Add support for NAT to APIC mapping driver
* Switch to using os-testr's copy of subunit2html
* Factor out of adding router interface to subnet
* Default subnet-prefix-length should be consistent
* Run function tests in stable/juno using service profiles
* Remove docutils from test-requirements
* Fixing incorrect ini files
* Adding metadata server and DNS SG default rules
* add implicit_policy.ini file
* ignore not found error on SCI deletion
* fix test coverage report
* expunge session objects in RMD when calling Neutron plugins
* remove wide egress rules from PRS security groups
* Gracefully handle parameter updates that affects Service Chain
* allocate implicit pt port in the right subnet
* add service_management attribute to PTG
* Adds quota support for GBP resources
* Fix Servicechain Instance update and spec update
* Updating gbpfunc repo and branch
* subnet allocation improvement
* Add configuration parameter for setting PTG subnet DNS nameservers
* apic driver to pass scoped tenant names to opflex agent
* Check for port association before PT update
* [apic] only push contracts on managed external segments
* Add gate hooks to run scale test job
* Allow updating Service Node config
* Fix update service chain spec db
* Heat Based Node driver for Node Composition plugin
* Support GBP Neutron mapping resources in List filters
* Pinning oslo and other dependencies for tests
* Apic driver improvements
* Adding devstack artifacts for integration gate job
* Trap on error in post-hook script
* Constraining the pbr version
* Update version to 2014.2.3
* notify PT added/removed for autoscaling
* chain agnostic node plumber
* reintroduce count methods for SP and SCI
* fix external segment deletion
* node composition plugin implementation
* node composition plugin architecture
* introduce service profile model

2014.2.2
--------

* Refactoring integration job to archive logs on error
* Support Floating IP for all PTs in a PTG
* stack names to use bits of unique information
* delete unbound ports on PTG deletion
* delete unbound ports on PTG deletion
* shared external segment update to affect cross tenant l3ps properly
* fix typo that prevented proper external segment routes update
* Share service chain constructs
* reorganize service chain directory
* sort out servicechain configuration template and Heat usage
* Integration job should also fail on failed exercise
* Fix PTG update with a different NSP of same type(self_subnet)
* Adding to gbpfunc tests to gate job
* Adding project logs to integration job archive
* Fix L3P update with longer subnet prefix length
* Fix permissions issue on integration job
* fix unnamed contraints removal for db migration
* fix redirect action for external policies
* Update package version to 2014.2.2
* Add unit tests for OneConvergence GBP Driver
* Making gpdb abbreviation consistent across files
* Adding gate job hooks

2014.2.1
--------

* Adding policy.json entry to setup.cfg
* Avoid exception deleting PTG with no subnets
* Properly handle driver exceptions during postcommit
* Change endpoint register URL and information
* Reject update of L2Policy's L3Policy
* Fix Network Service Policy Implementation
* Fix DB constraints for Network Service Policy
* Remove spaces in stackname in ServiceChainInstance create
* L3Policy create should have validity check for IP pool
* Add more UT support for ODL mapping driver
* Add UT support for ODL manager
* Reject deletion of in-use L2Policy or L3Policy
* L3P check subnet mask smaller than pool subnet
* Prevent deletion of in use ServiceChain Resources
* Ignore NotFound Exception in Delete ServiceChainInstance
* Add ordering of service chain nodes and specs
* Fix rendering issue with GBP usage documentation
* Opening stable/juno

2014.2
------

* Enforce parent redirect in all update scenarios
* Fixed some errors in the GBP usage document
* Fixed the member count check for LB PoolMember

2014.2rc3
---------

* Wait for resource cleanup in Servicechain Instance Delete
* Support adding multiple LB PoolMembers
* Delete policy target fails for APIC policy driver
* Adding usage documentation
* Adopting preferred coding style
* SG cleanup not happening when PTG is deleted
* py26 still present in tox.ini
* Handle PTG and PRS updates to update servicechain instance
* Renaming gbp package to gbpservice
* Updates to the test-requirements
* Notify ServiceChainInstance of classifier updates

2014.2rc1
---------

* Allow PTG deletion with unused PTs
* Reject creating a Rule/PRS with multiple redirect action

2014.1.rc1
----------

* Adds ml2 mechanism driver for odl/gbp
* Add exception handle for External Connectivity
* Add an ODL mapping driver for odl/gbp
* Fix Policy Action update in Policy Rule
* Validate explicit neutron resources(more changes)
* Temporary work around for a failing UT
* Add ODL manager for GBP
* Reject deletion of in use policy_* resources
* Support Hierarchial Policy Rule Set for Redirects
* GBP driver for nuage
* Fix hierarchical PRS behavior
* Do not invoke update PTG from create PTG
* Reject replacement of PTG's existing L2P in RMD
* Disallow cross tenant references
* Fix primary key constraint in Spec-Node Association
* Service type validations should be done at specific driver
* Handle multiple providing PTGs in redirect action
* One Convergence Group Policy Driver changes
* Fix deletion of Network Service Policy
* Support api version 1.0 in One Convergence GBP Driver
* UTs refactor
* Validate explicit subnet for PTG
* Adding a "not supported" exception
* Fix PT delete when port missing
* Support shared resource on APIC driver
* Use existing mapping instead of DB query
* Handle Policy Action value update(Service Chain Spec update)
* Add support to External Connectivity in APIC driver
* Represent External Connectivity in GBP: Implicit Driver
* Represent External Connectivity in GBP: RMD
* Represent External Connectivity in GBP: PLUGIN
* Represent External Connectivity in GBP: API-DB
* GBP servicechain instance should be maintained between a pair of PTGs
* Renamed the validator to _validate_gbp_port_range
* Fixing primary key constraints in service chain spec-node association
* Handle ServicechainSpec update for all ServiceChain instances

test-tag
--------

* Introduce shared attribute for GBP resources
* Navigability Issue: providing and consuming PTGs
* Extension driver framework for GBP
* Add update_policy_rule, update_policy_classifier Close-Bug: 1383941
* Workflow documentation is now in infra-manual
* Reverting the new DB migration script added for bug 137527
* Disallow overlapping IPs within the same tenant
* In ServiceChainInstance, add _id suffix for the referenced UUIDs
* Traffic intra PTG not working
* Fixed a TODO in resource mapping driver
* Renaming of GBP resources
* Datapath doesnt work with Policy Redirect to an LB
* Subnet mapping broken with overlapping ips
* Cleanup of Group Policy Redirect Action
* Network Service Policy Parameters should be List datatype
* One Convergence NVSD ServiceChain Driver
* One Convergence NVSD GBP Driver
* Network Service Policy Driver Implementation
* Add Network Service Policy support for service chains
* Apic GBP mapping driver
* Group Policy Service Chain Implementation change for updated Spec
* Group Policy Redirect Action Implementation
* GBP Service Chaining Reference Driver
* GBP Service Chaining Plugin
* GBP Service Chaining DB
* GBP Service Chaining API
* Hierarchical contracts implementation
* Do not delete used EPGs
* Group Policy: Resource Mapping Driver (Security Groups)
* Delete object chain
* Group Policy Plugin-3: Contracts
* Group Policy DB-3: Contracts
* Group Policy API-3: Contracts
* Group Policy Plugin-2: Classifiers, Actions, and Rules
* Group Policy DB-2: Classifiers, Actions, and Rules
* Group Policy API-2: Classifiers, Actions, and Rules
* Change Neutron's test dependency
* Group Policy: Resource Mapping Driver
* Database migration breaks neutron's upgrade
* Group Policy: Implicit Policy Driver
* Group Policy Mapping Plugin-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Mapping DB-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Mapping API-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy Plugin-1: EP, EPG, L2 Policy, L3 Policy
* Group Policy DB-1: EP, EPG, L2 Policy, L3 Policy
* DB migration for neutron package
* Adding more content to README
* Neutron requirement overrides entry points
* Group Policy API-1: EP, EPG, L2 Policy, L3 Policy
* Project boilerplate and base modules
* Initial commit for GBP server side modules
* Added .gitreview
