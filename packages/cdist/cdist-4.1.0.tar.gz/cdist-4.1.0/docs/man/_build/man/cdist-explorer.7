.\" Man page generated from reStructuredText.
.
.TH "CDIST-EXPLORER" "7" "May 27, 2016" "4.1.0dp" "cdist"
.SH NAME
cdist-explorer \- 
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.sp
Explore the target systems
.sp
Nico Schottelius <\fI\%nico\-cdist\-\-@\-\-schottelius.org\fP>
.SH DESCRIPTION
.sp
Explorer are small shell scripts, which will be executed on the target
host. The aim of the explorer is to give hints to types on how to act on the
target system. An explorer outputs the result to stdout, which is usually
a one liner, but may be empty or multi line especially in the case of
type explorers.
.sp
There are general explorers, which are run in an early stage, and
type explorers. Both work almost exactly the same way, with the difference
that the values of the general explorers are stored in a general location and
the type specific below the object.
.sp
Explorers can reuse other explorers on the target system by calling
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$__explorer/<explorer_name> (general and type explorer)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$__type_explorer/<explorer name> (type explorer).
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
In case of significant errors, the explorer may exit non\-zero and return an
error message on stderr, which will cause cdist to abort.
.sp
You can also use stderr for debugging purposes while developing a new
explorer.
.SH EXAMPLES
.sp
A very simple explorer may look like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
hostname
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Which is in practise the \fBhostname\fP explorer.
.sp
A type explorer, which could check for the status of a package may look like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if [ \-f "$__object/parameter/name" ]; then
   name="$(cat "$__object/parameter/name")"
else
   name="$__object_id"
fi

# Expect dpkg failing, if package is not known / installed
dpkg \-s "$name" 2>/dev/null || exit 0
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
\fI\%cdist(1)\fP
.IP \(bu 2
\fI\%cdist\-reference(7)\fP
.IP \(bu 2
\fI\%cdist\-stages(7)\fP
.UNINDENT
.SH COPYING
.sp
Copyright (C) 2010\-2014 Nico Schottelius. Free use of this software is
granted under the terms of the GNU General Public License version 3 (GPLv3).
.\" Generated by docutils manpage writer.
.
