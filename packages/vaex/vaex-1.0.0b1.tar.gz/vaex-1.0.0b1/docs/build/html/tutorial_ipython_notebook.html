

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-60052576-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial for vaex as a library &mdash; vaex  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="vaex  documentation" href="index.html"/>
        <link rel="up" title="Documentation" href="documentation.html"/>
        <link rel="next" title="API documentation for vaex" href="vaex.html"/>
        <link rel="prev" title="Gui Reference" href="gui_reference.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> vaex
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installing.html">Download and installing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gui_reference.html">Gui Reference</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tutorial for vaex as a library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-ipython-notebook">Run IPython notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="#starting">Starting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-a-dataset">Open a dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-subspaces">Using subspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting">Plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selections">Selections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#virtual-columns">Virtual columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataset-manipulations">Dataset manipulations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#concatenating-tables">concatenating tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shuffling">Shuffling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#statistics-on-multiple-subspaces">Statistics on multiple subspaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vaex.html">API documentation for vaex</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="tipsandfaq.html">Tips and FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">vaex</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="documentation.html">Documentation</a> &raquo;</li>
      
    <li>Tutorial for vaex as a library</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tutorial_ipython_notebook.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-for-vaex-as-a-library">
<h1>Tutorial for vaex as a library<a class="headerlink" href="#tutorial-for-vaex-as-a-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This tutorial shortly introduces how to use vaex from IPython notebook.
This tutorial assumes you have vaex installed as a library, you can run
<code class="docutils literal"><span class="pre">python</span> <span class="pre">-c</span> <span class="pre">'import</span> <span class="pre">vaex'</span></code> to check this. This document although not a
IPython notebook, is generated from a notebook, and you should be able
to reproduce all examples.</p>
</div>
<div class="section" id="run-ipython-notebook">
<h2>Run IPython notebook<a class="headerlink" href="#run-ipython-notebook" title="Permalink to this headline">¶</a></h2>
<p>From the IPython notebook website: &gt; The IPython Notebook is an
interactive computational environment, in which you can combine code
execution, rich text, mathematics, plots and rich media</p>
<p>To start it, run <code class="docutils literal"><span class="pre">$</span> <span class="pre">ipython</span> <span class="pre">notebook</span></code> in your shell, and it should
automatically open the main webpage. Start a new notebook by clicking
<code class="docutils literal"><span class="pre">new</span></code>.</p>
</div>
<div class="section" id="starting">
<h2>Starting<a class="headerlink" href="#starting" title="Permalink to this headline">¶</a></h2>
<p>Start you notebook by importing the relevant packages, for this
tutorial, we will be using vaex itself, numpy and matplotlib for
plotting. We also configure matplotib to show the plots in the notebook
itself</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">vaex</span> <span class="k">as</span> <span class="nn">vx</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="c"># simpler interface for matplotlib</span>
<span class="c"># next line configures matplotlib to show the plots in the notebook, other option is qt to open a dialog</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>
</div>
</div>
<div class="section" id="open-a-dataset">
<h2>Open a dataset<a class="headerlink" href="#open-a-dataset" title="Permalink to this headline">¶</a></h2>
<p>To open a dataset, we can call vx.open to open local files. See the
documentation of vaex.open for the arguments, hit shift-tab (1 or 2
times) or run <code class="docutils literal"><span class="pre">vx.open?</span></code> in the notebook for direct help. For this
tutorial we use <code class="docutils literal"><span class="pre">vx.example()</span></code> which opens a dataset provided with
vaex.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span> <span class="o">=</span> <span class="n">vx</span><span class="o">.</span><span class="n">example</span><span class="p">()</span>
<span class="c"># dataset = vx.open(&#39;yourfile.hdf5&#39;) # in case you want to load a different dataset</span>
</pre></div>
</div>
<p>You can get information about the dataset, such as the columns by simply
typing <code class="docutils literal"><span class="pre">dataset</span></code> as the last command in a cell.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">vaex</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">Hdf5MemoryMapped</span> <span class="n">at</span> <span class="mh">0x1138b7810</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To get a list with all column names, use Dataset&#8217;s get_column_names
method. Note that tab completion should work, typing <code class="docutils literal"><span class="pre">dataset.get_c</span></code>
and then pressing tab should help your complete it.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;vx&#39;</span><span class="p">,</span> <span class="s">&#39;vy&#39;</span><span class="p">,</span> <span class="s">&#39;vz&#39;</span><span class="p">,</span> <span class="s">u&#39;E&#39;</span><span class="p">,</span> <span class="s">u&#39;FeH&#39;</span><span class="p">,</span> <span class="s">u&#39;L&#39;</span><span class="p">,</span> <span class="s">u&#39;Lz&#39;</span><span class="p">,</span> <span class="s">u&#39;random_index&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="using-subspaces">
<h2>Using subspaces<a class="headerlink" href="#using-subspaces" title="Permalink to this headline">¶</a></h2>
<p>Since we often work with a few columns, for instance 2 when we want to
do plot, we create a <code class="docutils literal"><span class="pre">vaex.dataset.Subspace</span></code> from the dataset. We
don&#8217;t have to generate this object ourselves, we can call
dataset.subspace(...) or simply dataset(..) for short.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_xy</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">)</span>
<span class="c"># Same as subspace_xy = dataset.subspace(&quot;x&quot;, &quot;y&quot;)</span>
</pre></div>
</div>
<p>Subspace contain methods to compute statistics, n dimensional
histograms, and convenient plotting routines.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="nb">print</span> <span class="s">&quot;means&quot;</span><span class="p">,</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span> <span class="s">&quot;variance&quot;</span><span class="p">,</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">var</span><span class="p">()</span>
<span class="n">xlimits</span><span class="p">,</span> <span class="n">ylimits</span> <span class="o">=</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">minmax</span><span class="p">()</span>
<span class="nb">print</span> <span class="s">&quot;(xmin, xmax) =&quot;</span><span class="p">,</span> <span class="n">xlimits</span>
<span class="nb">print</span> <span class="s">&quot;(ymin, ymax) =&quot;</span><span class="p">,</span> <span class="n">ylimits</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">means</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.06713149</span> <span class="o">-</span><span class="mf">0.05358987</span><span class="p">]</span>
<span class="n">variance</span> <span class="p">[</span> <span class="mf">53.54972406</span>  <span class="mf">60.62545068</span><span class="p">]</span>
<span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">128.293991</span>  <span class="mf">271.365997</span><span class="p">]</span>
<span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span> <span class="o">-</span><span class="mf">71.5523682</span>  <span class="mf">146.465836</span> <span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">limits</span> <span class="o">=</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">limits_sigma</span><span class="p">(</span><span class="n">square</span><span class="o">=</span><span class="k">True</span><span class="p">)</span> <span class="c"># calculate the region around the mean with +/-3 sigma</span>
<span class="c"># square=True forces the boundaries to be square by taking the means of the for sigma the mean sigma</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">limits</span><span class="p">)</span>
</pre></div>
</div>
<p>Grid in this case is a two dimensional numpy array, which we will use
for plotting. In this case it is 256x256, but you can pass an integer as
argument to histogram to change the size (e.g.
<code class="docutils literal"><span class="pre">subspace_xy.histogram(limits,</span> <span class="pre">size=128)</span></code>.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="nb">print</span> <span class="s">&quot;grid shape&quot;</span><span class="p">,</span> <span class="n">grid</span><span class="o">.</span><span class="n">shape</span>
<span class="nb">print</span> <span class="n">grid</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="s">&quot;of a total of &quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">),</span> <span class="s">&quot;objects are visible&quot;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">grid</span> <span class="n">shape</span> <span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
<span class="mf">321201.0</span> <span class="n">of</span> <span class="n">a</span> <span class="n">total</span> <span class="n">of</span>  <span class="mi">330000</span> <span class="n">objects</span> <span class="n">are</span> <span class="n">visible</span>
</pre></div>
</div>
</div>
<div class="section" id="plotting">
<h2>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h2>
<p>Now that we have 2d histogram, we can plot this using matplotlib, by
using <code class="docutils literal"><span class="pre">pylab.imshow</span></code> (hint: use <code class="docutils literal"><span class="pre">pylab.imshow?</span></code> for help).</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">pylab</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x109a26650</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_16_1.png" src="_images/tutorial_ipython_notebook_16_1.png" />
<p>Matplotlib by default will show the image &#8216;upside down&#8217;, and it does not
have information about the axis.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="c"># limits is in the format [[xmin, xmax], [ymin, ymax]] while imshow wants it in</span>
<span class="c"># [xmin, xmax, ymin, ymax], therefore we need to flatten the numpy array</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">limits</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">origin</span><span class="o">=</span><span class="s">&#39;lower&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x109d26150</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_18_1.png" src="_images/tutorial_ipython_notebook_18_1.png" />
<p>For convenience, wou can also use subspace_xy.plot(grid, limits)</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_xy</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">limits</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x112988710</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_20_1.png" src="_images/tutorial_ipython_notebook_20_1.png" />
<p>A quicker way, but possibly less flexible is to use the Subspace.plot
method without any arguments. By default it will calculated the limits
of the subspace as above (by using limits_sigma) and will make a
histogram of 256x256 and plot with the default colormap of matplotlib.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_xy</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x112ab5b10</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_22_1.png" src="_images/tutorial_ipython_notebook_22_1.png" />
<p>Again, see the documentation of Subspace.plot by having the cursor near
that method and hitting shift-tab (1 or 2 times) or see
<a class="reference external" href="http://www.astro.rug.nl/~breddels/vaex/vaex.html#vaex.dataset.Subspace.plot">http://www.astro.rug.nl/~breddels/vaex/vaex.html#vaex.dataset.Subspace.plot</a>
for online documentation. You can also see the prettified sourcecode at
<a class="reference external" href="http://www.astro.rug.nl/~breddels/vaex/_modules/vaex/dataset.html#Subspace.plot">http://www.astro.rug.nl/~breddels/vaex/_modules/vaex/dataset.html#Subspace.plot</a>
. That should help you out finding out what the arguments are of plot.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_xy</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s">&quot;afmhot&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s">&quot;$x$ (kpc)&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s">&quot;$y$ (kpc)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x1131a3050</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_24_1.png" src="_images/tutorial_ipython_notebook_24_1.png" />
</div>
<div class="section" id="selections">
<h2>Selections<a class="headerlink" href="#selections" title="Permalink to this headline">¶</a></h2>
<p>For working with a part of the data, we introduce the concept of
selections. When a selection is applied to a dataset, it keeps a boolean
in memory for each row indicating it is selected or not. All operations
applied to a (selected) subspace then will only use the rows that are
selected.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;y &gt; x&quot;</span><span class="p">)</span>
<span class="c"># subspace_xy.selected() will return the same subspace, but will only use the selected rows</span>
<span class="n">subspace_xy_selected</span> <span class="o">=</span> <span class="n">subspace_xy</span><span class="o">.</span><span class="n">selected</span><span class="p">()</span>
<span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x114259450</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_26_1.png" src="_images/tutorial_ipython_notebook_26_1.png" />
<p>Selection can be made more complicated, or can be logically combined
using a boolean operator. The default is to replace the current
selections, other possiblities are: &#8220;replace&#8221;, &#8220;and&#8221;, &#8220;or&#8221;, &#8220;xor&#8221;,
&#8220;subtract&#8221;</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;y &gt; x&quot;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;y &gt; -x&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&quot;or&quot;</span><span class="p">)</span>
<span class="c"># this next line has the same effect as the above two</span>
<span class="c"># dataset.select(&quot;(y &gt; x) | (x &gt; -y)&quot;)</span>
<span class="c"># |,&amp; and ^ are used for or and and xor</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;x &gt; 5&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&quot;subtract&quot;</span><span class="p">)</span>
<span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x10fc6cb90</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_28_1.png" src="_images/tutorial_ipython_notebook_28_1.png" />
<p>Besides making plots, statisics can also be computed for selections</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="nb">print</span> <span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">minmax</span><span class="p">()</span>
<span class="nb">print</span> <span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span> <span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>
<span class="nb">print</span> <span class="n">subspace_xy_selected</span><span class="o">.</span><span class="n">mutual_information</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="p">[[</span><span class="o">-</span><span class="mf">128.293991</span>      <span class="mf">4.99998713</span><span class="p">]</span>
 <span class="p">[</span> <span class="o">-</span><span class="mf">62.4985847</span>   <span class="mf">146.465836</span>  <span class="p">]]</span>
<span class="p">[</span><span class="o">-</span><span class="mf">2.98854513</span>  <span class="mf">2.99097581</span><span class="p">]</span>
<span class="o">-</span><span class="mf">0.0148138454008</span>
<span class="mf">0.211676605999</span>
</pre></div>
</div>
</div>
<div class="section" id="virtual-columns">
<h2>Virtual columns<a class="headerlink" href="#virtual-columns" title="Permalink to this headline">¶</a></h2>
<p>If a particular expression occurs often, it may be convenient to create
a virtual column, it behaves exactly like a normal column, but it is
calculated on the fly (without taking up the memory of a full column,
since it is done is chunks).</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset</span><span class="o">.</span><span class="n">add_virtual_column</span><span class="p">(</span><span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="s">&quot;sqrt(x**2+y**2+z**2)&quot;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">add_virtual_column</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">,</span> <span class="s">&quot;sqrt(vx**2+vy**2+vz**2)&quot;</span><span class="p">)</span>
<span class="n">rv</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;log(r)&quot;</span><span class="p">,</span> <span class="s">&quot;log(v)&quot;</span><span class="p">)</span>
<span class="n">rv</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x10fbcc190</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_32_1.png" src="_images/tutorial_ipython_notebook_32_1.png" />
</div>
<div class="section" id="dataset-manipulations">
<h2>Dataset manipulations<a class="headerlink" href="#dataset-manipulations" title="Permalink to this headline">¶</a></h2>
<p>Vaex works best with hdf5 and fits files, but can import from other
sources as well. File formats are recognized by the extension. For .vot
a VOTable is assumed, and astropy is used for reading this. For .asc the
astropy&#8217;s ascii reader is used. However, these formats require the
dataset to fit into memory, and exporting them in hdf5 or fits format
may lead to better performance and faster read times. Datasets can also
be made from numpy arrays, in this example we create such a dataset, and
export it to disk.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="c"># Create a 6d gaussian clump</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10000</span><span class="p">))</span>
<span class="n">dataset_clump_arrays</span> <span class="o">=</span> <span class="n">vx</span><span class="o">.</span><span class="n">from_arrays</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">z</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">vx</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">vy</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">vz</span><span class="o">=</span><span class="n">q</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="n">dataset_clump_arrays</span><span class="o">.</span><span class="n">add_virtual_column</span><span class="p">(</span><span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="s">&quot;sqrt(x**2+y**2+z**2)&quot;</span><span class="p">)</span>
<span class="n">dataset_clump_arrays</span><span class="o">.</span><span class="n">add_virtual_column</span><span class="p">(</span><span class="s">&quot;v&quot;</span><span class="p">,</span> <span class="s">&quot;sqrt(vx**2+vy**2+vz**2)&quot;</span><span class="p">)</span>

<span class="c"># create a temporary file</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s">&quot;.hdf5&quot;</span><span class="p">)</span>

<span class="c"># when exporting takes long, progress=True will give a progress bar</span>
<span class="c"># here, we don&#39;t want to export virtual columns, which is the default</span>
<span class="n">dataset_clump_arrays</span><span class="o">.</span><span class="n">export_hdf5</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="k">True</span><span class="p">,</span> <span class="n">virtual</span><span class="o">=</span><span class="k">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;Exported to: %s&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">Exported</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="n">vn</span><span class="o">/</span><span class="n">_rmzj8jd0215_g9yfrn8pmgm0000gn</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">tmpSO0peE</span><span class="o">.</span><span class="n">hdf5</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">exporting</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="o">|</span><span class="c">####################################################################################################| Time: 0:00:00 CPU Usage:    33%</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset_clump</span> <span class="o">=</span> <span class="n">vx</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;Columns: %r&quot;</span> <span class="o">%</span> <span class="n">dataset_clump</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">Columns</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;vx&#39;</span><span class="p">,</span> <span class="s">&#39;vy&#39;</span><span class="p">,</span> <span class="s">&#39;vz&#39;</span><span class="p">,</span> <span class="s">u&#39;r&#39;</span><span class="p">,</span> <span class="s">u&#39;v&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="concatenating-tables">
<h3>concatenating tables<a class="headerlink" href="#concatenating-tables" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">dataset_combined</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dataset_clump</span><span class="p">)</span>
<span class="n">dataset_combined</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">AxesImage</span> <span class="n">at</span> <span class="mh">0x114063810</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="_images/tutorial_ipython_notebook_37_1.png" src="_images/tutorial_ipython_notebook_37_1.png" />
</div>
<div class="section" id="shuffling">
<h3>Shuffling<a class="headerlink" href="#shuffling" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
</div>
<div class="section" id="statistics-on-multiple-subspaces">
<h2>Statistics on multiple subspaces<a class="headerlink" href="#statistics-on-multiple-subspaces" title="Permalink to this headline">¶</a></h2>
<p>If we want to calculate a correlation coefficient, we first need to
calculate the mean, then the variance, and finally the covariance.
Subspace.correlation will calculate the mean and variance for you if you
don&#8217;t provide them.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_L_Lz</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;L&quot;</span><span class="p">,</span> <span class="s">&quot;Lz&quot;</span><span class="p">)</span>
<span class="n">means</span> <span class="o">=</span> <span class="n">subspace_L_Lz</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">vars</span> <span class="o">=</span> <span class="n">subspace_L_Lz</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">means</span><span class="o">=</span><span class="n">means</span><span class="p">)</span>
<span class="nb">print</span> <span class="s">&quot;means&quot;</span><span class="p">,</span> <span class="n">means</span>
<span class="nb">print</span> <span class="n">subspace_L_Lz</span><span class="o">.</span><span class="n">correlation</span><span class="p">(</span><span class="n">means</span><span class="o">=</span><span class="n">means</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="nb">vars</span><span class="p">)</span>
<span class="c"># this does the same but is much shorter</span>
<span class="nb">print</span> <span class="n">subspace_L_Lz</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">means</span> <span class="p">[</span> <span class="mf">921.3784318</span>   <span class="o">-</span><span class="mf">19.03954714</span><span class="p">]</span>
<span class="o">-</span><span class="mf">0.128941177077</span>
<span class="o">-</span><span class="mf">0.128941177077</span>
</pre></div>
</div>
<p>But if we now calculate the correlation coefficient of the E L subspace,
we again let vaex calculate the mean and variance of L, which was
already know.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">subspace_E_L</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;E&quot;</span><span class="p">,</span> <span class="s">&quot;L&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">subspace_E_L</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="mf">0.689061916491</span>
</pre></div>
</div>
<p>We can of course reuse the previous result, but stitching all this
together is quite cumbersome, especially when large number of subspaces
are used. The Subspaces object will solve this for you, it keeps a list
of Subspaces, and will only calculate statistics that are needed for
multiple subspaces once.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span class="c"># Dataset.subspaces can be called with a double list, where each element of the outer list defines a subspace</span>
<span class="n">subspaces</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">subspaces</span><span class="p">([[</span><span class="s">&quot;L&quot;</span><span class="p">,</span> <span class="s">&quot;Lz&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s">&quot;E&quot;</span><span class="p">,</span> <span class="s">&quot;L&quot;</span><span class="p">]])</span>
<span class="nb">print</span> <span class="s">&quot;same as before&quot;</span><span class="p">,</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>

<span class="c"># the same holds as before, we can also calculate and reuse statistics</span>
<span class="n">means</span> <span class="o">=</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">vars</span> <span class="o">=</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">means</span><span class="o">=</span><span class="n">means</span><span class="p">)</span>
<span class="nb">print</span> <span class="s">&quot;same as before&quot;</span><span class="p">,</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">correlation</span><span class="p">(</span><span class="n">means</span><span class="o">=</span><span class="n">means</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="nb">vars</span><span class="p">)</span>
<span class="c"># The same amount of calculations are done, we have a hold of the means and the variances</span>


<span class="c"># To generate all subspace for a particular dimension, call it with the dimensions=D argument</span>
<span class="n">all_subspaces_2d</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span> <span class="s">&quot;for all subspaces&quot;</span><span class="p">,</span> <span class="n">all_subspaces_2d</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">same</span> <span class="k">as</span> <span class="n">before</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.12894117707684433</span><span class="p">,</span> <span class="mf">0.6890619164905839</span><span class="p">]</span>
<span class="n">same</span> <span class="k">as</span> <span class="n">before</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.12894117707684433</span><span class="p">,</span> <span class="mf">0.6890619164905839</span><span class="p">]</span>
<span class="k">for</span> <span class="nb">all</span> <span class="n">subspaces</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.066913086088748977</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0265631290892482</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0077917898183533897</span><span class="p">,</span> <span class="mf">0.00014018798239597753</span><span class="p">,</span> <span class="mf">0.020449779578494913</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.012435764665545164</span><span class="p">,</span> <span class="mf">0.005261856198511411</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.025662862458597193</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0003029405530995955</span><span class="p">,</span> <span class="mf">0.0021574764913420436</span><span class="p">,</span> <span class="mf">0.030838572698653258</span><span class="p">,</span> <span class="mf">0.018049109980789083</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.004114980900371849</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.028477638600608889</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.006099113309550405</span><span class="p">,</span> <span class="mf">0.015003295277712896</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0083815889235114883</span><span class="p">,</span> <span class="mf">0.02726004976035179</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0027409865565532297</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.021753308878140792</span><span class="p">,</span> <span class="mf">0.029883551266369459</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.00965800489983153</span><span class="p">,</span> <span class="mf">0.012445189872135566</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.024137983404550291</span><span class="p">,</span> <span class="mf">0.0032310346098219944</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.063348964852397535</span><span class="p">,</span> <span class="mf">0.028387450432461939</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.035246043288534423</span><span class="p">,</span> <span class="mf">0.0055509909480080779</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0062806723118258622</span><span class="p">,</span> <span class="mf">0.010488839427889711</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0075209107558613496</span><span class="p">,</span> <span class="mf">0.023592191806746595</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0052291556882942836</span><span class="p">,</span> <span class="mf">0.009916570683825645</span><span class="p">,</span> <span class="mf">0.017862999064108414</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.011055183715438959</span><span class="p">,</span> <span class="mf">0.023488436893898477</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.023123249722938017</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.00077871846792181292</span><span class="p">,</span> <span class="mf">0.019210991480122563</span><span class="p">,</span> <span class="mf">0.0037574260093161636</span><span class="p">,</span> <span class="mf">0.03107657136014141</span><span class="p">,</span> <span class="mf">0.032964641837115817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.011321762177835131</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.014068223053459507</span><span class="p">,</span> <span class="mf">0.6890619164905839</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.094040208953642915</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.12944388042620145</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.081442574464782119</span><span class="p">,</span> <span class="mf">0.46532584829377482</span><span class="p">,</span> <span class="mf">0.21506901118802788</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.12894117707684433</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.01195286572781868</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.221598102910189</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span class="n">names</span> <span class="o">=</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">names</span><span class="p">()</span>
<span class="n">correlations</span> <span class="o">=</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">correlation</span><span class="p">()</span>
<span class="n">mutual_information</span> <span class="o">=</span> <span class="n">subspaces</span><span class="o">.</span><span class="n">mutual_information</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">astropy.io</span> <span class="k">import</span> <span class="n">ascii</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">ascii</span><span class="o">.</span><span class="n">write</span><span class="p">([</span><span class="n">names</span><span class="p">,</span> <span class="n">correlations</span><span class="p">,</span> <span class="n">mutual_information</span><span class="p">],</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;names&quot;</span><span class="p">,</span> <span class="s">&quot;correlations&quot;</span><span class="p">,</span> <span class="s">&quot;mutual_information&quot;</span><span class="p">])</span>
<span class="c"># replace sys.stdout by a filename such as &quot;example.asc&quot;</span>
<span class="n">filename_asc</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s">&quot;.asc&quot;</span><span class="p">)</span>
<span class="n">ascii</span><span class="o">.</span><span class="n">write</span><span class="p">([</span><span class="n">names</span><span class="p">,</span> <span class="n">correlations</span><span class="p">,</span> <span class="n">mutual_information</span><span class="p">],</span> <span class="n">filename_asc</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;names&quot;</span><span class="p">,</span> <span class="s">&quot;correlations&quot;</span><span class="p">,</span> <span class="s">&quot;mutual_information&quot;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s">&quot;--------&quot;</span><span class="p">)</span>
<span class="c"># or write it as a latex table</span>
<span class="n">ascii</span><span class="o">.</span><span class="n">write</span><span class="p">([</span><span class="n">names</span><span class="p">,</span> <span class="n">correlations</span><span class="p">,</span> <span class="n">mutual_information</span><span class="p">],</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;names&quot;</span><span class="p">,</span> <span class="s">&quot;correlations&quot;</span><span class="p">,</span> <span class="s">&quot;mutual information&quot;</span><span class="p">],</span> <span class="n">Writer</span><span class="o">=</span><span class="n">ascii</span><span class="o">.</span><span class="n">Latex</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
names correlations mutual_information
&quot;L Lz&quot; -0.12894117707684433 1.0372683973090797
&quot;E L&quot; 0.6890619164905839 0.7143281792612234
--------
begin{table}
begin{tabular}{ccc}
names &amp; correlations &amp; mutual information \
L Lz &amp; -0.128941177077 &amp; 1.03726839731 \
E L &amp; 0.689061916491 &amp; 0.714328179261 \
end{tabular}
end{table}
</pre>
<div class="code python highlight-default"><div class="highlight"><pre><span class="c"># reading it back in</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">ascii</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">filename_asc</span><span class="p">)</span>
<span class="nb">print</span> <span class="s">&quot;this is an astropy table:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">table</span>
<span class="n">correlations</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s">&quot;correlations&quot;</span><span class="p">]</span>
<span class="nb">print</span>
<span class="nb">print</span> <span class="s">&quot;this is an astropy column:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">correlations</span>
<span class="nb">print</span>
<span class="nb">print</span> <span class="s">&quot;this is the numpy data:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">correlations</span><span class="o">.</span><span class="n">data</span>
<span class="c"># short: table[&quot;correlation&quot;].data</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span class="n">this</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">astropy</span> <span class="n">table</span><span class="p">:</span>
<span class="n">names</span>   <span class="n">correlations</span>  <span class="n">mutual_information</span>
<span class="o">-----</span> <span class="o">---------------</span> <span class="o">------------------</span>
 <span class="n">L</span> <span class="n">Lz</span> <span class="o">-</span><span class="mf">0.128941177077</span>      <span class="mf">1.03726839731</span>
  <span class="n">E</span> <span class="n">L</span>  <span class="mf">0.689061916491</span>     <span class="mf">0.714328179261</span>

<span class="n">this</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">astropy</span> <span class="n">column</span><span class="p">:</span>
  <span class="n">correlations</span>
<span class="o">---------------</span>
<span class="o">-</span><span class="mf">0.128941177077</span>
 <span class="mf">0.689061916491</span>

<span class="n">this</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">numpy</span> <span class="n">data</span><span class="p">:</span>
<span class="p">[</span><span class="o">-</span><span class="mf">0.12894118</span>  <span class="mf">0.68906192</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vaex.html" class="btn btn-neutral float-right" title="API documentation for vaex" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gui_reference.html" class="btn btn-neutral" title="Gui Reference" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Maarten A. Breddels.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>