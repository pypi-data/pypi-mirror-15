<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>tlslite.messagesocket.MessageSocket</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="tlslite-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="tlslite-module.html">Package&nbsp;tlslite</a> ::
        <a href="tlslite.messagesocket-module.html">Module&nbsp;messagesocket</a> ::
        Class&nbsp;MessageSocket
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="tlslite.messagesocket.MessageSocket-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class MessageSocket</h1><p class="nomargin-top"><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_tlslite__98" name="uml_class_diagram_for_tlslite__98">
<area shape="rect" id="node1_29" href="tlslite.messagesocket.MessageSocket-class.html#recordSize" title="maximum size of records sent through socket." alt="" coords="223,445,429,465"/>
<area shape="rect" id="node1_30" href="tlslite.messagesocket.MessageSocket-class.html#unfragmentedDataTypes" title="data types which will be passed as&#45;read, TLS application_data by default" alt="" coords="223,465,429,485"/>
<area shape="rect" id="node1_31" href="tlslite.messagesocket.MessageSocket-class.html#__init__" title="Apply TLS Record Layer abstraction to raw network socket." alt="" coords="223,488,429,508"/>
<area shape="rect" id="node1_32" href="tlslite.messagesocket.MessageSocket-class.html#flush" title="Empty the queue of messages to write" alt="" coords="223,508,429,528"/>
<area shape="rect" id="node1_33" href="tlslite.messagesocket.MessageSocket-class.html#flushBlocking" title="Blocking variant of flush" alt="" coords="223,528,429,548"/>
<area shape="rect" id="node1_34" href="tlslite.messagesocket.MessageSocket-class.html#queueMessage" title="Queue message for sending" alt="" coords="223,548,429,568"/>
<area shape="rect" id="node1_35" href="tlslite.messagesocket.MessageSocket-class.html#queueMessageBlocking" title="Blocking variant of queueMessage" alt="" coords="223,568,429,588"/>
<area shape="rect" id="node1_36" href="tlslite.messagesocket.MessageSocket-class.html#recvMessage" title="Read next message in queue" alt="" coords="223,588,429,608"/>
<area shape="rect" id="node1_37" href="tlslite.messagesocket.MessageSocket-class.html#recvMessageBlocking" title="Blocking variant of recvMessage" alt="" coords="223,608,429,628"/>
<area shape="rect" id="node1_38" href="tlslite.messagesocket.MessageSocket-class.html#sendMessage" title="Fragment and send a message." alt="" coords="223,628,429,648"/>
<area shape="rect" id="node1_39" href="tlslite.messagesocket.MessageSocket-class.html#sendMessageBlocking" title="Blocking variant of sendMessage" alt="" coords="223,648,429,668"/>
<area shape="rect" id="node1" href="tlslite.messagesocket.MessageSocket-class.html" title="TLS Record Layer socket that provides Message level abstraction" alt="" coords="210,421,441,675"/>
<area shape="rect" id="node2" href="tlslite.defragmenter.Defragmenter-class.html" title="Class for demultiplexing TLS messages." alt="" coords="229,711,424,749"/>
<area shape="poly" id="edge1" href="tlslite.messagesocket.MessageSocket-class.html#defragmenter" title="tlslite.messagesocket.MessageSocket.defragmenter" alt="" coords="329,669,329,702,324,702,324,669"/>
<area shape="rect" id="edge1-label" href="tlslite.messagesocket.MessageSocket-class.html#defragmenter" title="defragmenter" alt="" coords="327,685,404,700"/>
<area shape="rect" id="node3_40" href="tlslite.recordlayer.RecordLayer-class.html#blockSize" title="Return the size of block used by current symmetric cipher (R/O)" alt="" coords="17,30,636,50"/>
<area shape="rect" id="node3_41" href="tlslite.recordlayer.RecordLayer-class.html#client" title="whether the connection should use encryption" alt="" coords="17,50,636,70"/>
<area shape="rect" id="node3_42" href="tlslite.recordlayer.RecordLayer-class.html#encryptThenMAC" title="use the encrypt&#45;then&#45;MAC mechanism for record integrity" alt="" coords="17,70,636,90"/>
<area shape="rect" id="node3_43" href="tlslite.recordlayer.RecordLayer-class.html#handshake_finished" title="used in SSL2, True if handshake protocol is over" alt="" coords="17,90,636,110"/>
<area shape="rect" id="node3_44" href="tlslite.recordlayer.RecordLayer-class.html#sock" title="underlying socket" alt="" coords="17,110,636,130"/>
<area shape="rect" id="node3_45" href="tlslite.recordlayer.RecordLayer-class.html#version" title="the TLS version to use (tuple encoded as on the wire)" alt="" coords="17,130,636,150"/>
<area shape="rect" id="node3_46" href="tlslite.recordlayer.RecordLayer-class.html#addPadding" title="Add padding to data so that it is multiple of block size" alt="" coords="17,153,636,173"/>
<area shape="rect" id="node3_47" href="tlslite.recordlayer.RecordLayer-class.html#calcPendingStates" title="Create pending states for encryption and decryption." alt="" coords="17,173,636,193"/>
<area shape="rect" id="node3_48" href="tlslite.recordlayer.RecordLayer-class.html#calcSSL2PendingStates" title="Create the keys for encryption and decryption in SSLv2" alt="" coords="17,193,636,213"/>
<area shape="rect" id="node3_49" href="tlslite.recordlayer.RecordLayer-class.html#calculateMAC" title="Calculate the SSL/TLS version of a MAC" alt="" coords="17,213,636,233"/>
<area shape="rect" id="node3_50" href="tlslite.recordlayer.RecordLayer-class.html#changeReadState" title="Change the cipher state to the pending one for read operations." alt="" coords="17,233,636,253"/>
<area shape="rect" id="node3_51" href="tlslite.recordlayer.RecordLayer-class.html#changeWriteState" title="Change the cipher state to the pending one for write operations." alt="" coords="17,253,636,273"/>
<area shape="rect" id="node3_52" href="tlslite.recordlayer.RecordLayer-class.html#getCipherImplementation" title="Return the name of the implementation used for the connection" alt="" coords="17,273,636,293"/>
<area shape="rect" id="node3_53" href="tlslite.recordlayer.RecordLayer-class.html#getCipherName" title="Return the name of the bulk cipher used by this connection" alt="" coords="17,293,636,313"/>
<area shape="rect" id="node3_54" href="tlslite.recordlayer.RecordLayer-class.html#isCBCMode" title="Returns true if cipher uses CBC mode" alt="" coords="17,313,636,333"/>
<area shape="rect" id="node3_55" href="tlslite.recordlayer.RecordLayer-class.html#recvRecord" title="Read, decrypt and check integrity of a single record" alt="" coords="17,333,636,353"/>
<area shape="rect" id="node3_56" href="tlslite.recordlayer.RecordLayer-class.html#sendRecord" title="Encrypt, MAC and send arbitrary message as&#45;is through socket." alt="" coords="17,353,636,373"/>
<area shape="rect" id="node3_57" href="tlslite.recordlayer.RecordLayer-class.html#shutdown" title="Clear read and write states" alt="" coords="17,373,636,393"/>
<area shape="rect" id="node3" href="tlslite.recordlayer.RecordLayer-class.html" title="Implementation of TLS record layer protocol" alt="" coords="5,5,648,399"/>
</map>
  <img src="uml_class_diagram_for_tlslite__98.png" alt='' usemap="#uml_class_diagram_for_tlslite__98" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>TLS Record Layer socket that provides Message level abstraction</p>
  <p>Because the record layer has a hard size limit on sent messages, they 
  need to be fragmented before sending. Similarly, a single record layer 
  record can include multiple handshake protocol messages (very common with
  ServerHello, Certificate and ServerHelloDone), as such, the user of 
  RecordLayer needs to fragment those records into multiple messages. 
  Unfortunately, fragmentation of messages requires some degree of 
  knowledge about the messages passed and as such is outside scope of pure 
  record layer implementation.</p>
  <p>This class tries to provide a useful abstraction for handling 
  Handshake protocol messages.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tlslite.messagesocket.MessageSocket-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">sock</span>,
        <span class="summary-sig-arg">defragmenter</span>)</span><br />
      Apply TLS Record Layer abstraction to raw network socket.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">generator</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tlslite.messagesocket.MessageSocket-class.html#flush" class="summary-sig-name">flush</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Empty the queue of messages to write</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.flush">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="flushBlocking"></a><span class="summary-sig-name">flushBlocking</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Blocking variant of <a 
      href="tlslite.messagesocket.MessageSocket-class.html#flush" 
      class="link">flush</a></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.flushBlocking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">generator</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tlslite.messagesocket.MessageSocket-class.html#queueMessage" class="summary-sig-name">queueMessage</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">msg</span>)</span><br />
      Queue message for sending</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.queueMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="queueMessageBlocking"></a><span class="summary-sig-name">queueMessageBlocking</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">msg</span>)</span><br />
      Blocking variant of <a 
      href="tlslite.messagesocket.MessageSocket-class.html#queueMessage" 
      class="link">queueMessage</a></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.queueMessageBlocking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">generator</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tlslite.messagesocket.MessageSocket-class.html#recvMessage" class="summary-sig-name">recvMessage</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Read next message in queue</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.recvMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="recvMessageBlocking"></a><span class="summary-sig-name">recvMessageBlocking</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Blocking variant of <a 
      href="tlslite.messagesocket.MessageSocket-class.html#recvMessage" 
      class="link">recvMessage</a></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.recvMessageBlocking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">generator</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="tlslite.messagesocket.MessageSocket-class.html#sendMessage" class="summary-sig-name">sendMessage</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">msg</span>)</span><br />
      Fragment and send a message.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.sendMessage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="sendMessageBlocking"></a><span class="summary-sig-name">sendMessageBlocking</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">msg</span>)</span><br />
      Blocking variant of <a 
      href="tlslite.messagesocket.MessageSocket-class.html#sendMessage" 
      class="link">sendMessage</a></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.sendMessageBlocking">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="tlslite.recordlayer.RecordLayer-class.html">recordlayer.RecordLayer</a></code></b>:
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#addPadding">addPadding</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#calcPendingStates">calcPendingStates</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#calcSSL2PendingStates">calcSSL2PendingStates</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#calculateMAC">calculateMAC</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#changeReadState">changeReadState</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#changeWriteState">changeWriteState</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#getCipherImplementation">getCipherImplementation</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#getCipherName">getCipherName</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#isCBCMode">isCBCMode</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#recvRecord">recvRecord</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#sendRecord">sendRecord</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#shutdown">shutdown</a></code>
      </p>
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="tlslite.recordlayer.RecordLayer-class.html">recordlayer.RecordLayer</a></code></b> (private):
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_calcKeyBlock" onclick="show_private();">_calcKeyBlock</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_decryptAndUnseal" onclick="show_private();">_decryptAndUnseal</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_decryptSSL2" onclick="show_private();">_decryptSSL2</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_decryptStreamThenMAC" onclick="show_private();">_decryptStreamThenMAC</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_decryptThenMAC" onclick="show_private();">_decryptThenMAC</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_encryptThenMAC" onclick="show_private();">_encryptThenMAC</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_encryptThenSeal" onclick="show_private();">_encryptThenSeal</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_macThenDecrypt" onclick="show_private();">_macThenDecrypt</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_macThenEncrypt" onclick="show_private();">_macThenEncrypt</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_ssl2Encrypt" onclick="show_private();">_ssl2Encrypt</a></code>
      </p></div>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== STATIC METHODS ==================== -->
<a name="section-StaticMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Static Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-StaticMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <div class="private">    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="tlslite.recordlayer.RecordLayer-class.html">recordlayer.RecordLayer</a></code></b> (private):
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_getCipherSettings" onclick="show_private();">_getCipherSettings</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_getHMACMethod" onclick="show_private();">_getHMACMethod</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#_getMacSettings" onclick="show_private();">_getMacSettings</a></code>
      </p></div>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><a href="tlslite.defragmenter.Defragmenter-class.html" 
      class="link">Defragmenter</a></span>
    </td><td class="summary">
        <a name="defragmenter"></a><span class="summary-name">defragmenter</span><br />
      defragmenter used for read records
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">int</span>
    </td><td class="summary">
        <a href="tlslite.messagesocket.MessageSocket-class.html#recordSize" class="summary-name">recordSize</a><br />
      maximum size of records sent through socket.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">tuple</span>
    </td><td class="summary">
        <a name="unfragmentedDataTypes"></a><span class="summary-name">unfragmentedDataTypes</span><br />
      data types which will be passed as-read, TLS application_data by 
      default
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="tlslite.recordlayer.RecordLayer-class.html">recordlayer.RecordLayer</a></code></b>:
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#client">client</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#encryptThenMAC">encryptThenMAC</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#handshake_finished">handshake_finished</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#sock">sock</a></code>,
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#version">version</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="tlslite.recordlayer.RecordLayer-class.html">recordlayer.RecordLayer</a></code></b>:
      <code><a href="tlslite.recordlayer.RecordLayer-class.html#blockSize">blockSize</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">sock</span>,
        <span class="sig-arg">defragmenter</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Apply TLS Record Layer abstraction to raw network socket.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>sock</code></strong> (<code class="link">socket.socket</code>) - network socket to wrap</li>
        <li><strong class="pname"><code>defragmenter</code></strong> (<a href="tlslite.defragmenter.Defragmenter-class.html" 
          class="link">Defragmenter</a>) - defragmenter to apply on the records read</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="flush"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">flush</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.flush">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Empty the queue of messages to write</p>
  <p>Will fragment the messages and write them in as little records as 
  possible.</p>
  <dl class="fields">
    <dt>Returns: generator</dt>
  </dl>
</td></tr></table>
</div>
<a name="queueMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">queueMessage</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">msg</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.queueMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Queue message for sending</p>
  <p>If the message is of same type as messages in queue, the message is 
  just added to queue.</p>
  <p>If the message is of different type as messages in queue, the queue is
  flushed and then the message is queued.</p>
  <dl class="fields">
    <dt>Returns: generator</dt>
  </dl>
</td></tr></table>
</div>
<a name="recvMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">recvMessage</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.recvMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Read next message in queue</p>
  <p>will return a 0 or 1 if the read is blocking, a tuple of <a 
  href="tlslite.messages.RecordHeader3-class.html" 
  class="link">RecordHeader3</a> and <a 
  href="tlslite.utils.codec.Parser-class.html" class="link">Parser</a> in 
  case a message was received.</p>
  <dl class="fields">
    <dt>Returns: generator</dt>
  </dl>
</td></tr></table>
</div>
<a name="sendMessage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sendMessage</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">msg</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="tlslite.messagesocket-pysrc.html#MessageSocket.sendMessage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Fragment and send a message.</p>
  <p>If a messages already of same type reside in queue, the message if 
  first added to it and then the queue is flushed.</p>
  <p>If the message is of different type than the queue, the queue is 
  flushed, the message is added to queue and the queue is flushed 
  again.</p>
  <p>Use the sendRecord() message if you want to send a message outside the
  queue, or a message of zero size.</p>
  <dl class="fields">
    <dt>Returns: generator</dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== INSTANCE VARIABLE DETAILS ==================== -->
<a name="section-InstanceVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="recordSize"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">recordSize</h3>
  maximum size of records sent through socket. Messages bigger than this 
  size will be fragmented to smaller chunks. Setting it to higher value 
  than the default 2^14 will make the implementation non RFC compliant and 
  likely not interoperable with other peers.
  <dl class="fields">
    <dt>Type:</dt>
      <dd>int</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="tlslite-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Jun  9 16:57:11 2016
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
