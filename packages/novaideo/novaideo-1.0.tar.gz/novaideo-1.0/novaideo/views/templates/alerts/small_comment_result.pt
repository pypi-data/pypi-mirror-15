<div tal:omit-tag="" 
	 tal:define="is_respons getattr(object, 'is_respons', False);
	             author_title getattr(object, 'author_title', '');
                 author_first_name getattr(object, 'author_first_name', '');
                 author_last_name getattr(object, 'author_last_name', '');
                 author_parts [author_title, author_first_name, author_last_name];
                 author ' '.join([a for a in author_parts if a]);
                 comment_kind getattr(object, 'comment_kind', 'comment')">
	<div
	     i18n:domain="novaideo"
	     tal:condition="object.subjects">

     <div tal:condition="comment_kind == 'comment'">  
		  <div 
		     tal:condition="not is_respons"
		  	 tal:define="subject object.subjects[0];
		  	             icon 'glyphicon glyphicon-comment'">
		    <h4><span class="icon ${icon}"></span> <span tal:replace="layout.to_localized_time(object.modified_at)"/> (UTC)</h4>
		    <span>${author or 'Une personne'} a commenté la contribution <a href="${request.resource_url(subject, '@@index')+'#comment-'+str(getattr(object, 'comment_oid', 'None'))}">
		    	<span class="${getattr(subject, 'icon')}"></span> ${subject.title}</a>.
		    </span>
		  </div>
		  <div 
		     tal:condition="is_respons"
		  	 tal:define="subject object.subjects[0];
		  	             icon 'glyphicon glyphicon-share-alt'">
		    <h4><span class="icon ${icon}"></span> <span tal:replace="layout.to_localized_time(object.modified_at)"/> (UTC)</h4>
		    <span>${author or 'Une personne'} a répondu à votre commentaire concernant la contribution <a href="${request.resource_url(subject, '@@index')+'#comment-'+str(getattr(object, 'comment_oid', 'None'))}"><span class="${getattr(subject, 'icon')}"></span> ${subject.title}</a>.</span>
		  </div>
	  </div>
	  <div tal:condition="comment_kind == 'discuss'">  
		  <div 
		     tal:condition="not is_respons"
		  	 tal:define="subject object.subjects[0];
		  	             icon 'glyphicon glyphicon-comment'">
		    <h4><span class="icon ${icon}"></span> <span tal:replace="layout.to_localized_time(object.modified_at)"/> (UTC)</h4>
		    <span>${author or 'Une personne'} a ajouté un message à votre discussion <a href="${request.resource_url(subject, '@@index')+'#comment-'+str(getattr(object, 'comment_oid', 'None'))}">
		    	<span class="${getattr(subject, 'icon')}"></span> ${subject.title}</a>.
		    </span>
		  </div>
		  <div 
		     tal:condition="is_respons"
		  	 tal:define="subject object.subjects[0];
		  	             icon 'glyphicon glyphicon-share-alt'">
		    <h4><span class="icon ${icon}"></span> <span tal:replace="layout.to_localized_time(object.modified_at)"/> (UTC)</h4>
		    <span><a href="${request.resource_url(subject, '@@index')+'#comment-'+str(getattr(object, 'comment_oid', 'None'))}"><span class="${getattr(subject, 'icon')}"></span> ${subject.title}</a> a répondu à votre message.</span>
		  </div>
	  </div>
	</div>
</div>