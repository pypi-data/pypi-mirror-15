webpackJsonp([9],{0:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}var o=s(1),r=i(o),a=s(79),c=i(a),h=s(82),u=s(223),p=i(u),d=s(225),f=i(d);window.PTL=window.PTL||{},PTL.user={init:function(e){if(void 0!==e.userData){var t=document.querySelector(".js-user-profile-edit"),s=new h.User(e.userData,{urlRoot:l("/xhr/users/")}),i={router:new f["default"],appRoot:e.appRoot,user:s};r["default"].render(r["default"].createElement(p["default"],i),t);var o=document.querySelectorAll(".js-popup-tweet");[].concat(n(o)).map(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=500,s=260,i=screen.width/2-t/2,n=screen.height/2-s/2;window.open(e.currentTarget.href,"_blank","width="+t+",height="+s+",left="+i+",top="+n)})})}var a=document.querySelector(".js-last-action"),u=e.lastEvent,d={checkName:u.check_name,checkDisplayName:u.check_display_name,displayName:u.displayname,email:u.email,displayDatetime:u.display_datetime,isoDatetime:u.iso_datetime,type:u.type,translationActionType:u.translation_action_type,unitSource:u.unit_source,unitUrl:u.unit_url,username:u.username};r["default"].render(r["default"].createElement(c["default"],d),a)}}},10:function(e,t,s){"use strict";var i=s(3);s(26);var n=/<[^<]*?>|\r\n|[\r\n\t&<>]/gm,o=/^ +| +$|[\r\n\t] +| {2,}/gm,r=function(e){return(e||window).location.toString().split("#",2)[1]||""},a=function(e){return decodeURIComponent(e.replace(/\+/g," "))},l=function(e){var t,s={},i=/([^&;=]+)=?([^&;]*)/g;for(void 0===e&&(e=this.getHash());t=i.exec(e);)s[a(t[1])]=a(t[2]);return s},c=function(e,t,s){for(var n,o,l,c=/([^&;=]+)=?([^&;]*)/g,h=[],u=r();n=c.exec(u);)l=a(n[1]),l===e?(h.push([n[1],encodeURIComponent(t)].join("=")),o=!0):i.inArray(l,s)===-1&&h.push([n[1],n[2]].join("="));return o||h.push([encodeURIComponent(e),encodeURIComponent(t)].join("=")),h.join("&")},h=function(e,t){return e===t?0:e<t?-1:1},u=function(e){return e.replace(/\\t/g,"\t").replace(/\\n/g,"")},p=function b(e){function t(e){var t,s='<span class="highlight-escape">%s</span>',i='<span class="highlight-html">&lt;%s&gt;</span>',n={"\r\n":s.replace(/%s/,"\\r\\n")+"<br/>\n","\r":s.replace(/%s/,"\\r")+"<br/>\n","\n":s.replace(/%s/,"\\n")+"<br/>\n","\t":s.replace(/%s/,"\\t"),"&":"&amp;","<":"&lt;",">":"&gt;"};return t=n[e],void 0===t&&(t=i.replace(/%s/,b(e.slice(1,e.length-1)))),t}return e.replace(n,t)},d=function(e){function t(e){var t='<span class="translation-space"> </span>';return Array(e.length+1).join(t)}return e.replace(o,t)},f=function(e){return d(p(e))},m=function(e){var t,s,i=Date.now()-e,n=Math.round(Math.abs(i)/1e3),o=Math.round(n/60),r=Math.round(o/60),a=Math.round(r/24),l=Math.round(a/7),c=Math.round(a/365);return c>0?(t=ngettext("A year ago","%s years ago",c),s=[c]):l>0?(t=ngettext("A week ago","%s weeks ago",l),s=[l]):a>0?(t=ngettext("Yesterday","%s days ago",a),s=[a]):r>0?(t=ngettext("An hour ago","%s hours ago",r),s=[r]):o>0&&(t=ngettext("A minute ago","%s minutes ago",o),s=[o]),t?interpolate(t,s):gettext("A few seconds ago")},g=function(e,t,s){var n=i(e);n.length&&(n.select2(t),n.on("change",s))},v=function(e,t){for(var s=Array.prototype.slice.call(arguments).splice(2),i=e.split("."),n=i.pop(),o=0;o<i.length;o++)t=t[i[o]];return t[n].apply(this,s)},y=function C(e,t,s,i){e.toggleClass(t),s>1&&setTimeout(function(){return C(e,t,s-1,i)},i)};e.exports={getHash:r,getParsedHash:l,updateHashPart:c,strCmp:h,cleanEscape:u,fancyEscape:p,fancyHl:f,relativeDate:m,makeSelectableInput:g,executeFunctionByName:v,blinkClass:y}},16:function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(1),o=s(4),r=s(52),a=n.createClass({displayName:"FormElement",propTypes:{type:n.PropTypes.string,attribute:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired,handleChange:n.PropTypes.func.isRequired,formData:n.PropTypes.object.isRequired,help:n.PropTypes.string,errors:n.PropTypes.object},getDefaultProps:function(){return{type:"text"}},render:function(){var e=this.props.attribute,t=["id",e].join("_"),s=this.props.help,i=o.size(this.props.errors)>0&&this.props.errors[e],r={text:l,email:l,password:l,textarea:l,checkbox:c,radio:c,select:h}[this.props.type],a={id:t,name:e,value:this.props.formData[e]};"select"===this.props.type&&(a.value=a.value.toString(),a.placeholder=gettext("Select..."),a.noResultsText=gettext("No results found"),a.clearValueText=gettext("Clear value"),a.clearAllText=gettext("Clear all"),a.searchPromptText=gettext("Type to search"));var u=o.extend({},this.props,a),p=n.createFactory(r)(u);return n.createElement("div",{className:"field-wrapper"},n.createElement("label",{htmlFor:t},this.props.label),p,i&&n.createElement("ul",{className:"errorlist"},i.map(function(e,t){return n.createElement("li",{key:t},e)})),s&&n.createElement("span",{className:"helptext"},s))}}),l=n.createClass({displayName:"FormValueInput",handleChange:function(e){this.props.handleChange(e.target.name,e.target.value)},render:function(){return"textarea"===this.props.type?n.createElement("textarea",i({onChange:this.handleChange},this.props)):n.createElement("input",i({onChange:this.handleChange},this.props))}}),c=n.createClass({displayName:"FormCheckedInput",handleChange:function(e){this.props.handleChange(e.target.name,e.target.checked)},render:function(){return n.createElement("input",i({checked:this.props.value,onChange:this.handleChange},this.props))}}),h=n.createClass({displayName:"FormSelectInput",propTypes:{name:n.PropTypes.string.isRequired,value:n.PropTypes.string.isRequired,options:n.PropTypes.array.isRequired,handleChange:n.PropTypes.func.isRequired},handleChange:function(e,t){this.props.handleChange(this.props.name,e)},render:function(){return n.createElement(r,i({value:this.props.value.toString(),options:this.props.options,onChange:this.handleChange},this.props))}});e.exports={FormElement:a}},17:function(e,t,s){"use strict";var i=s(1),n=s(4),o=s(50),r={getInitialState:function(){return{errors:{}}},clearValidation:function(){this.setState({errors:{}})},validateResponse:function(e){var t=JSON.parse(e.responseText);this.setState({errors:t.errors})},renderSingleError:function(e,t){return i.createElement("li",{key:t},e)},renderAllFormErrors:function(){var e=this.state.errors;return e.hasOwnProperty("__all__")?i.createElement("ul",{className:"errorlist errorlist-all"},e.__all__.map(this.renderSingleError)):null}},a={mixins:[r],getInitialState:function(){return{isDirty:!1}},handleChange:function(e,t){var s=n.extend({},this.state.formData);s[e]=t;var i=!n.isEqual(s,this.initialData);this.setState({formData:s,isDirty:i})},handleFormSuccess:function(){this.clearValidation(),this.initialData=n.extend({},this.state.formData),this.setState({isDirty:!1}),this.handleSuccess&&this.handleSuccess(this.getResource())},handleFormError:function(e){this.validateResponse(e),this.handleError&&this.handleError(e)}},l={mixins:[o,a],propTypes:{model:i.PropTypes.object.isRequired},getInitialState:function(){return this.initialData=n.pick(this.getResource().toJSON(),this.fields),{formData:n.extend({},this.initialData)}},componentDidMount:function(){if(n.isUndefined(this.fields))throw new Error("To use ModelFormMixin, you must define a `fields` property.");if(!n.isArray(this.fields))throw new Error("The `fields` property must be an array.")},getResource:function(){return this.props.model},handleFormSubmit:function(e){e.preventDefault(),this.getResource().save(this.state.formData,{wait:!0}).done(this.handleFormSuccess).error(this.handleFormError)}};e.exports={FormMixin:a,FormValidationMixin:r,ModelFormMixin:l}},21:function(e,t,s){/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
function i(){for(var e,t="",s=0;s<arguments.length;s++)if(e=arguments[s])if("string"==typeof e||"number"==typeof e)t+=" "+e;else if("[object Array]"===Object.prototype.toString.call(e))t+=" "+i.apply(null,e);else if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&e[n]&&(t+=" "+n);return t.substr(1)}var n,o;"undefined"!=typeof e&&e.exports&&(e.exports=i),n=[],o=function(){return i}.apply(t,n),!(void 0!==o&&(e.exports=o))},26:function(e,t){!function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var s=e([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&t.call(s[0],i,s)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function s(e,t){for(var s=0,i=t.length;s<i;s+=1)if(n(e,t[s]))return s;return-1}function i(){var t=e(F);t.appendTo("body");var s={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),s}function n(e,s){return e===s||e!==t&&s!==t&&(null!==e&&null!==s&&(e.constructor===String?e+""==s+"":s.constructor===String&&s+""==e+""))}function o(t,s){var i,n,o;if(null===t||t.length<1)return[];for(i=t.split(s),n=0,o=i.length;n<o;n+=1)i[n]=e.trim(i[n]);return i}function r(e){return e.outerWidth(!1)-e.width()}function a(s){var i="keyup-change-value";s.on("keydown",function(){e.data(s,i)===t&&e.data(s,i,s.val())}),s.on("keyup",function(){var n=e.data(s,i);n!==t&&s.val()!==n&&(e.removeData(s,i),s.trigger("keyup-change"))})}function l(s){s.on("mousemove",function(s){var i=R;i!==t&&i.x===s.pageX&&i.y===s.pageY||e(s.target).trigger("mousemove-filtered",s)})}function c(e,s,i){i=i||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,t)},e)}}function h(e){var t,s=!1;return function(){return s===!1&&(t=e(),s=!0),t}}function u(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){s(e.target,t.get())>=0&&i(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,s=e[0],i=e.val().length;e.focus(),e.is(":visible")&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(t=s.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var s=0,i=0;if("selectionStart"in t)s=t.selectionStart,i=t.selectionEnd-s;else if("selection"in document){t.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),s=n.text.length-i}return{offset:s,length:i}}function f(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!_){var s=t[0].currentStyle||window.getComputedStyle(t[0],null);_=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),_.attr("class","select2-sizer"),e("body").append(_)}return _.text(t.val()),_.width()}function v(t,s,i){var n,o,r=[];n=t.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),n=s.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&r.push(this))})),t.attr("class",r.join(" "))}function y(e,t,s,i){var n=e.toUpperCase().indexOf(t.toUpperCase()),o=t.length;return n<0?void s.push(i(e)):(s.push(i(e.substring(0,n))),s.push("<span class='select2-match'>"),s.push(i(e.substring(n,n+o))),s.push("</span>"),void s.push(i(e.substring(n+o,e.length))))}function b(s){var i,n=0,o=null,r=s.quietMillis||100,a=s.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,r=s.data,h=a,u=s.transport||e.fn.select2.ajaxDefaults.transport,p={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||t,dataType:s.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,p);r=r?r.call(l,c.term,c.page,c.context):null,h="function"==typeof h?h.call(l,c.term,c.page,c.context):h,null!==o&&o.abort(),s.params&&(e.isFunction(s.params)?e.extend(d,s.params.call(l)):e.extend(d,s.params)),e.extend(d,{url:h,dataType:s.dataType,data:r,success:function(e){if(!(i<n)){var t=s.results(e,c.page);c.callback(t)}}}),o=u.call(l,d)},r)}}function C(t){var s,i,n=t,o=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var r=n();return r.text&&(o=r.text,e.isFunction(o)||(s=r.text,o=function(e){return e[s]})),function(t){var s,i=t.term,r={results:[]};return""===i?void t.callback(n()):(s=function(n,r){var a,l;if(n=n[0],n.children){a={};for(l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);a.children=[],e(n.children).each2(function(e,t){s(t,a.children)}),(a.children.length||t.matcher(i,o(a),n))&&r.push(a)}else t.matcher(i,o(n),n)&&r.push(n)},e(n().results).each2(function(e,t){s(t,r.results)}),void t.callback(r))}}function w(s){var i=e.isFunction(s);return function(n){var o=n.term,r={results:[]};e(i?s():s).each(function(){var e=this.text!==t,s=e?this.text:this;(""===o||n.matcher(o,s))&&r.results.push(e?this:{id:this,text:this})}),n.callback(r)}}function x(t,s){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function S(t){return e.isFunction(t)?t():t}function T(t){var s=0;return e.each(t,function(e,t){t.children?s+=T(t.children):s++}),s}function E(e,s,i,o){var r,a,l,c,h,u=e,p=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;l<c&&(h=o.tokenSeparators[l],a=e.indexOf(h),!(a>=0));l++);if(a<0)break;if(r=e.substring(0,a),e=e.substring(a+h.length),r.length>0&&(r=o.createSearchChoice(r,s),r!==t&&null!==r&&o.id(r)!==t&&null!==o.id(r))){for(p=!1,l=0,c=s.length;l<c;l++)if(n(o.id(r),o.id(s[l]))){p=!0;break}p||i(r)}}return u!==e?e:void 0}function k(t,s){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,s),i}if(window.Select2===t){var O,P,N,D,M,_,R,I,A,O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},F="<div class='select2-measure-scrollbar'></div>";I=e(document),M=function(){var e=1;return function(){return e++}}(),I.on("mousemove",function(e){R={x:e.pageX,y:e.pageY}}),P=k(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(s){var n,o,r,c,p=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==t&&null!==s.element.data("select2")&&this.destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+M()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return s.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(S(s.containerCss)),this.container.addClass(S(s.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(S(s.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(p),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",p,this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.on("scroll-debounced",p,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,s,i){var o=n.scrollTop();i>0&&o-i<=0?(n.scrollTop(0),f(e)):i<0&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),f(e))}),a(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",p,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var r=s.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var c=s.element.prop("readonly");c===t&&(c=!1),this.readonly(c),A=A||i(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").off(".select2").attr({tabindex:this.elementTabIndex}).prop("autofocus",this.autofocus||!1).show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:n(e.attr("locked"),"locked")}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(s){var i,r,a,l,c=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=s.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s=e.extend({},{populateResults:function(i,n,o){var r,a=this.opts.id;(r=function(i,n,l){var h,u,p,d,f,m,g,v,y,b;for(i=s.sortResults(i,n,o),h=0,u=i.length;h<u;h+=1)p=i[h],f=p.disabled===!0,d=!f&&a(p)!==t,m=p.children&&p.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(d?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(p)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=s.formatResult(p,v,o,c.opts.escapeMarkup),b!==t&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),r(p.children,y,l+1),g.append(y)),g.data("select2-data",p),n.append(g)})(n,i,0)}},e.fn.select2.defaults,s),"function"!=typeof s.id&&(a=s.id,s.id=function(e){return e[a]}),e.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(r?(s.query=this.bind(function(s){var n,o,r,a={results:[],more:!1},l=s.term;r=function(e,t){var i;e.is("option")?s.matcher(l,e.text(),e)&&t.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(e,t){r(t,i.children)}),i.children.length>0&&t.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(o=n[0],""===e(o).text()&&(n=n.not(o))),n.each2(function(e,t){r(t,a.results)}),s.callback(a)}),s.id=function(e){return e.id},s.formatResultCssClass=function(e){return e.css}):"query"in s||("ajax"in s?(l=s.element.data("ajax-url"),l&&l.length>0&&(s.ajax.url=l),s.query=b.call(s.element,s.ajax)):"data"in s?s.query=C(s.data):"tags"in s&&(s.query=w(s.tags),s.createSearchChoice===t&&(s.createSearchChoice=function(e){return{id:e,text:e}}),s.initSelection===t&&(s.initSelection=function(t,i){var r=[];e(o(t.val(),s.separator)).each(function(){var t=this,i=this,o=s.tags;e.isFunction(o)&&(o=o()),e(o).each(function(){if(n(this.id,t))return i=this.text,!1}),r.push({id:t,text:i})}),i(r)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");return s},monitorSource:function(){var e,s=this.opts.element;s.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,i=s.prop("disabled");i===t&&(i=!1),this.enable(!i);var e=s.prop("readonly");e===t&&(e=!1),this.readonly(e),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),s.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var s=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){return e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface(),!0)},readonly:function(e){return e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,s,i,n,o=this.dropdown,r=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),h=e(window).scrollLeft()+e(window).width(),u=e(window).scrollTop()+e(window).height(),p=r.top+a,d=r.left,f=p+c<=u,m=r.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=d+g<=h,y=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(n=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:A.width),g>l?l=g:g=l,v=d+g<=h):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),p-=t.top,d-=t.left),y?(s=!0,!m&&f&&(s=!1)):(s=!1,!f&&m&&(s=!0)),v||(d=r.left+l-g),s?(p=r.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend({top:p,left:d,width:l},S(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var s,i=this.containerId,n="scroll."+i,o="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),s=e("#select2-drop-mask"),0==s.length&&(s=e(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body()),s.on("mousedown touchstart",function(t){var s,i=e("#select2-drop");i.length>0&&(s=i.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s.css(t()),s.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+r,function(s){e("#select2-drop-mask").css(t()),a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,s="scroll."+t,i="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(s).off(i).off(n)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,s,i,n,o,r,a,l=this.results;if(s=this.highlight(),!(s<0)){if(0==s)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[s]),n=i.offset().top+i.outerHeight(!0),s===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(n=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),n>o&&l.scrollTop(l.scrollTop()+(n-o)),r=i.offset().top-l.offset().top,r<0&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=t;var n=e(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),t<0&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=e(o[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var s=e(t.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,s=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),r=this.context;0!==s.length&&(e=s.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:r}),n.postprocessResults(e,!1,!1),e.more===!0?(s.detach().appendTo(t).text(n.opts.formatLoadMore(i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=e.context)})})))},tokenize:function(){},updateResults:function(s){function i(){c.scrollTop(0),l.removeClass("select2-active"),u.positionDropdown()}function o(e){c.html(e),i()}var r,a,l=this.search,c=this.results,h=this.opts,u=this,p=l.val(),d=e.data(this.container,"select2-last-term");if((s===!0||!d||!n(p,d))&&(e.data(this.container,"select2-last-term",p),s===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(r=this.data(),e.isArray(r)&&r.length>=f&&x(h.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(f)+"</li>");if(l.val().length<h.minimumInputLength)return o(x(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>":""),void(s&&this.showSearch(!0));if(h.maximumInputLength&&l.val().length>h.maximumInputLength)return void o(x(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+h.formatInputTooLong(l.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+h.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=t&&null!=a&&l.val(a),this.resultsPage=1,h.query({element:h.element,term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(r){var a;return this.opened()?(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),r.results),a!==t&&null!==a&&u.id(a)!==t&&null!==u.id(a)&&0===e(r.results).filter(function(){return n(u.id(this),u.id(a))}).length&&r.results.unshift(a)),0===r.results.length&&x(h.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"):(c.empty(),u.opts.populateResults.call(this,c,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&x(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(r,s),i(),void this.opts.element.trigger({type:"select2-loaded",data:r}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function s(){var s,i,n,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(s=this.opts.element.attr("style"),s!==t)for(i=s.split(";"),o=0,r=i.length;o<r;o+=1)if(n=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return s=this.opts.element.css("width"),s&&s.length>0?s:"resolve"===this.opts.width?0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=s.call(this);null!==i&&this.container.css("width",i)}}),N=k(P,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,s;this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange&&(s=t.createTextRange(),s.collapse(!1),s.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var t,s=this.container,i=this.dropdown;this.showSearch(!1),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)return void f(e);switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void f(e);case O.ENTER:return this.selectHighlighted(),void f(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void f(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.ESC)return this.opts.openOnEnter===!1&&e.which===O.ENTER?void f(e):e.which==O.DOWN||e.which==O.UP||e.which==O.ENTER&&this.opts.openOnEnter?(this.open(),void f(e)):e.which==O.DELETE||e.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(e)):void 0})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){e.stopPropagation(),this.opened()||this.open()})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){f(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(s.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var o=s.val(),r=null;t.query({matcher:function(e,s,i){var a=n(o,t.id(i));return a&&(r=i),a},callback:e.isFunction(i)?function(){i(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,s){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(n(o.id(t.data("select2-data")),o.opts.element.val()))return i=e,!1}),s!==!1&&this.highlight(i),t===!0&&this.showSearchInput===!1){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(T(e.results)>=r)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(this.triggerSelect(e)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),n(s,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var s,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),s=this.opts.formatSelection(e,i),s!==t&&i.append(this.opts.escapeMarkup(s)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(s=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return void this.clear(s);this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),s&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e,s){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),
i):void(e&&""!==e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:i})):this.clear(s))}}),D=k(P,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(s.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var r=o(s.val(),t.separator),a=[];t.query({matcher:function(s,i,o){var l=e.grep(r,function(e){return n(e,t.id(o))}).length;return l&&a.push(o),l},callback:e.isFunction(i)?function(){for(var e=[],s=0;s<r.length;s++)for(var o=r[s],l=0;l<a.length;l++){var c=a[l];if(n(o,t.id(c))){e.push(c),a.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},initContainer:function(){var t,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(s);var i=this;this.selection.on("mousedown",".select2-search-choice",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var s=t.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=d(this.search);if(s.length&&(e.which==O.LEFT||e.which==O.RIGHT||e.which==O.BACKSPACE||e.which==O.DELETE||e.which==O.ENTER)){var r=s;return e.which==O.LEFT&&i.length?r=i:e.which==O.RIGHT?r=n.length?n:null:e.which===O.BACKSPACE?(this.unselect(s.first()),this.search.width(10),r=i.length?i:n):e.which==O.DELETE?(this.unselect(s.first()),this.search.width(10),r=n.length?n:null):e.which==O.ENTER&&(r=null),this.selectChoice(r),f(e),void(r&&r.length||this.open())}if((e.which===O.BACKSPACE&&1==this.keydowns||e.which==O.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void f(e);if(this.selectChoice(null),this.opened())switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void f(e);case O.ENTER:return this.selectHighlighted(),void f(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void f(e)}if(e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.BACKSPACE&&e.which!==O.ESC){if(e.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==O.PAGE_UP&&e.which!==O.PAGE_DOWN||f(e),e.which===O.ENTER&&f(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("mousedown",s,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),s=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],o=this;e(t).each(function(){s(o.id(this),i)<0&&(i.push(o.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(s){var i,n=!s.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=n?o:r,l=this.id(s),c=this.getVal();i=this.opts.formatSelection(s,a.find("div")),i!=t&&a.find("div").replaceWith("<div title='"+this.opts.escapeMarkup(i)+"'>"+this.opts.escapeMarkup(i)+"</div>"),n&&a.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",s),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,i,n=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=s(this.id(t),n),i>=0&&(n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var i=a.id(t.data("select2-data"));s(i,n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),this.highlight()==-1&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,t,s,i,n,o=r(this.search);e=g(this.search)+10,t=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(t-i)-o,n<e&&(n=s-o),n<40&&(n=s-o),n<=0&&(n=e),this.search.width(n)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){s(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),s=0;s<t.length;s++)for(var i=0;i<e.length;i++)n(this.opts.id(t[s]),this.opts.id(e[i]))&&(t.splice(s,1),s--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var s=e(t).map(o.id);o.setVal(s),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(n,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(s.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,s){var i,n,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),e.fn.select2=function(){var i,n,o,r,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","readonly","positionDropdown","data"],c=["val","opened","isFocused","container","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:e.extend({},a[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),n=r?new D:new N,n.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(s(a[0],l)<0)throw"Unknown method: "+a[0];if(o=t,n=e(this).data("select2"),n===t)return;if(o="container"===a[0]?n.container:n[a[0]].apply(n,a.slice(1)),s(a[0],c)>=0)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,s,i){var n=[];return y(e.text,s.term,n,i),n.join("")},formatSelection:function(e,s){return e?e.text:t},sortResults:function(e,t,s){return e},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var s=t-e.length;return"Please enter "+s+" more character"+(1==s?"":"s")},formatInputTooLong:function(e,t){var s=e.length-t;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:C,tags:w},util:{debounce:c,markMatch:y},"class":{"abstract":P,single:N,multi:D}}}}(jQuery)},33:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];s[2]?e.push("@media "+s[2]+"{"+s[1]+"}"):e.push(s[1])}return e.join("")},e}},36:function(e,t,s){function i(e,t){for(var s=0;s<e.length;s++){var i=e[s],n=h[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(r(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(r(i.parts[o],t));h[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],s={},i=0;i<e.length;i++){var n=e[i],o=n[0],r=n[1],a=n[2],l=n[3],c={css:r,media:a,sourceMap:l};s[o]?s[o].parts.push(c):t.push(s[o]={id:o,parts:[c]})}return t}function o(){var e=document.createElement("style"),t=d();return e.type="text/css",t.appendChild(e),e}function r(e,t){var s,i,n;if(t.singleton){var r=m++;s=f||(f=o()),i=l.bind(null,s,r,!1),n=l.bind(null,s,r,!0)}else s=o(),i=c.bind(null,s),n=function(){s.parentNode.removeChild(s)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function a(e,t,s){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],n=e.lastIndexOf(i[0]),o=s?i[0]+s+i[1]:"";if(e.lastIndexOf(i[0])>=0){var r=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,n)+o+e.slice(r)}return e+o}function l(e,t,s,i){var n=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=a(e.styleSheet.cssText,t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function c(e,t){var s=t.css,i=t.media,n=t.sourceMap;if(n&&"function"==typeof btoa)try{s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(n))+" */",s='@import url("data:text/css;base64,'+btoa(s)+'")'}catch(o){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var h={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=u(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),d=u(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var s=n(e);return i(s,t),function(e){for(var o=[],r=0;r<s.length;r++){var a=s[r],l=h[a.id];l.refs--,o.push(l)}if(e){var c=n(e);i(c,t)}for(var r=0;r<o.length;r++){var l=o[r];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}}},48:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),o=i(n),r=s(9),a=s(10),l=o["default"].createClass({displayName:"TimeSince",mixins:[r.PureRenderMixin],propTypes:{dateTime:n.PropTypes.string.isRequired,title:n.PropTypes.string.isRequired},componentWillMount:function(){this.tickTimer=null,this.tick({refresh:!1})},componentWillReceiveProps:function(e){e.dateTime!==this.props.dateTime&&this.cleanup()},componentWillUnMount:function(){this.cleanup()},cleanup:function(){null!==this.tickTimer&&(clearTimeout(this.tickTimer),this.tickTimer=null)},tick:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{refresh:!0}:arguments[0],s=Date.parse(this.props.dateTime),i=Date.now(),n=Math.round(Math.abs(i-s)/1e3),o=void 0;n<60?o=3e4:n<3600?o=6e4:n<86400&&(o=36e5),void 0!==o&&(this.tickTimer=setTimeout(function(){return e.tick()},o)),t.refresh&&this.forceUpdate()},render:function(){var e=(0,a.relativeDate)(Date.parse(this.props.dateTime));return o["default"].createElement("time",{className:"extra-item-meta",title:this.props.title,dateTime:this.props.dateTime},e)}});t["default"]=l},49:function(e,t,s){"use strict";var i=s(4),n={initialize:function(e){this.count=0,this.page=0,this.keywords="",this.on("add",this.incrCount),this.on("remove",this.decrCount)},parse:function(e,t){return this.count=e.count,e.models},comparator:"-id",incrCount:function(){this.count++},decrCount:function(){this.count--},fetchNextPage:function(e){var t=this.page+1,s=1===t?{}:{p:t},n=""===this.keywords?{}:{q:this.keywords},o=i.extend({},s,n),r={remove:!1,silent:!0,data:o};return i.defaults(r,e),this.fetch(r).done(function(){this.page=t}.bind(this))},search:function(e){var t={};return e!==this.keywords&&(this.setSearch(e),t={reset:!0}),this.fetchNextPage(t)},setSearch:function(e){this.keywords=e,this.page=0}};e.exports=n},50:function(e,t){"use strict";var s={componentDidMount:function(){this._boundForceUpdate=this.forceUpdate.bind(this,null),this.getResource().on("all",this._boundForceUpdate,this)},componentWillUnmount:function(){this.getResource().off("all",this._boundForceUpdate)}};e.exports=s},51:function(e,t){var s={utf8:{stringToBytes:function(e){return s.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(s.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],s=0;s<e.length;s++)t.push(255&e.charCodeAt(s));return t},bytesToString:function(e){for(var t=[],s=0;s<e.length;s++)t.push(String.fromCharCode(e[s]));return t.join("")}}};e.exports=s},52:function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(1),o=s(55),r=s(54),a=s(53),l=0,c=n.createClass({displayName:"Select",propTypes:{value:n.PropTypes.any,multi:n.PropTypes.bool,disabled:n.PropTypes.bool,options:n.PropTypes.array,delimiter:n.PropTypes.string,asyncOptions:n.PropTypes.func,autoload:n.PropTypes.bool,placeholder:n.PropTypes.string,noResultsText:n.PropTypes.string,clearable:n.PropTypes.bool,clearValueText:n.PropTypes.string,clearAllText:n.PropTypes.string,searchable:n.PropTypes.bool,searchPromptText:n.PropTypes.string,name:n.PropTypes.string,onChange:n.PropTypes.func,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func,className:n.PropTypes.string,filterOption:n.PropTypes.func,filterOptions:n.PropTypes.func,matchPos:n.PropTypes.string,matchProp:n.PropTypes.string,inputProps:n.PropTypes.object,onOptionLabelClick:n.PropTypes.func},getDefaultProps:function(){return{value:void 0,options:void 0,disabled:!1,delimiter:",",asyncOptions:void 0,autoload:!0,placeholder:"Select...",noResultsText:"No results found",clearable:!0,clearValueText:"Clear value",clearAllText:"Clear all",searchable:!0,searchPromptText:"Type to search",name:void 0,onChange:void 0,className:void 0,matchPos:"any",matchProp:"any",inputProps:{},onOptionLabelClick:void 0}},getInitialState:function(){return{options:this.props.options,isFocused:!1,isOpen:!1,isLoading:!1}},componentWillMount:function(){this._optionsCache={},this._optionsFilterString="",this.setState(this.getStateFromValue(this.props.value)),this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions();var e=this;this._closeMenuIfClickedOutside=function(t){if(e.state.isOpen){var s=e.refs.selectMenuContainer.getDOMNode(),i=e.refs.control.getDOMNode(),n=e.clickedOutsideElement(s,t),o=e.clickedOutsideElement(i,t);n&&o&&e.setState({isOpen:!1},e._unbindCloseMenuIfClickedOutside)}},this._bindCloseMenuIfClickedOutside=function(){document.addEventListener("click",e._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){document.removeEventListener("click",e._closeMenuIfClickedOutside)}},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(e){JSON.stringify(e.options)!==JSON.stringify(this.props.options)&&this.setState({options:e.options,filteredOptions:this.filterOptions(e.options)}),e.value!==this.state.value&&this.setState(this.getStateFromValue(e.value,e.options))},componentDidUpdate:function(){var e=this;if(!this.props.disabled&&this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),this._focusTimeout=setTimeout(function(){e.getInputNode().focus(),e._focusAfterUpdate=!1},50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var t=this.refs.focused.getDOMNode(),s=this.refs.menu.getDOMNode(),i=t.getBoundingClientRect(),n=s.getBoundingClientRect();(i.bottom>n.bottom||i.top<n.top)&&(s.scrollTop=t.offsetTop+t.clientHeight-s.offsetHeight)}this._focusedOptionReveal=!1}},focus:function(){this.getInputNode().focus()},clickedOutsideElement:function(e,t){for(var s=t.target?t.target:t.srcElement;null!=s;){if(s===e)return!1;s=s.offsetParent}return!0},getStateFromValue:function(e,t){t||(t=this.state.options),this._optionsFilterString="";var s=this.initValuesArray(e,t),i=this.filterOptions(t,s);return{value:s.map(function(e){return e.value}).join(this.props.delimiter),values:s,inputValue:"",filteredOptions:i,placeholder:!this.props.multi&&s.length?s[0].label:this.props.placeholder,focusedOption:!this.props.multi&&s.length?s[0]:i[0]}},initValuesArray:function(e,t){return Array.isArray(e)||(e="string"==typeof e?e.split(this.props.delimiter):e?[e]:[]),e.map(function(e){if("string"==typeof e){for(var s in t)if(t.hasOwnProperty(s)&&t[s]&&t[s].value===e)return t[s];return{value:e,label:e}}return e})},setValue:function(e,t){(t||void 0===t)&&(this._focusAfterUpdate=!0);var s=this.getStateFromValue(e);s.isOpen=!1,this.fireChangeEvent(s),this.setState(s)},selectValue:function(e){this.props.multi?e&&this.addValue(e):this.setValue(e),this._unbindCloseMenuIfClickedOutside()},addValue:function(e){this.setValue(this.state.values.concat(e))},popValue:function(){this.setValue(this.state.values.slice(0,this.state.values.length-1))},removeValue:function(e){this.setValue(this.state.values.filter(function(t){return t!==e}))},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||this.setValue(null)},resetValue:function(){this.setValue(this.state.value)},getInputNode:function(){var e=this.refs.input;return this.props.searchable?e:e.getDOMNode()},fireChangeEvent:function(e){e.value!==this.state.value&&this.props.onChange&&this.props.onChange(e.value,e.values)},handleMouseDown:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus()))},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:t},function(){t?this._bindCloseMenuIfClickedOutside():this._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(e)},handleInputBlur:function(e){var t=this;this._blurTimeout=setTimeout(function(){t._focusAfterUpdate||t.setState({isFocused:!1})},50),this.props.onBlur&&this.props.onBlur(e)},handleKeyDown:function(e){if(!this.state.disabled){switch(e.keyCode){case 8:return void(this.state.inputValue||this.popValue());case 9:if(e.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.clearValue();break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},_getNewFocusedOption:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===this.state.focusedOption)return e[t];return e[0]},handleInputChange:function(e){if(this._optionsFilterString=e.target.value,this.props.asyncOptions)this.setState({isLoading:!0,inputValue:e.target.value}),this.loadAsyncOptions(e.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var t=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:e.target.value,filteredOptions:t,focusedOption:this._getNewFocusedOption(t)},this._bindCloseMenuIfClickedOutside)}},autoloadAsyncOptions:function(){var e=this;this.loadAsyncOptions("",{},function(){e.setValue(e.props.value,!1)})},loadAsyncOptions:function(e,t,s){for(var i=this._currentRequestId=l++,n=0;n<=e.length;n++){var o=e.slice(0,n);if(this._optionsCache[o]&&(e===o||this._optionsCache[o].complete)){var r=this._optionsCache[o].options,a=this.filterOptions(r),c={options:r,filteredOptions:a,focusedOption:this._getNewFocusedOption(a)};for(var h in t)t.hasOwnProperty(h)&&(c[h]=t[h]);return this.setState(c),void(s&&s({}))}}var u=this;this.props.asyncOptions(e,function(n,o){if(n)throw n;if(u._optionsCache[e]=o,i===u._currentRequestId){var r=u.filterOptions(o.options),a={options:o.options,filteredOptions:r,focusedOption:u._getNewFocusedOption(r)};for(var l in t)t.hasOwnProperty(l)&&(a[l]=t[l]);u.setState(a),s&&s({})}})},filterOptions:function(e,t){if(!this.props.searchable)return e;var s=this._optionsFilterString,i=(t||this.state.values).map(function(e){return e.value});if(this.props.filterOptions)return this.props.filterOptions.call(this,e,s,i);var n=function(e){if(this.props.multi&&i.indexOf(e.value)>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,e,s);var t=String(e.value),n=String(e.label);return s&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&t.toLowerCase().indexOf(s.toLowerCase())>=0||"value"!==this.props.matchProp&&n.toLowerCase().indexOf(s.toLowerCase())>=0:"label"!==this.props.matchProp&&t.toLowerCase().substr(0,s.length)===s||"value"!==this.props.matchProp&&n.toLowerCase().substr(0,s.length)===s};return(e||[]).filter(n,this)},selectFocusedOption:function(){return this.selectValue(this.state.focusedOption)},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){this._focusedOptionReveal=!0;var t=this.state.filteredOptions;if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||t["next"===e?0:t.length-1]},this._bindCloseMenuIfClickedOutside);if(t.length){for(var s=-1,i=0;i<t.length;i++)if(this.state.focusedOption===t[i]){s=i;break}var n=t[0];"next"===e&&s>-1&&s<t.length-1?n=t[s+1]:"previous"===e&&(n=s>0?t[s-1]:t[t.length-1]),this.setState({focusedOption:n})}},unfocusOption:function(e){this.state.focusedOption===e&&this.setState({focusedOption:null})},buildMenu:function(){var e=this.state.focusedOption?this.state.focusedOption.value:null;this.state.filteredOptions.length>0&&(e=null==e?this.state.filteredOptions[0]:e);var t=Object.keys(this.state.filteredOptions).map(function(t){var s=this.state.filteredOptions[t],i=e===s.value,o=r({"Select-option":!0,"is-focused":i,"is-disabled":s.disabled}),a=i?"focused":null,l=this.focusOption.bind(this,s),c=this.unfocusOption.bind(this,s),h=this.selectValue.bind(this,s);return s.disabled?n.createElement("div",{ref:a,key:"option-"+s.value,className:o},s.label):n.createElement("div",{ref:a,key:"option-"+s.value,className:o,onMouseEnter:l,onMouseLeave:c,onMouseDown:h,onClick:h},s.label)},this);return t.length?t:n.createElement("div",{className:"Select-noresults"},this.props.asyncOptions&&!this.state.inputValue?this.props.searchPromptText:this.props.noResultsText)},handleOptionLabelClick:function(e,t){var s=this.props.onOptionLabelClick;s&&s(e,t)},render:function(){var e=r("Select",this.props.className,{"is-multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.state.value}),t=[];this.props.multi&&this.state.values.forEach(function(e){var s={key:e.value,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:this.handleOptionLabelClick.bind(this,e),onRemove:this.removeValue.bind(this,e)};for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);t.push(n.createElement(a,s))},this),!this.props.disabled&&(this.state.inputValue||this.props.multi&&t.length)||t.push(n.createElement("div",{className:"Select-placeholder",key:"placeholder"},this.state.placeholder));var s,l,c=this.state.isLoading?n.createElement("span",{className:"Select-loading","aria-hidden":"true"}):null,h=this.props.clearable&&this.state.value&&!this.props.disabled?n.createElement("span",{className:"Select-clear",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onClick:this.clearValue,dangerouslySetInnerHTML:{__html:"&times;"}}):null;this.state.isOpen&&(l={ref:"menu",className:"Select-menu"},this.props.multi&&(l.onMouseDown=this.handleMouseDown),s=n.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},n.createElement("div",l,this.buildMenu())));var u,p={ref:"input",className:"Select-input",tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};for(var d in this.props.inputProps)this.props.inputProps.hasOwnProperty(d)&&(p[d]=this.props.inputProps[d]);return u=this.props.searchable&&!this.props.disabled?n.createElement(o,i({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},p)):n.createElement("div",p,""),n.createElement("div",{ref:"wrapper",className:e},n.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),n.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},t,u,n.createElement("span",{className:"Select-arrow"}),c,h),s)}});e.exports=c},53:function(e,t,s){"use strict";var i=s(1),n=i.createClass({displayName:"Value",propTypes:{label:i.PropTypes.string.isRequired},blockEvent:function(e){e.stopPropagation();
},render:function(){var e=this.props.label;return this.props.optionLabelClick&&(e=i.createElement("a",{className:"Select-item-label__a",onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick},e)),i.createElement("div",{className:"Select-item"},i.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.props.onRemove,onTouchEnd:this.props.onRemove},""),i.createElement("span",{className:"Select-item-label"},e))}});e.exports=n},54:function(e,t,s){var i,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var n=typeof i;if("string"===n||"number"===n)e.push(i);else if(Array.isArray(i))e.push(s.apply(null,i));else if("object"===n)for(var r in i)o.call(i,r)&&i[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=s:(i=[],n=function(){return s}.apply(t,i),!(void 0!==n&&(e.exports=n)))}()},55:function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(1),o={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},r=n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input.getDOMNode()),t=this.refs.sizer.getDOMNode();if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,this.props.placeholder){var s=this.refs.placeholderSizer.getDOMNode();s.style.fontSize=e.fontSize,s.style.fontFamily=e.fontFamily}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.getDOMNode().scrollWidth){var e;e=this.props.placeholder?Math.max(this.refs.sizer.getDOMNode().scrollWidth,this.refs.placeholderSizer.getDOMNode().scrollWidth)+2:this.refs.sizer.getDOMNode().scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.getDOMNode().focus()},select:function(){this.refs.input.getDOMNode().select()},render:function(){var e=(this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display="inline-block";var s=this.props.inputStyle||{};s.width=this.state.inputWidth;var r=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:o},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",i({},this.props,{ref:"input",className:this.props.inputClassName,style:s})),n.createElement("div",{ref:"sizer",style:o,dangerouslySetInnerHTML:{__html:e}}),r)}});e.exports=r},63:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(85),o=i(n),r=s(1),a=i(r),c=s(9),h=a["default"].createClass({displayName:"Avatar",mixins:[c.PureRenderMixin],propTypes:{email:r.PropTypes.string,label:r.PropTypes.string,size:r.PropTypes.number,src:r.PropTypes.string,title:r.PropTypes.string,username:r.PropTypes.string},getDefaultProps:function(){return{size:80}},render:function(){var e=this.props.email,t=this.props.label,s=this.props.size,i=this.props.title,n=this.props.username,r=this.props.src;if(e){var c=e;e.indexOf("@")>-1&&(c=(0,o["default"])(e)),r="https://secure.gravatar.com/avatar/"+c+"?s="+s+"&d=mm"}var h=a["default"].createElement("img",{src:r,height:s,width:s,title:i});return void 0!==n?a["default"].createElement("a",{href:l("/user/"+n+"/")},h,t&&" ",t&&a["default"].createElement("span",{className:"user-name",title:n},t)):h}});t["default"]=h},79:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),o=i(n),r=s(9),a=s(4),l=i(a),c=s(63),h=i(c),u=s(48),p=i(u),d=o["default"].createClass({displayName:"UserEvent",mixins:[r.PureRenderMixin],propTypes:{displayDatetime:n.PropTypes.string.isRequired,displayName:n.PropTypes.string.isRequired,email:n.PropTypes.string.isRequired,isoDatetime:n.PropTypes.string.isRequired,type:n.PropTypes.number.isRequired,unitSource:n.PropTypes.string.isRequired,unitUrl:n.PropTypes.string.isRequired,checkName:n.PropTypes.string,checkDisplayName:n.PropTypes.string,translationActionType:n.PropTypes.number,username:n.PropTypes.string},getActionText:function(){var e=this.props.checkName,t=this.props.checkDisplayName,s=this.props.translationActionType,i=this.props.type,n=this.props.unitSource,o=this.props.unitUrl,r='<i><a href="'+o+'">'+l["default"].escape(n)+"</a></i>",a=void 0;void 0!==e&&void 0!==t&&(a='<a href="#'+e+'">'+t+"</a>");var c=void 0;return 2===i?c=gettext("removed translation for "+r):3===i?c=gettext("accepted suggestion for "+r):4===i?c=gettext("uploaded file"):6===i?c=gettext("muted "+a+" for "+r):7===i?c=gettext("unmuted "+a+" for "+r):8===i?c=gettext("added suggestion for "+r):9===i?c=gettext("rejected suggestion for "+r):1!==i&&5!==i||(0===s?c=gettext("translated "+r):1===s?c=gettext("edited "+r):2===s?c=gettext("pre-translated "+r):3===s?c=gettext("removed translation for "+r):4===s?c=gettext("reviewed "+r):5===s&&(c=gettext("marked as needs work "+r))),{__html:c}},render:function(){return o["default"].createElement("div",{className:"last-action"},o["default"].createElement(h["default"],{email:this.props.email,label:this.props.displayName,size:20,username:this.props.username})," ",o["default"].createElement("span",{className:"action-text",dangerouslySetInnerHTML:this.getActionText()})," ",o["default"].createElement(p["default"],{title:this.props.displayDatetime,dateTime:this.props.isoDatetime}))}});t["default"]=d},80:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(21),r=i(o),a=s(1),l=s(81);s(109);var c={lock:"lightbox-lock"},h={ESC:27},u=a.createClass({displayName:"ModalHeader",render:function(){return a.createElement("div",{className:"lightbox-header"},this.props.children)}}),p=a.createClass({displayName:"ModalFooter",render:function(){return a.createElement("div",{className:"lightbox-footer"},this.props.children)}}),d=a.createClass({displayName:"ModalContainer",_previousFocus:null,_ownsLock:!1,componentWillMount:function(){this._previousFocus=document.activeElement},componentDidMount:function(){document.body.classList.contains(c.lock)||(this._ownsLock=!0,document.body.classList.add(c.lock),document.addEventListener("keydown",this.handleKeyDown))},componentWillUnmount:function(){this._ownsLock&&(document.body.classList.remove(c.lock),document.removeEventListener("keydown",this.handleKeyDown)),this._previousFocus.focus()},handleKeyDown:function(e){e.keyCode===h.ESC&&this.props.onClose()},render:function(){return a.createElement("div",{className:"lightbox-bg"},a.createElement("div",{className:"lightbox-container"},a.createElement("div",{className:(0,r["default"])("lightbox-body",this.props.className),style:this.props.style,tabIndex:"-1"},this.props.children)))}}),f=a.createClass({displayName:"Modal",mixins:[l],propTypes:{title:a.PropTypes.string,showClose:a.PropTypes.bool,onClose:a.PropTypes.func.isRequired,header:a.PropTypes.func,footer:a.PropTypes.func},getDefaultProps:function(){return{title:"",showClose:!0}},handleClose:function(){this.props.onClose()},renderHeader:function(){if(this.props.header)return a.createElement(u,null,this.props.header());var e=this.props.title&&a.createElement("h3",{className:"lightbox-title"},this.props.title),t=this.props.showClose&&a.createElement("button",{className:"lightbox-close",onClick:this.handleClose},"");return a.createElement(u,null,e,t)},renderFooter:function(){return this.props.footer?a.createElement(p,null,this.props.footer()):null},renderLayer:function(){return a.createElement(d,this.props,this.renderHeader(),a.createElement("div",{className:"lightbox-content"},this.props.children),this.renderFooter())},render:function(){return null}}),m=a.createClass({displayName:"Dialog",propTypes:{okLabel:a.PropTypes.string,cancelLabel:a.PropTypes.string,onAccept:a.PropTypes.func.isRequired,onCancel:a.PropTypes.func.isRequired,header:a.PropTypes.func,footer:a.PropTypes.func},getDefaultProps:function(){return{okLabel:"OK",cancelLabel:"Cancel"}},renderFooter:function(){return a.createElement(p,null,a.createElement("button",{className:"btn btn-primary",onClick:this.props.onAccept},this.props.okLabel),a.createElement("button",{className:"btn",autoFocus:!0,onClick:this.props.onCancel},this.props.cancelLabel))},render:function(){return a.createElement(f,n({},this.props,{footer:this.renderFooter}))}});e.exports={Modal:f,Dialog:m}},81:function(e,t,s){"use strict";var i=s(1),n={componentDidMount:function(){this._layer=document.createElement("div"),document.body.appendChild(this._layer),this._renderLayer()},componentDidUpdate:function(){this._renderLayer()},componentWillUnmount:function(){this._unrenderLayer(),document.body.removeChild(this._layer)},_renderLayer:function(){var e=this.renderLayer();null===e?i.render(i.DOM.noscript,this._layer):i.render(e,this._layer),this.layerDidMount&&this.layerDidMount(this._layer)},_unrenderLayer:function(){this.layerWillUnmount&&this.layerWillUnmount(this._layer),i.unmountComponentAtNode(this._layer)}};e.exports=n},82:function(e,t,s){"use strict";var i=s(4),n=s(8),o=s(49),r=["nobody","default","system"],a=n.Model.extend({defaults:{username:"",is_active:!0,password:"",full_name:"",email:"",is_superuser:!1,twitter:"",linkedin:"",website:"",bio:""},initialize:function(e,t){t&&t.urlRoot&&(this.urlRoot=t.urlRoot)},urlRoot:l("/xhr/admin/users/"),getProfileUrl:function(){return l("/user/"+this.get("username")+"/")},getSettingsUrl:function(){return l("/user/"+this.get("username")+"/settings/")},getStatsUrl:function(){return l("/user/"+this.get("username")+"/stats/")},getReportsUrl:function(){return l("/admin/reports/#username="+this.get("username"))},isMeta:function(){return r.indexOf(this.get("username"))!==-1}}),c=n.Collection.extend(i.extend({},o,{model:a,url:l("/xhr/admin/users/")}));e.exports={User:a,UserSet:c}},84:function(e,t,s){t=e.exports=s(33)(),t.push([e.id,'.lightbox-lock{overflow:hidden}.lightbox-bg{position:fixed;z-index:498;top:0;left:0;height:100%;width:100%;background:rgba(11,11,11,.8);outline:medium none}.lightbox-container{box-sizing:border-box;position:absolute;z-index:499;left:0;top:0;height:100%;width:100%;padding:0;text-align:center;overflow-x:hidden;overflow-y:auto}.lightbox-container::before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.lightbox-body{position:relative;display:inline-block;vertical-align:middle;margin:0 auto;text-align:left;padding:2em 3em;min-width:255px;font-size:100%}.lightbox-header{margin-bottom:2em}.lightbox-content{margin:1em 0}.lightbox-footer{margin-top:2em;text-align:right}html[dir="rtl"] .lightbox-footer{text-align:left}.lightbox-footer .btn+.btn{margin-left:.5em}html[dir="rtl"] .lightbox-footer .btn+.btn{margin-left:0;margin-right:.5em}.lightbox-close{position:absolute;right:0;top:0;width:44px;height:44px;line-height:44px;text-decoration:none;text-align:center;background-color:transparent;color:rgba(0,0,0,.5);font-style:normal;font-size:28px;font-family:"Arial",monospace;border:0;cursor:pointer}html[dir="rtl"] .lightbox-close{right:auto;left:0}.lightbox-close:hover,.lightbox-close:focus{color:rgba(0,0,0,1)}',""])},85:function(e,t,s){!function(){var t=s(86),i=s(51).utf8,n=s(87),o=s(51).bin,r=function(e,s){e.constructor==String?e=s&&"binary"===s.encoding?o.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,c=1732584193,h=-271733879,u=-1732584194,p=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var f=r._ff,m=r._gg,g=r._hh,v=r._ii,d=0;d<a.length;d+=16){var y=c,b=h,C=u,w=p;c=f(c,h,u,p,a[d+0],7,-680876936),p=f(p,c,h,u,a[d+1],12,-389564586),u=f(u,p,c,h,a[d+2],17,606105819),h=f(h,u,p,c,a[d+3],22,-1044525330),c=f(c,h,u,p,a[d+4],7,-176418897),p=f(p,c,h,u,a[d+5],12,1200080426),u=f(u,p,c,h,a[d+6],17,-1473231341),h=f(h,u,p,c,a[d+7],22,-45705983),c=f(c,h,u,p,a[d+8],7,1770035416),p=f(p,c,h,u,a[d+9],12,-1958414417),u=f(u,p,c,h,a[d+10],17,-42063),h=f(h,u,p,c,a[d+11],22,-1990404162),c=f(c,h,u,p,a[d+12],7,1804603682),p=f(p,c,h,u,a[d+13],12,-40341101),u=f(u,p,c,h,a[d+14],17,-1502002290),h=f(h,u,p,c,a[d+15],22,1236535329),c=m(c,h,u,p,a[d+1],5,-165796510),p=m(p,c,h,u,a[d+6],9,-1069501632),u=m(u,p,c,h,a[d+11],14,643717713),h=m(h,u,p,c,a[d+0],20,-373897302),c=m(c,h,u,p,a[d+5],5,-701558691),p=m(p,c,h,u,a[d+10],9,38016083),u=m(u,p,c,h,a[d+15],14,-660478335),h=m(h,u,p,c,a[d+4],20,-405537848),c=m(c,h,u,p,a[d+9],5,568446438),p=m(p,c,h,u,a[d+14],9,-1019803690),u=m(u,p,c,h,a[d+3],14,-187363961),h=m(h,u,p,c,a[d+8],20,1163531501),c=m(c,h,u,p,a[d+13],5,-1444681467),p=m(p,c,h,u,a[d+2],9,-51403784),u=m(u,p,c,h,a[d+7],14,1735328473),h=m(h,u,p,c,a[d+12],20,-1926607734),c=g(c,h,u,p,a[d+5],4,-378558),p=g(p,c,h,u,a[d+8],11,-2022574463),u=g(u,p,c,h,a[d+11],16,1839030562),h=g(h,u,p,c,a[d+14],23,-35309556),c=g(c,h,u,p,a[d+1],4,-1530992060),p=g(p,c,h,u,a[d+4],11,1272893353),u=g(u,p,c,h,a[d+7],16,-155497632),h=g(h,u,p,c,a[d+10],23,-1094730640),c=g(c,h,u,p,a[d+13],4,681279174),p=g(p,c,h,u,a[d+0],11,-358537222),u=g(u,p,c,h,a[d+3],16,-722521979),h=g(h,u,p,c,a[d+6],23,76029189),c=g(c,h,u,p,a[d+9],4,-640364487),p=g(p,c,h,u,a[d+12],11,-421815835),u=g(u,p,c,h,a[d+15],16,530742520),h=g(h,u,p,c,a[d+2],23,-995338651),c=v(c,h,u,p,a[d+0],6,-198630844),p=v(p,c,h,u,a[d+7],10,1126891415),u=v(u,p,c,h,a[d+14],15,-1416354905),h=v(h,u,p,c,a[d+5],21,-57434055),c=v(c,h,u,p,a[d+12],6,1700485571),p=v(p,c,h,u,a[d+3],10,-1894986606),u=v(u,p,c,h,a[d+10],15,-1051523),h=v(h,u,p,c,a[d+1],21,-2054922799),c=v(c,h,u,p,a[d+8],6,1873313359),p=v(p,c,h,u,a[d+15],10,-30611744),u=v(u,p,c,h,a[d+6],15,-1560198380),h=v(h,u,p,c,a[d+13],21,1309151649),c=v(c,h,u,p,a[d+4],6,-145523070),p=v(p,c,h,u,a[d+11],10,-1120210379),u=v(u,p,c,h,a[d+2],15,718787259),h=v(h,u,p,c,a[d+9],21,-343485551),c=c+y>>>0,h=h+b>>>0,u=u+C>>>0,p=p+w>>>0}return t.endian([c,h,u,p])};r._ff=function(e,t,s,i,n,o,r){var a=e+(t&s|~t&i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._gg=function(e,t,s,i,n,o,r){var a=e+(t&i|s&~i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._hh=function(e,t,s,i,n,o,r){var a=e+(t^s^i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._ii=function(e,t,s,i,n,o,r){var a=e+(s^(t|~i))+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,s){if("undefined"!=typeof e){var i=t.wordsToBytes(r(e,s));return s&&s.asBytes?i:s&&s.asString?o.bytesToString(i):t.bytesToHex(i)}}}()},86:function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&s.rotl(e,8)|4278255360&s.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=s.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],s=0,i=0;s<e.length;s++,i+=8)t[i>>>5]|=e[s]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],s=0;s<32*e.length;s+=8)t.push(e[s>>>5]>>>24-s%32&255);return t},bytesToHex:function(e){for(var t=[],s=0;s<e.length;s++)t.push((e[s]>>>4).toString(16)),t.push((15&e[s]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(parseInt(e.substr(s,2),16));return t},bytesToBase64:function(e){for(var s=[],i=0;i<e.length;i+=3)for(var n=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?s.push(t.charAt(n>>>6*(3-o)&63)):s.push("=");return s.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],i=0,n=0;i<e.length;n=++i%4)0!=n&&s.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(i))>>>6-2*n);return s}};e.exports=s}()},87:function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},109:function(e,t,s){var i=s(84);"string"==typeof i&&(i=[[e.id,i,""]]);s(36)(i,{})},161:function(e,t,s){var i,n;/*!
	 * Autolinker.js
	 * 0.11.2
	 *
	 * Copyright(c) 2014 Gregory Jacobs <greg@greg-jacobs.com>
	 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
	 *
	 * https://github.com/gregjacobs/Autolinker.js
	 */
!function(o,r){i=r,n="function"==typeof i?i.call(t,s,t,e):i,!(void 0!==n&&(e.exports=n))}(this,function(){var e=function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return e.prototype={constructor:e,newWindow:!0,stripPrefix:!0,twitter:!0,email:!0,urls:!0,className:"",matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(?:[\-;:&=\+\$,\w\.]+@)/,s=/(?:[A-Za-z]{3,9}:(?:\/\/)?)/,i=/(?:www\.)/,n=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,r=/(?:[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])?/;return new RegExp(["(",e.source,")","|","(",t.source,n.source,o.source,")","|","(","(?:","(?:",s.source,n.source,")","|","(?:","(.?//)?",i.source,n.source,")","|","(?:","(.?//)?",n.source,o.source,")",")",r.source,")"].join(""),"gi")}(),protocolRelativeRegex:/(.)?\/\//,htmlRegex:function(){var e=/[0-9a-zA-Z:]+/,t=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,s=/(?:".*?"|'.*?'|[^'"=<>`\s]+)/,i=t.source+"(?:\\s*=\\s*"+s.source+")?";return new RegExp(["<(?:!|(/))?","("+e.source+")","(?:","\\s+","(?:",i,"|",s.source+")",")*","\\s*/?",">"].join(""),"g")}(),urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,link:function(e){return this.processHtml(e)},processHtml:function(e){for(var t,s,i=this.htmlRegex,n=0,o=0,r=[];null!==(t=i.exec(e));){var a=t[0],l=t[2],c=!!t[1];s=e.substring(n,t.index),n=t.index+a.length,"a"===l?c?(o=Math.max(o-1,0),0===o&&r.push(s)):(o++,r.push(this.processTextNode(s))):0===o?r.push(this.processTextNode(s)):r.push(s),r.push(a)}if(n<e.length){var h=this.processTextNode(e.substring(n));r.push(h)}return r.join("")},processTextNode:function(e){var t=this,s=this.matcherRegex,i=this.twitter,n=this.email,o=this.urls;return e.replace(s,function(e,s,r,a,l,c,h,u){var p=s,d=r,f=a,m=l,g=c,v=h||u,y="",b="";if(p&&!i||m&&!n||g&&!o||g&&g.indexOf(".")===-1||g&&/^[A-Za-z]{3,9}:/.test(g)&&!/:.*?[A-Za-z]/.test(g)||v&&/^[\w]\/\//.test(v))return e;var C=e.charAt(e.length-1);if(")"===C){var w=e.match(/\(/g),x=e.match(/\)/g),S=w&&w.length||0,T=x&&x.length||0;S<T&&(e=e.substr(0,e.length-1),b=")")}var E,k=e,O=e;if(p)E="twitter",y=d,k="https://twitter.com/"+f,O="@"+f;else if(m)E="email",k="mailto:"+m,O=m;else if(E="url",v){var P=new RegExp("^"+t.protocolRelativeRegex.source),N=v.match(P)[1]||"";y=N+y,k=k.replace(P,"//"),O=O.replace(P,"")}else/^[A-Za-z]{3,9}:/i.test(k)||(k="http://"+k);var D=t.createAnchorTag(E,k,O);return y+D+b})},createAnchorTag:function(e,t,s){var i=this.createAnchorAttrsStr(e,t);return s=this.processAnchorText(s),"<a "+i+">"+s+"</a>"},createAnchorAttrsStr:function(e,t){var s=['href="'+t+'"'],i=this.createCssClass(e);return i&&s.push('class="'+i+'"'),this.newWindow&&s.push('target="_blank"'),s.join(" ")},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e),e=this.doTruncate(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},doTruncate:function(e){var t=this.truncate;return t&&e.length>t&&(e=e.substring(0,t-2)+".."),e}},e.link=function(t,s){var i=new e(s);return i.link(t)},e})},223:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(8),o=i(n),r=s(1),a=i(r),l=s(80),c=s(224),h=a["default"].createClass({displayName:"UserProfileEdit",getInitialState:function(){return{editing:!1,confirmClose:!1,isDirty:!1}},setupRoutes:function(e){var t=this;e.on("route:main",function(e){t.setState({editing:!1})}),e.on("route:edit",function(e,s){t.setState({editing:!0})})},componentWillMount:function(){this.setupRoutes(this.props.router),o["default"].history.start({pushState:!0,root:this.props.appRoot})},componentWillUpdate:function(e,t){this.handleURL(t)},handleEdit:function(){this.setState({editing:!0})},handleClose:function(e){e=e||{};var t=e.forceClose||!1;this.state.isDirty&&!t?this.setState({confirmClose:!0}):this.setState({editing:!1,confirmClose:!1,isDirty:!1})},handleSave:function(e){this.handleClose(),window.location.reload()},handleDlgOk:function(){this.handleClose({forceClose:!0})},handleDlgCancel:function(){this.setState({confirmClose:!1})},handleDirtyFlag:function(e){this.setState({isDirty:e})},handleURL:function(e){var t=e.editing?"/edit/":"/";this.props.router.navigate(t)},render:function(){return a["default"].createElement("div",null,a["default"].createElement("div",{className:"edit-profile-btn"},a["default"].createElement("button",{className:"btn btn-primary",onClick:this.handleEdit},gettext("Edit My Public Profile"))),this.state.editing&&a["default"].createElement(l.Modal,{className:"user-edit",onClose:this.handleClose,title:gettext("My Public Profile")},a["default"].createElement("div",{id:"user-edit"},a["default"].createElement(c.UserProfileForm,{model:this.props.user,onDirty:this.handleDirtyFlag,onSuccess:this.handleSave}))),this.state.confirmClose&&a["default"].createElement(l.Dialog,{onAccept:this.handleDlgOk,onCancel:this.handleDlgCancel,onClose:this.handleDlgCancel,title:gettext("Discard changes."),okLabel:gettext("Yes"),cancelLabel:gettext("No")},gettext("There are unsaved changes. Do you want to discard them?")))}});t["default"]=h},224:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=s(63),o=i(n),r=s(1),a=s(161).link,l=s(16).FormElement,c=s(17).ModelFormMixin,h=function(e){return{__html:a(e)}},u=r.createClass({displayName:"UserProfileForm",mixins:[c],propTypes:{onDirty:r.PropTypes.func.isRequired,onSuccess:r.PropTypes.func.isRequired},fields:["full_name","twitter","linkedin","website","bio"],componentWillUpdate:function(e,t){t.isDirty!==this.state.isDirty&&this.props.onDirty(t.isDirty)},handleSuccess:function(e){this.props.onSuccess(e)},render:function(){var e=this.getResource(),t=this.state.errors,s=this.state.formData,i=gettext("To set or change your avatar for your email address (%(email)s), please go to gravatar.com.");return i=interpolate(i,{email:e.get("email")},!0),r.createElement("form",{method:"post",id:"item-form",autoComplete:"off",onSubmit:this.handleFormSubmit},r.createElement("div",{className:"fields"},r.createElement(l,{attribute:"full_name",label:gettext("Full Name"),placeholder:gettext("Your Full Name"),autoFocus:!0,handleChange:this.handleChange,formData:s,errors:t}),r.createElement("p",null,r.createElement("label",null,gettext("Avatar")),r.createElement(o["default"],{email:e.get("email"),size:48}),r.createElement("span",{className:"helptext",dangerouslySetInnerHTML:h(i)})),r.createElement("p",{className:"divider"}),r.createElement(l,{attribute:"twitter",label:gettext("Twitter"),handleChange:this.handleChange,placeholder:gettext("Your Twitter username"),formData:s,errors:t,maxLength:"15"}),r.createElement(l,{attribute:"linkedin",label:gettext("LinkedIn"),handleChange:this.handleChange,placeholder:gettext("Your LinkedIn profile URL"),formData:s,errors:t}),r.createElement(l,{attribute:"website",label:gettext("Website"),handleChange:this.handleChange,placeholder:gettext("Your Personal website/blog URL"),formData:s,errors:t}),r.createElement(l,{type:"textarea",attribute:"bio",label:gettext("Short Bio"),handleChange:this.handleChange,placeholder:gettext("Why are you part of our translation project? Describe yourself, inspire others!"),formData:s,errors:t})),r.createElement("p",{className:"buttons"},r.createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")})))}});e.exports={UserProfileForm:u}},225:function(e,t,s){"use strict";var i=s(8),n=i.Router.extend({routes:{"":"main","edit(/)":"edit"}});e.exports=n}});