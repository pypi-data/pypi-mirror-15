<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Management commands &mdash; Pootle 2.7.6 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Pootle 2.7.6 documentation" href="../index.html" />
    <link rel="up" title="Administering a server" href="index.html" />
    <link rel="next" title="RQ Job Queues" href="rq.html" />
    <link rel="prev" title="User Authentication and Authorization" href="auth.html" /> 
  </head>
  <body role="document">
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Pootle</a>
        <span class="navbar-text pull-left"><b>2.7</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administering a server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Management commands</a><ul>
<li><a class="reference internal" href="#managing-pootle-projects">Managing Pootle projects</a><ul>
<li><a class="reference internal" href="#running-commands-with-no-rq-option">Running commands with &#8211;no-rq option</a></li>
<li><a class="reference internal" href="#refresh-stats">refresh_stats</a></li>
<li><a class="reference internal" href="#retry-failed-jobs">retry_failed_jobs</a></li>
<li><a class="reference internal" href="#calculate-checks">calculate_checks</a></li>
<li><a class="reference internal" href="#clear-stats">clear_stats</a></li>
<li><a class="reference internal" href="#refresh-scores">refresh_scores</a></li>
<li><a class="reference internal" href="#sync-stores">sync_stores</a></li>
<li><a class="reference internal" href="#update-stores">update_stores</a></li>
<li><a class="reference internal" href="#list-languages">list_languages</a></li>
<li><a class="reference internal" href="#list-projects">list_projects</a></li>
<li><a class="reference internal" href="#contributors">contributors</a></li>
<li><a class="reference internal" href="#revision">revision</a></li>
<li><a class="reference internal" href="#changed-languages">changed_languages</a></li>
<li><a class="reference internal" href="#test-checks">test_checks</a></li>
<li><a class="reference internal" href="#dump">dump</a></li>
</ul>
</li>
<li><a class="reference internal" href="#translation-memory">Translation Memory</a><ul>
<li><a class="reference internal" href="#update-tmserver">update_tmserver</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual-folders">Virtual Folders</a><ul>
<li><a class="reference internal" href="#add-vfolders">add_vfolders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import-and-export">Import and Export</a><ul>
<li><a class="reference internal" href="#export">export</a></li>
<li><a class="reference internal" href="#import">import</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manually-installing-pootle">Manually Installing Pootle</a><ul>
<li><a class="reference internal" href="#init">init</a></li>
<li><a class="reference internal" href="#initdb">initdb</a></li>
<li><a class="reference internal" href="#collectstatic">collectstatic</a></li>
<li><a class="reference internal" href="#assets">assets</a></li>
<li><a class="reference internal" href="#webpack">webpack</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-users">Managing users</a><ul>
<li><a class="reference internal" href="#find-duplicate-emails">find_duplicate_emails</a></li>
<li><a class="reference internal" href="#merge-user">merge_user</a></li>
<li><a class="reference internal" href="#purge-user">purge_user</a></li>
<li><a class="reference internal" href="#update-user-email">update_user_email</a></li>
<li><a class="reference internal" href="#verify-user">verify_user</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-wsgi-servers">Running WSGI servers</a><ul>
<li><a class="reference internal" href="#run-cherrypy">run_cherrypy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated-commands">Deprecated commands</a><ul>
<li><a class="reference internal" href="#last-change-id">last_change_id</a></li>
<li><a class="reference internal" href="#commit-to-vcs">commit_to_vcs</a></li>
<li><a class="reference internal" href="#update-from-vcs">update_from_vcs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-commands-in-cron">Running Commands in cron</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="auth.html"
         title="previous chapter">&laquo; User Authentication and Authorization</a></li>
  <li><a href="rq.html"
         title="next chapter">RQ Job Queues &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="management-commands">
<span id="commands"></span><h1>Management commands<a class="headerlink" href="#management-commands" title="Permalink to this headline">¶</a></h1>
<p>The management commands are administration commands provided by Django, Pootle
or any external Django app being used with Pootle. You will usually run these
commands by issuing <code class="docutils literal"><span class="pre">pootle</span> <span class="pre">&lt;command&gt;</span> <span class="pre">[options]</span></code>.</p>
<p>For example, to get information about all available management commands, you
will run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle <span class="nb">help</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you run Pootle from a repository checkout you can use the <em>manage.py</em> file
found in the root of the repository.</p>
</div>
<div class="section" id="managing-pootle-projects">
<span id="commands-managing-pootle-projects"></span><h2>Managing Pootle projects<a class="headerlink" href="#managing-pootle-projects" title="Permalink to this headline">¶</a></h2>
<p>These commands will go through all existing projects performing maintenance
tasks. The tasks are all available through the web interface but on a project
by project or file by file basis.</p>
<p>The commands target can be limited in a more flexible way using the
<code class="xref std std-option docutils literal"><span class="pre">--project</span></code> <code class="xref std std-option docutils literal"><span class="pre">--language</span></code> command line options. They can be
repeated to indicate multiple languages or projects. If you use both options
together it will only match the files that match both languages and projects
selected.</p>
<p>For example, to <em>refresh_stats</em> for the tutorial project only, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle refresh_stats --project<span class="o">=</span>tutorial
</pre></div>
</div>
<p>To only refresh a the Zulu and Basque language files within the tutorial
project, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle refresh_stats --project<span class="o">=</span>tutorial --language<span class="o">=</span>zu --language<span class="o">=</span>eu
</pre></div>
</div>
<div class="section" id="running-commands-with-no-rq-option">
<h3>Running commands with &#8211;no-rq option<a class="headerlink" href="#running-commands-with-no-rq-option" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>Some of the commands work asynchronously and will schedule jobs to RQ workers,
rather than running them in the command process. You can change this behaviour
using the <code class="xref std std-option docutils literal"><span class="pre">--no-rq</span></code> command line option.</p>
<p>This can be useful for running pootle commands in bash scripts or automating
installation/upgrade/migration. It can also be useful for debugging otherwise
asynchronous jobs.</p>
<p>For example, to run <a class="reference internal" href="#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> in the command process and wait
for the process to terminate:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle refresh_stats --no-rq
</pre></div>
</div>
<p>It is <em>not</em> generally safe to run commands in this mode if you have RQ workers
active at the same time, as there is a risk that they conflict with other jobs
dispatched to the workers.</p>
<p>If there are RQ workers running, the command will ask for confirmation before
proceeding. This can be overridden using the <code class="xref std std-option docutils literal"><span class="pre">--noinput</span></code> flag, in
which case the command will run even if there are.</p>
<dl class="django-admin">
<dt id="django-admin-refresh_stats">
<code class="descname">refresh_stats</code><a class="headerlink" href="#django-admin-refresh_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="refresh-stats">
<h3>refresh_stats<a class="headerlink" href="#refresh-stats" title="Permalink to this headline">¶</a></h3>
<p>Refreshes all calculated statistics ensuring that they are up-to-date.</p>
<p>A background process will create a task for every file to make sure calculated
statistics data is up to date. When the task for a file completes then further
tasks will be created for the files parents.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Files in disabled projects are processed.</p>
</div>
<p>This command allows statistics to be updated when using multiple RQ workers.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please note that the actual translations <strong>must be in Pootle</strong>
before running this command. <a class="reference internal" href="#django-admin-update_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">update_stores</span></code></a> will pull them in.</p>
</div>
<dl class="django-admin">
<dt id="django-admin-retry_failed_jobs">
<code class="descname">retry_failed_jobs</code><a class="headerlink" href="#django-admin-retry_failed_jobs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="retry-failed-jobs">
<h3>retry_failed_jobs<a class="headerlink" href="#retry-failed-jobs" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Requeue failed RQ jobs.</p>
<p>Background RQ jobs can fail for various reasons.  To push them back into the
queue you can run this command.</p>
<p>Examine the RQ worker logs for tracebacks before trying to requeue your jobs.</p>
<dl class="django-admin">
<dt id="django-admin-calculate_checks">
<code class="descname">calculate_checks</code><a class="headerlink" href="#django-admin-calculate_checks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="calculate-checks">
<h3>calculate_checks<a class="headerlink" href="#calculate-checks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>This command will create a background job to go through all units and
recalculate quality checks.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Disabled projects are processed.</p>
</div>
<p><a class="reference internal" href="#django-admin-calculate_checks"><code class="xref std std-djadmin docutils literal"><span class="pre">calculate_checks</span></code></a> will flush existing caches and update the quality
checks cache.</p>
<p>It&#8217;s necessary to run this command after upgrading Pootle if new quality
checks are added.</p>
<p>The time it takes to complete the whole process will vary depending on the
number of units you have in the database. If a user hits a page that needs to
display stats but they haven&#8217;t been calculated yet, then a message will be
displayed indicating that the stats being calculated.</p>
<p>Use the <code class="xref std std-option docutils literal"><span class="pre">--check</span></code> option to force calculaton of a specified check.  To
recalculate only the <code class="docutils literal"><span class="pre">date_format</span></code> quality checks, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle calculate_checks --check<span class="o">=</span>date_format
</pre></div>
</div>
<dl class="django-admin">
<dt id="django-admin-clear_stats">
<code class="descname">clear_stats</code><a class="headerlink" href="#django-admin-clear_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="clear-stats">
<h3>clear_stats<a class="headerlink" href="#clear-stats" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Clear stats cache data.</p>
<p>Make use of <a class="reference internal" href="#django-admin-clear_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">clear_stats</span></code></a> in cases where you want to remove all stats
data.  Such a case may be where you want to recalculate stats after a change
to checks or wordcount calculations.  While it should be fine to run
<a class="reference internal" href="#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> or <a class="reference internal" href="#django-admin-calculate_checks"><code class="xref std std-djadmin docutils literal"><span class="pre">calculate_checks</span></code></a>, by first running
<a class="reference internal" href="#django-admin-clear_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">clear_stats</span></code></a> you can be sure that the stats are calculated from
scratch.</p>
<dl class="django-admin">
<dt id="django-admin-refresh_scores">
<code class="descname">refresh_scores</code><a class="headerlink" href="#django-admin-refresh_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="refresh-scores">
<h3>refresh_scores<a class="headerlink" href="#refresh-scores" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Recalculates the scores for all users.</p>
<p>When the <code class="xref std std-option docutils literal"><span class="pre">--reset</span></code> option is used , all score log data is removed and
<cite>zero</cite> score is set for all users.</p>
<dl class="django-admin">
<dt id="django-admin-sync_stores">
<code class="descname">sync_stores</code><a class="headerlink" href="#django-admin-sync_stores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="sync-stores">
<h3>sync_stores<a class="headerlink" href="#sync-stores" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.7.</span></p>
</div>
<p>Save all translations currently in the database to the file system, thereby
bringing the files under the <a class="reference internal" href="settings.html#std:setting-POOTLE_TRANSLATION_DIRECTORY"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TRANSLATION_DIRECTORY</span></code></a> directory
in sync with the Pootle database.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Disabled projects are skipped.</p>
</div>
<p>You must run this command before taking backups or running scripts that modify
the translation files directly on the file system, otherwise you might miss out
on translations that are in the database but not yet saved to disk. In
other words, <strong>translations are saved to disk only when you explicitly do
so</strong> using this command.</p>
<p>For every file being synced, the in-DB <code class="docutils literal"><span class="pre">Store</span></code> will be updated to
reflect the latest revision across the units in the file at the time of
syncing. This allows Pootle to make optimizations when syncing and
updating files, ignoring files that haven&#8217;t change.</p>
<p>The default behavior of <a class="reference internal" href="#django-admin-sync_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">sync_stores</span></code></a> can be altered by specifying
these parameters:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--force</span></code></dt>
<dd>Synchronizes files even if nothing changed in the database.</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--overwrite</span></code></dt>
<dd>Copies the current state of the DB stores (not only translations, but also
metadata) regardless if they have been modified since the last sync or
not. This operation will (over)write existing on-disk files.</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--skip-missing</span></code></dt>
<dd>Ignores files missing on disk, and no new files will be created.</dd>
</dl>
<dl class="django-admin">
<dt id="django-admin-update_stores">
<code class="descname">update_stores</code><a class="headerlink" href="#django-admin-update_stores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="update-stores">
<h3>update_stores<a class="headerlink" href="#update-stores" title="Permalink to this headline">¶</a></h3>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.7.</span></p>
</div>
<p>The opposite of <a class="reference internal" href="#django-admin-sync_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">sync_stores</span></code></a>, this will update the strings in the
database to reflect what is on disk, as Pootle will not detect changes in the
file system on its own.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Disabled projects are skipped.</p>
</div>
<p>It also discovers new units, files and translation projects that were
added on disk:</p>
<ul class="simple">
<li>Projects that exist in the DB but ceased to exist on disk will
be <strong>disabled</strong> (not deleted). If a project is recovered on disk it can be
enabled via the admin UI only.</li>
<li>Translation projects will be scanned for new files and
directories. In-DB files and directories that no longer exist on disk
will be <strong>marked as obsolete</strong>. Also any in-DB directory will be
<strong>marked as obsolete</strong> if this directory is empty or contains empty
directories only.</li>
<li>In-DB stores will be updated with the contents of the on-disk files.
New units will be <strong>added</strong> to the store, units that ceased to exist
will be <strong>marked as obsolete</strong>. Translations that were updated on-disk
will be reflected in the DB.</li>
</ul>
<p>You must run this command after running scripts that modify translation files
directly on the file system.</p>
<p><a class="reference internal" href="#django-admin-update_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">update_stores</span></code></a> accepts several options:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--force</span></code></dt>
<dd>Updates in-DB translations even if the on-disk file hasn&#8217;t been changed
since the last sync operation.</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--overwrite</span></code></dt>
<dd>Mirrors the on-disk contents of the file. If there have been changes in
the database <strong>since the last sync operation</strong>, these will be
overwritten.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If files on the file system are corrupt, translations might be
deleted from the database. Handle with care!</p>
</div>
<dl class="django-admin">
<dt id="django-admin-list_languages">
<code class="descname">list_languages</code><a class="headerlink" href="#django-admin-list_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="list-languages">
<h3>list_languages<a class="headerlink" href="#list-languages" title="Permalink to this headline">¶</a></h3>
<p>Lists all the language codes for languages hosted on the server. This can be
useful for automation.</p>
<p>Accepts the <code class="xref std std-option docutils literal"><span class="pre">--modified-since</span></code> parameter to list only those languages
modified since the revision given by <a class="reference internal" href="#django-admin-revision"><code class="xref std std-djadmin docutils literal"><span class="pre">revision</span></code></a>.</p>
<dl class="django-admin">
<dt id="django-admin-list_projects">
<code class="descname">list_projects</code><a class="headerlink" href="#django-admin-list_projects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="list-projects">
<h3>list_projects<a class="headerlink" href="#list-projects" title="Permalink to this headline">¶</a></h3>
<p>Lists all the project codes on the server. This might can be useful for
automation.</p>
<p>Accepts the <code class="xref std std-option docutils literal"><span class="pre">--modified-since</span></code> parameter to list only those projects
modified since the revision given by <a class="reference internal" href="#django-admin-revision"><code class="xref std std-djadmin docutils literal"><span class="pre">revision</span></code></a>.</p>
<dl class="django-admin">
<dt id="django-admin-contributors">
<code class="descname">contributors</code><a class="headerlink" href="#django-admin-contributors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="contributors">
<h3>contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>Lists the contributors to a language, project or overall and the amount
of contributions they have.</p>
<p>Accepts the <code class="xref std std-option docutils literal"><span class="pre">--from-revision</span></code> parameter to only take into account
contributions newer than the revision given by <a class="reference internal" href="#django-admin-revision"><code class="xref std std-djadmin docutils literal"><span class="pre">revision</span></code></a>.</p>
<dl class="django-admin">
<dt id="django-admin-revision">
<code class="descname">revision</code><a class="headerlink" href="#django-admin-revision" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="revision">
<h3>revision<a class="headerlink" href="#revision" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Print the latest revision number.</p>
<p>The revision is a common system-wide counter for units. It is incremented with
every translation action made from the browser. Zero length units that have
been auto-translated also increment the unit revision.</p>
<p>The revision counter is stored in the database but also in cache for faster
retrieval. If for some reason the revision counter was removed or got
corrupted, passing the <code class="xref std std-option docutils literal"><span class="pre">--restore</span></code> flag to the command will restore the
counter&#8217;s value based on the revision data available on the relational DB
backend. You shouldn&#8217;t need to ever run this, but if for instance you deleted
your cache you will need to restore the counter to ensure correct operation.</p>
<dl class="django-admin">
<dt id="django-admin-changed_languages">
<code class="descname">changed_languages</code><a class="headerlink" href="#django-admin-changed_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="changed-languages">
<h3>changed_languages<a class="headerlink" href="#changed-languages" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Produces a comma-separated list of language codes that changed since the last
sync operation.</p>
<p>When <code class="xref std std-option docutils literal"><span class="pre">--after-revision</span></code> is specified with a revision number as an
argument, it will print the language codes for languages that have changed
since the specified revision.</p>
<dl class="django-admin">
<dt id="django-admin-test_checks">
<code class="descname">test_checks</code><a class="headerlink" href="#django-admin-test_checks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="test-checks">
<h3>test_checks<a class="headerlink" href="#test-checks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Tests any given string pair or unit against all or certain checks from the
command line. This is useful for debugging and developing new checks.</p>
<p>String pairs can be specified by setting the values to be checked in the
<code class="docutils literal"><span class="pre">--source=&lt;&quot;source_text&quot;&gt;</span></code> and <code class="docutils literal"><span class="pre">--target=&quot;&lt;target_text&gt;&quot;</span></code>
command-line arguments.</p>
<p>Alternatively, <code class="docutils literal"><span class="pre">--unit=&lt;unit_id&gt;</span></code> can be used to reference an existing
unit from the database.</p>
<p>By default, <a class="reference internal" href="#django-admin-test_checks"><code class="xref std std-djadmin docutils literal"><span class="pre">test_checks</span></code></a> tests all existing checks. When
<code class="docutils literal"><span class="pre">--check=&lt;checkname&gt;</span></code> is set, only specific checks will be tested against.</p>
<dl class="django-admin">
<dt id="django-admin-dump">
<code class="descname">dump</code><a class="headerlink" href="#django-admin-dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="dump">
<h3>dump<a class="headerlink" href="#dump" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Prints data or stats data (depending on <code class="xref std std-option docutils literal"><span class="pre">--data</span></code> or <code class="xref std std-option docutils literal"><span class="pre">--stats</span></code> option)
in specific format.</p>
<p><em>data</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>object_id:class_name
8276:Directory        name=android    parent=/uk/     pootle_path=/uk/android/
24394:Store   file=android/uk/strings.xml.po  translation_project=/uk/android/        pootle_path=/uk/android/strings.xml.po  name=strings.xml.pstate=2
806705:Unit   source=Create Account   target=Створити аккаунт source_wordcount=2      target_wordcount=2      developer_comment=create_account        translator_commentlocations=File:\nstrings.xml\nID:\ne82a8ea14a0b9f92b1b67ebfde2c16e9   isobsolete=False        isfuzzy=False   istranslated=True
115654:Suggestion     target_f=Необхідна електронна адреса    user_id=104481
</pre></div>
</div>
<p><em>stats</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>pootle_path total,translated,fuzzy,suggestions,criticals,is_dirty,last_action_unit_id,last_updated_unit_id
/uk/android/strings.xml.po  11126,10597,383,231,0,False,4710214,4735242
/uk/android/widget/strings.xml.po  339,339,0,26,0,False,2277376,3738609
/uk/android/widget/  339,339,0,26,0,False,2277376,3738609
/uk/android/  11465,10936,383,257,0,False,4710214,4735242
</pre></div>
</div>
<p>This command can be used by developers to check if all data kept after
migrations or stats calculating algorithm was changed.</p>
</div>
</div>
<div class="section" id="translation-memory">
<span id="commands-translation-memory"></span><h2>Translation Memory<a class="headerlink" href="#translation-memory" title="Permalink to this headline">¶</a></h2>
<p>These commands allow you to setup and manage <a class="reference internal" href="../features/translation_memory.html"><em>Translation Memory</em></a>.</p>
<dl class="django-admin">
<dt id="django-admin-update_tmserver">
<code class="descname">update_tmserver</code><a class="headerlink" href="#django-admin-update_tmserver" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="update-tmserver">
<h3>update_tmserver<a class="headerlink" href="#update-tmserver" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.7.3: </span>Renamed <code class="xref std std-option docutils literal"><span class="pre">--overwrite</span></code> to <code class="xref std std-option docutils literal"><span class="pre">--refresh</span></code>.
Disabled projects&#8217; translations are no longer added by default. It is also
possible to import translations from files.</p>
</div>
<p>Updates the <code class="docutils literal"><span class="pre">local</span></code> server in <a class="reference internal" href="settings.html#std:setting-POOTLE_TM_SERVER"><code class="xref std std-setting docutils literal"><span class="pre">POOTLE_TM_SERVER</span></code></a>.  The command
reads translations from the current Pootle install and builds the TM resources
in the TM server.</p>
<p>If no options are provided, the command will only add new translations to the
server. Use <code class="xref std std-option docutils literal"><span class="pre">--refresh</span></code> to also update existing translations that have
been changed, besides adding any new translation. To completely remove the TM
and rebuild it adding all existing translations use <code class="xref std std-option docutils literal"><span class="pre">--rebuild</span></code>.</p>
<p>If no specific TM server is specified using <code class="xref std std-option docutils literal"><span class="pre">--tm</span></code>, then the default
<code class="docutils literal"><span class="pre">local</span></code> TM will be used. If the specified TM server doesn&#8217;t exist it will
be automatically created for you.</p>
<p>By default translations from disabled projects are not added to the TM, but
this can be changed by specifying <code class="xref std std-option docutils literal"><span class="pre">--include-disabled-projects</span></code>.</p>
<p>To see how many units will be loaded into the server use <code class="xref std std-option docutils literal"><span class="pre">--dry-run</span></code>,
no actual data will be loaded or deleted (the TM will be left unchanged):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle update_tmserver --dry-run
$ pootle update_tmserver --refresh --dry-run
$ pootle update_tmserver --rebuild --dry-run
</pre></div>
</div>
<p>This command also allows to read translations from files and build the TM
resources in the external TM server. In order to do so it is mandatory to
provide the <code class="xref std std-option docutils literal"><span class="pre">--tm</span></code> and <code class="xref std std-option docutils literal"><span class="pre">--display-name</span></code> options, along with
some files to import.</p>
<p>The display name is a label used to group translations within a TM. A given TM
can host translations for several display names. The display name can be used
to specify the name of the project from which the translations originate. The
display name will be shown on TM matches in the translation editor. To specify
a name use <code class="xref std std-option docutils literal"><span class="pre">--display-name</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">(</span>env<span class="o">)</span> $ pootle update_tmserver --tm<span class="o">=</span>libreoffice --display-name<span class="o">=</span><span class="s2">&quot;LibreOffice 4.3 UI&quot;</span> TM_LibreOffice_4.3.gl.tmx
</pre></div>
</div>
<p>By default the command will only add new translations to the server. To rebuild
the server from scratch use <code class="xref std std-option docutils literal"><span class="pre">--rebuild</span></code> to completely remove the TM and
rebuild it before importing the translations:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">(</span>env<span class="o">)</span> $ pootle update_tmserver --rebuild --tm<span class="o">=</span>mozilla --display-name<span class="o">=</span><span class="s2">&quot;Foo 1.7&quot;</span> foo.po
</pre></div>
</div>
<p>Option <code class="xref std std-option docutils literal"><span class="pre">--refresh</span></code> doesn&#8217;t apply when adding translations from files
on disk.</p>
<p>To see how many units will be loaded into the server use <code class="xref std std-option docutils literal"><span class="pre">--dry-run</span></code>,
no actual data will be loaded:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">(</span>env<span class="o">)</span> $ pootle update_tmserver --dry-run --tm<span class="o">=</span>mozilla --display-name<span class="o">=</span><span class="s2">&quot;Foo 1.7&quot;</span> foo.po
<span class="m">175045</span> translations to index
</pre></div>
</div>
<p>This command is capable of importing translations in multiple formats from
several files and directories at once:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">(</span>env<span class="o">)</span> $ pootle update_tmserver --tm<span class="o">=</span>mozilla --display-name<span class="o">=</span><span class="s2">&quot;Foo 1.7&quot;</span> bar.tmx foo.xliff fr/
</pre></div>
</div>
<p>Use <code class="xref std std-option docutils literal"><span class="pre">--target-language</span></code> to specify the target language ISO code for the
imported translations in case it is not possible to guess it from the
translation files or if the code is incorrect:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">(</span>env<span class="o">)</span> $ pootle update_tmserver --target-language<span class="o">=</span>af --tm<span class="o">=</span>mozilla --display-name<span class="o">=</span><span class="s2">&quot;Foo 1.7&quot;</span> foo.po bar.tmx
</pre></div>
</div>
</div>
</div>
<div class="section" id="virtual-folders">
<span id="commands-vfolders"></span><h2>Virtual Folders<a class="headerlink" href="#virtual-folders" title="Permalink to this headline">¶</a></h2>
<p>These commands allow you to perform tasks with virtual folders from the command
line.</p>
<dl class="django-admin">
<dt id="django-admin-add_vfolders">
<code class="descname">add_vfolders</code><a class="headerlink" href="#django-admin-add_vfolders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="add-vfolders">
<h3>add_vfolders<a class="headerlink" href="#add-vfolders" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Creates <a class="reference internal" href="../features/virtual_folders.html#virtual-folders"><span>virtual folders</span></a> from a JSON file. If the
specified virtual folders already exist then they are updated.</p>
<p>The <a class="reference internal" href="../features/virtual_folders.html#virtual-folders-json-format"><span>vfolder format</span></a> defines how to specify
a virtual folder that fits your needs.</p>
<p>This command requires a mandatory filename argument.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle add_vfolders virtual_folders.json
</pre></div>
</div>
</div>
</div>
<div class="section" id="import-and-export">
<span id="commands-import-export"></span><h2>Import and Export<a class="headerlink" href="#import-and-export" title="Permalink to this headline">¶</a></h2>
<p>Export and Import translation files in Pootle.  The operation can be thought of
best as offline operations to assist with offline translation, unlike
<a class="reference internal" href="#django-admin-sync_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">sync_stores</span></code></a> and <a class="reference internal" href="#django-admin-update_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">update_stores</span></code></a> the operations here are
designed to cater for translators working outside of Pootle.</p>
<p>The <a class="reference internal" href="#django-admin-import"><code class="xref std std-djadmin docutils literal"><span class="pre">import</span></code></a> and <a class="reference internal" href="#django-admin-export"><code class="xref std std-djadmin docutils literal"><span class="pre">export</span></code></a> commands are designed to mimic the
operations of Download and Upload from the Pootle UI.</p>
<dl class="django-admin">
<dt id="django-admin-export">
<code class="descname">export</code><a class="headerlink" href="#django-admin-export" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="export">
<h3>export<a class="headerlink" href="#export" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Download a file for offline translation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This mimics the editor&#8217;s download functionality and its primary
purpose is to test the operation of downloads from the command line.</p>
</div>
<p>A file or a .zip of files is provided as output.  The file headers include a
revision counter to assist Pootle to detetmine how to handle subsequent uploads
of the file.</p>
<dl class="django-admin">
<dt id="django-admin-import">
<code class="descname">import</code><a class="headerlink" href="#django-admin-import" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="import">
<h3>import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>Upload a file that was altered offline.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This mimics the editor&#8217;s upload functionality and its primary purpose
is to test the operation of uploads from the command line.</p>
</div>
<p>A file or a .zip is submitted to Pootle and based on the revision counter of
the <code class="docutils literal"><span class="pre">Store</span></code> on Pootle it will be uploaded or rejected.  If the revision
counter is older than on Pootle, that is someone has translated while the file
was offline, then it will be rejected.  Otherwise the translations in the file
are accepted.</p>
<p>Available options:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--user</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.3.</span></p>
</div>
<p>Import file(s) as given user. The user with the provided username must exist.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">system</span></code>.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="manually-installing-pootle">
<span id="commands-manually-installing-pootle"></span><h2>Manually Installing Pootle<a class="headerlink" href="#manually-installing-pootle" title="Permalink to this headline">¶</a></h2>
<p>These commands expose the database installation and upgrade process from the
command line.</p>
<dl class="django-admin">
<dt id="django-admin-init">
<code class="descname">init</code><a class="headerlink" href="#django-admin-init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="init">
<h3>init<a class="headerlink" href="#init" title="Permalink to this headline">¶</a></h3>
<p>Create the initial configuration for Pootle.</p>
<p>Available options:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--config</span></code></dt>
<dd><p class="first">The configuration file to write to.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">~/.pootle/pootle.conf</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--db</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>The database backend that you are using</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">sqlite</span></code>.
Available options: <code class="docutils literal"><span class="pre">sqlite</span></code>, <code class="docutils literal"><span class="pre">mysql</span></code>, <code class="docutils literal"><span class="pre">postgresql</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--db-name</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>The database name or path to database file if you are using sqlite.</p>
<p class="last">Default for sqlite: <code class="docutils literal"><span class="pre">dbs/pootle.db</span></code>.
Default for mysql/postgresql: <code class="docutils literal"><span class="pre">pootledb</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--db-user</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>Name of the database user. Not used with sqlite.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">pootle</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--db-host</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>Database host to connect to. Not used with sqlite.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">localhost</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--db-port</span></code></dt>
<dd><div class="first versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p class="last">Port to connect to database on. Defaults to database backend&#8217;s default port.
Not used with sqlite.</p>
</dd>
</dl>
<dl class="django-admin">
<dt id="django-admin-initdb">
<code class="descname">initdb</code><a class="headerlink" href="#django-admin-initdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="initdb">
<h3>initdb<a class="headerlink" href="#initdb" title="Permalink to this headline">¶</a></h3>
<p>Initializes a new Pootle install.</p>
<p>This is an optional part of Pootle&#8217;s install process, it creates the default
<em>admin</em> user, populates the language table with several languages, initializes
the terminology project, and creates the tutorial project among other tasks.</p>
<p><a class="reference internal" href="#django-admin-initdb"><code class="xref std std-djadmin docutils literal"><span class="pre">initdb</span></code></a> can only be run after <a class="reference external" href="https://docs.djangoproject.com/en/1.7/ref/django-admin/#django-admin-migrate" title="(in Django v1.7)"><code class="docutils literal"><span class="pre">migrate</span></code></a>.</p>
<p><a class="reference internal" href="#django-admin-initdb"><code class="xref std std-djadmin docutils literal"><span class="pre">initdb</span></code></a> accepts the following option:</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.3.</span></p>
</div>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--no-projects</span></code>:</dt>
<dd>Don&#8217;t create the default <code class="docutils literal"><span class="pre">terminology</span></code> and <code class="docutils literal"><span class="pre">tutorial</span></code> projects.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="#django-admin-initdb"><code class="xref std std-djadmin docutils literal"><span class="pre">initdb</span></code></a> will import translations into the database, so
can be slow to run. You should have an <code class="docutils literal"><span class="pre">rqworker</span></code> running or run with
the <code class="xref std std-option docutils literal"><span class="pre">--no-rq</span></code>.</p>
</div>
</div>
<div class="section" id="collectstatic">
<span id="commands-collectstatic"></span><h3>collectstatic<a class="headerlink" href="#collectstatic" title="Permalink to this headline">¶</a></h3>
<p>Running the Django admin <a class="reference external" href="https://docs.djangoproject.com/en/1.7/ref/contrib/staticfiles/#django-admin-collectstatic" title="(in Django v1.7)"><code class="docutils literal"><span class="pre">collectstatic</span></code></a> command finds and
extracts static content such as images, CSS and JavaScript files used by the
Pootle server, so that they can be served separately from a static webserver.
Typically, this is run with the <code class="xref std std-option docutils literal"><span class="pre">--clear</span></code> <code class="xref std std-option docutils literal"><span class="pre">--noinput</span></code> options,
to flush any existing static data and use default answers for the content
finders.</p>
</div>
<div class="section" id="assets">
<span id="commands-assets"></span><h3>assets<a class="headerlink" href="#assets" title="Permalink to this headline">¶</a></h3>
<p>Pootle uses the Django app <a class="reference external" href="http://django-assets.readthedocs.org/en/latest/">django-assets</a> interface of <cite>webassets</cite> to minify
and bundle CSS and JavaScript; this app has a management command that is used
to make these preparations using the command <code class="docutils literal"><span class="pre">assets</span> <span class="pre">build</span></code>. This command is
usually executed after the <a class="reference internal" href="#commands-collectstatic"><span>collectstatic</span></a> one.</p>
<dl class="django-admin">
<dt id="django-admin-webpack">
<code class="descname">webpack</code><a class="headerlink" href="#django-admin-webpack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="webpack">
<h3>webpack<a class="headerlink" href="#webpack" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.</span></p>
</div>
<p>The <a class="reference external" href="http://webpack.github.io/">webpack</a> tool is used under the hood to
bundle JavaScript scripts, and this management command is a convenient
wrapper that sets everything up ready for production and makes sure to
include any 3rd party customizations.</p>
<p>When the <code class="xref std std-option docutils literal"><span class="pre">--dev</span></code> flag is enabled, development builds will be created
and the process will start a watchdog to track any client-side scripts for
changes. Use this only when developing Pootle.</p>
</div>
</div>
<div class="section" id="managing-users">
<span id="commands-user-management"></span><h2>Managing users<a class="headerlink" href="#managing-users" title="Permalink to this headline">¶</a></h2>
<dl class="django-admin">
<dt id="django-admin-find_duplicate_emails">
<code class="descname">find_duplicate_emails</code><a class="headerlink" href="#django-admin-find_duplicate_emails" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="find-duplicate-emails">
<h3>find_duplicate_emails<a class="headerlink" href="#find-duplicate-emails" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>As of Pootle version 2.8, it will no longer be possible to have users with
duplicate emails. This command will find any user accounts that have duplicate
emails. It also shows the last login time for each affected user and indicates
if they are superusers of the site.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle find_duplicate_emails
</pre></div>
</div>
<dl class="django-admin">
<dt id="django-admin-merge_user">
<code class="descname">merge_user</code><a class="headerlink" href="#django-admin-merge_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="merge-user">
<h3>merge_user<a class="headerlink" href="#merge-user" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>This can be used if you have a user with two accounts and need to merge one
account into another. This will re-assign all submissions, units and
suggestions, but not any of the user&#8217;s profile data.</p>
<p>This command requires 2 mandatory arguments, <code class="docutils literal"><span class="pre">src_username</span></code> and
<code class="docutils literal"><span class="pre">target_username</span></code>, both should be valid usernames for users of your site.
Submissions from the first are re-assigned to the second. The users&#8217; profile
data is not merged.</p>
<p>By default <code class="docutils literal"><span class="pre">src_username</span></code> will be deleted after the contributions have been
merged. You can prevent this by using the <code class="xref std std-option docutils literal"><span class="pre">--no-delete</span></code> option.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle merge_user src_username target_username
</pre></div>
</div>
<dl class="django-admin">
<dt id="django-admin-purge_user">
<code class="descname">purge_user</code><a class="headerlink" href="#django-admin-purge_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="purge-user">
<h3>purge_user<a class="headerlink" href="#purge-user" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>This command can be used if you wish to permanently remove a user and revert
the edits, comments and reviews that the user has made. This is useful for
removing a spam account or other malicious user.</p>
<p>This command requires a mandatory <code class="docutils literal"><span class="pre">username</span></code> argument, which should be a valid
username for a user of your site.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle purge_user username
</pre></div>
</div>
<dl class="django-admin">
<dt id="django-admin-update_user_email">
<code class="descname">update_user_email</code><a class="headerlink" href="#django-admin-update_user_email" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="update-user-email">
<h3>update_user_email<a class="headerlink" href="#update-user-email" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle update_user_email username email
</pre></div>
</div>
<p>This command can be used if you wish to update a user&#8217;s email address. This
might be useful if you have users with duplicate email addresses.</p>
<p>This command requires a mandatory <code class="docutils literal"><span class="pre">username</span></code> argument, which should be a valid
username for a user of your site, and a mandatory <code class="docutils literal"><span class="pre">email</span></code> argument which
should to update a valid email address.</p>
<dl class="django-admin">
<dt id="django-admin-verify_user">
<code class="descname">verify_user</code><a class="headerlink" href="#django-admin-verify_user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="verify-user">
<h3>verify_user<a class="headerlink" href="#verify-user" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.7.1.</span></p>
</div>
<p>Verify a user without the user having to go through email verification process.</p>
<p>This is useful if you are migrating users that have already been verified, or
if you want to create a superuser that can log in immediately.</p>
<p>This command requires either a mandatory <code class="docutils literal"><span class="pre">username</span></code> argument, which should be a
valid username for a user of your site, or the <code class="xref std std-option docutils literal"><span class="pre">--all</span></code> flag if you wish to
verify all users of your site.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pootle verify_user username
</pre></div>
</div>
<p>Available options:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--all</span></code></dt>
<dd>Verify all users of the site</dd>
</dl>
</div>
</div>
<div class="section" id="running-wsgi-servers">
<span id="commands-running"></span><h2>Running WSGI servers<a class="headerlink" href="#running-wsgi-servers" title="Permalink to this headline">¶</a></h2>
<p>There are multiple ways to run Pootle, and some of them rely on running WSGI
servers that can be reverse proxied to a proper HTTP web server such as nginx
or lighttpd.</p>
<p>The Translate Toolkit offers a bundled CherryPy server but there are many more
options such as gunicorn, flup, paste, etc.</p>
<dl class="django-admin">
<dt id="django-admin-run_cherrypy">
<code class="descname">run_cherrypy</code><a class="headerlink" href="#django-admin-run_cherrypy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="run-cherrypy">
<h3>run_cherrypy<a class="headerlink" href="#run-cherrypy" title="Permalink to this headline">¶</a></h3>
<p>Run the CherryPy server bundled with the Translate Toolkit.</p>
<p>Available options:</p>
<dl class="docutils">
<dt><code class="xref std std-option docutils literal"><span class="pre">--host</span></code></dt>
<dd><p class="first">The hostname to listen on.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">127.0.0.1</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--port</span></code></dt>
<dd><p class="first">The TCP port on which the server should listen for new connections.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">8080</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--threads</span></code></dt>
<dd><p class="first">The number of working threads to create.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">1</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--name</span></code></dt>
<dd><p class="first">The name of the worker process.</p>
<p class="last">Default: <a class="reference external" href="https://docs.python.org/2.7/library/socket.html#socket.gethostname" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">socket.gethostname()</span></code></a>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--queue</span></code></dt>
<dd><p class="first">Specifies the maximum number of queued connections. This is the the
<code class="docutils literal"><span class="pre">backlog</span></code> argument to <code class="xref py py-func docutils literal"><span class="pre">socket.listen()</span></code>.</p>
<p class="last">Default: <code class="docutils literal"><span class="pre">5</span></code>.</p>
</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--ssl_certificate</span></code></dt>
<dd>The filename of the server SSL certificate.</dd>
<dt><code class="xref std std-option docutils literal"><span class="pre">--ssl_privatekey</span></code></dt>
<dd>The filename of the server&#8217;s private key file.</dd>
</dl>
</div>
</div>
<div class="section" id="deprecated-commands">
<span id="commands-deprecated"></span><h2>Deprecated commands<a class="headerlink" href="#deprecated-commands" title="Permalink to this headline">¶</a></h2>
<p>The following are commands that have been removed or deprecated:</p>
<dl class="django-admin">
<dt id="django-admin-last_change_id">
<code class="descname">last_change_id</code><a class="headerlink" href="#django-admin-last_change_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="last-change-id">
<h3>last_change_id<a class="headerlink" href="#last-change-id" title="Permalink to this headline">¶</a></h3>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.7.</span></p>
</div>
<p>With the change to revisions the command you will want to use is
<a class="reference internal" href="#django-admin-revision"><code class="xref std std-djadmin docutils literal"><span class="pre">revision</span></code></a>, though you are unlikely to know a specific revision
number as you needed to in older versions of <a class="reference internal" href="#django-admin-update_stores"><code class="xref std std-djadmin docutils literal"><span class="pre">update_stores</span></code></a>.</p>
<dl class="django-admin">
<dt id="django-admin-commit_to_vcs">
<code class="descname">commit_to_vcs</code><a class="headerlink" href="#django-admin-commit_to_vcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="commit-to-vcs">
<h3>commit_to_vcs<a class="headerlink" href="#commit-to-vcs" title="Permalink to this headline">¶</a></h3>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.7.</span></p>
</div>
<p>Version Control support has been removed from Pootle and will reappear in a
later release.</p>
<dl class="django-admin">
<dt id="django-admin-update_from_vcs">
<code class="descname">update_from_vcs</code><a class="headerlink" href="#django-admin-update_from_vcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="update-from-vcs">
<h3>update_from_vcs<a class="headerlink" href="#update-from-vcs" title="Permalink to this headline">¶</a></h3>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.7.</span></p>
</div>
<p>Version Control support has been removed from Pootle and will reappear in a
later release.</p>
</div>
</div>
<div class="section" id="running-commands-in-cron">
<span id="commands-running-in-cron"></span><h2>Running Commands in cron<a class="headerlink" href="#running-commands-in-cron" title="Permalink to this headline">¶</a></h2>
<p>If you want to schedule certain actions on your Pootle server, using management
commands with cron might be a solution.</p>
<p>The management commands can perform certain batch commands which you might want
to have executed periodically without user intervention.</p>
<p>For the full details on how to configure cron, read your platform documentation
(for example <code class="docutils literal"><span class="pre">man</span> <span class="pre">crontab</span></code>). Here is an example that runs the
<a class="reference internal" href="#django-admin-refresh_stats"><code class="xref std std-djadmin docutils literal"><span class="pre">refresh_stats</span></code></a> command daily at 02:00 AM:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>00 02 * * * www-data /var/www/sites/pootle/manage.py refresh_stats
</pre></div>
</div>
<p>Test your command with the parameters you want from the command line. Insert it
in the cron table, and ensure that it is executed as the correct user (the same
as your web server) like <em>www-data</em>, for example. The user executing the
command is specified in the sixth column. Cron might report errors through
local mail, but it might also be useful to look at the logs in
<em>/var/log/cron/</em>, for example.</p>
<p>If you are running Pootle from a virtualenv, or if you set any custom
<span class="target" id="index-0"></span><a class="reference external" href="https://docs.python.org/2.7/using/cmdline.html#envvar-PYTHONPATH" title="(in Python v2.7)"><code class="xref std std-envvar docutils literal"><span class="pre">PYTHONPATH</span></code></a> or similar, you might need to run your management command
from a bash script that creates the correct environment for your command to run
from.  Call this script then from cron. It shouldn&#8217;t be necessary to specify
the settings file for Pootle — it should automatically be detected.</p>
</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2004-2016, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.3.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>