{
	"version": 3,
	"file": "D:/activ_tosh/geatec/transcrypt/transcrypt/demos/ios_app/__javascript__/ios_app.mod.js",
	"sources": [
		"D:/activ_tosh/geatec/transcrypt/transcrypt/demos/ios_app/ios_app.py"
	],
	"sourcesContent": [
		"import random\n\nclass Dice:\n\tdef __init__ (self):\n\t\tdocument.body.addEventListener ('touchstart', lambda event: event.preventDefault ())\n\t\tdocument.body.addEventListener ('mousedown', lambda event: event.preventDefault ())\n\t\tdocument.body.style.margin = 0\n\t\tdocument.body.style.overflow = 'hidden';\n\t\n\t\tself.all = document.createElement ('div')\n\t\tself.all.style.color = 'white'\n\t\tself.all.style.backgroundColor = 'black'\n\t\tself.all.style.height = '100%'\n\t\tself.all.style.width = '100%'\n\t\tself.all.style.padding = 0\n\t\tself.all.style.margin = 0\n\t\tdocument.body.appendChild (self.all)\n\t\t\n\t\tself.dices = []\n\t\t\n\t\tfor index in range (6):\n\t\t\tdice = document.createElement ('div')\n\t\t\tdice.normalColor = '#770000' if index < 3 else '#0000ff'\n\t\t\tdice.style.position = 'absolute'\n\t\t\tdice.style.backgroundColor = dice.normalColor\n\t\t\tdice.addEventListener ('touchstart', (lambda aDice: lambda: self.roll (aDice)) (dice))\t# Returns inner lambda\n\t\t\tdice.addEventListener ('mousedown', (lambda aDice: lambda: self.roll (aDice)) (dice))\n\t\t\tself.dices.append (dice)\n\t\t\tself.all.appendChild (dice)\n\t\t\t\n\t\t\tdice.inner = document.createElement ('div')\n\t\t\tdice.inner.setAttribute ('unselectable', 'on')\n\t\t\tdice.inner.style.fontWeight = 'bold'\n\t\t\tdice.inner.style.textAlign = 'center'\n\t\t\tdice.inner.style.position = 'absolute'\n\t\t\tdice.inner.innerHTML = '?'\n\t\t\tdice.appendChild (dice.inner)\n\t\t\t\n\t\tself.banner = document.createElement ('div')\n\t\tself.banner.style.position = 'absolute'\n\t\tself.banner.style.cursor = 'pointer'\n\t\tself.banner.addEventListener ('touchstart', self.gotoTranscryptSite)\n\t\tself.banner.addEventListener ('mousedown', self.gotoTranscryptSite)\n\t\tself.banner.style.fontFamily = 'arial'\n\t\tself.banner.innerHTML = (\n\t\t\t'<span id=\"bannerLarge\"><font color=\"777777\">www.<b><i>' +\n\t\t\t'<font color=\"ff4422\">T<font color=\"ffb000\">r<font color=\"228822\">a<font color=\"3366ff\">n' +\n\t\t\t'<font color=\"ff4422\">s<font color=\"ffb000\">c<font color=\"228822\">r<font color=\"3366ff\">y<font color=\"ffb000\">p<font color=\"228822\">t' +\n\t\t\t'</i></b><font color=\"777777\">.org<font size={}><font color=\"cccccc\"></span>' +\n\t\t\t'<span id=\"bannerSmall\"><i> Write your apps in Python for free!</i></span>'\n\t\t)\n\t\tself.all.appendChild (self.banner)\n\n\t\tself.bannerLarge = document.getElementById ('bannerLarge')\n\t\tself.bannerSmall = document.getElementById ('bannerSmall')\n\t\t\n\t\tself.audio = __new__ (Audio ('ios_app.mp3'))\n\t\t\n\t\twindow.onresize = self.rightSize\n\t\tself.rightSize ()\n\t\t\n\tdef gotoTranscryptSite (self):\n\t\tdocument.location.href = 'http://www.transcrypt.org'\n\t\t\n\tdef roll (self, dice):\n\t\tframeIndex = 10\n\n\t\tself.audio.play ()\n\t\t\n\t\tdef frame ():\n\t\t\tnonlocal frameIndex\n\t\t\tframeIndex -= 1\n\t\t\t\n\t\t\tdice.inner.innerHTML = random.randint (1, 6)\n\n\t\t\tif frameIndex:\n\t\t\t\tdice.style.color = random.choice (('red', 'green', 'blue', 'yellow'))\n\t\t\t\tsetTimeout (frame, 100)\n\t\t\telse:\n\t\t\t\tdice.style.backgroundColor = dice.normalColor\n\t\t\t\tdice.style.color = 'white'\n\t\t\t\t\n\t\tframe ()\n\t\n\tdef rightSize (self):\n\t\tself.pageWidth = window.innerWidth\n\t\tself.pageHeight = window.innerHeight\n\t\tportrait = self.pageHeight > self.pageWidth\n\t\t\n\t\tfor index, dice in enumerate (self.dices):\n\t\t\tif self.pageHeight > self.pageWidth:\t# Portrait\n\t\t\t\tdice.style.height = 0.3 * self.pageHeight\n\t\t\t\tdice.style.width = 0.4 * self.pageWidth\n\t\t\t\tdice.style.top = (0.03 + (index if index < 3 else index - 3) * 0.32) * self.pageHeight\n\t\t\t\tdice.style.left = (0.06 if index < 3 else 0.54) * self.pageWidth\n\t\t\t\t\n\t\t\t\tcharBoxSide = 0.3 * self.pageHeight\n\t\t\t\tdice.inner.style.top = 0.15 * self.pageHeight - 0.6 * charBoxSide\n\t\t\t\tdice.inner.style.left = 0.2 * self.pageWidth - 0.5 * charBoxSide\n\n\t\t\t\tself.banner.style.top = 0.975 * self.pageHeight\n\t\t\t\tself.banner.style.left = 0.06 * self.pageWidth\t\t\t\t\n\t\t\t\tself.bannerLarge.style.fontSize = 0.017 * self.pageHeight\n\t\t\t\tself.bannerSmall.style.fontSize = 0.014 * self.pageHeight\n\t\t\telse:\t\t\t\t\t\t\t\t\t# Landscape\n\t\t\t\tdice.style.height = 0.4 * self.pageHeight\n\t\t\t\tdice.style.width = 0.3 * self.pageWidth\n\t\t\t\tdice.style.top = (0.06 if index < 3 else 0.54) * self.pageHeight\n\t\t\t\tdice.style.left = (0.03 + (index if index < 3 else index - 3) * 0.32) * self.pageWidth\n\t\t\t\t\n\t\t\t\tcharBoxSide = 0.4 * self.pageHeight\n\t\t\t\tdice.inner.style.top = 0.2 * self.pageHeight - 0.6 * charBoxSide\n\t\t\t\tdice.inner.style.left = 0.15 * self.pageWidth - 0.5 * charBoxSide\n\t\t\t\t\n\t\t\t\tself.banner.style.top = 0.95 * self.pageHeight\n\t\t\t\tself.banner.style.left = 0.03 * self.pageWidth\n\t\t\t\tself.bannerLarge.style.fontSize = 0.015 * self.pageWidth\n\t\t\t\tself.bannerSmall.style.fontSize = 0.012 * self.pageWidth\n\t\t\t\t\n\t\t\tdice.inner.style.height = charBoxSide\n\t\t\tdice.inner.style.width = charBoxSide\n\t\t\tdice.inner.style.fontSize = charBoxSide\n\t\t\t\ndice = Dice ()\n"
	],
	"mappings": "AAAA;AA2HA;AA3HA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AAEA;AAEA;AAAA;AAIA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA"
}