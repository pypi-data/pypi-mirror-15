require(["nbextensions/widgets/widgets/js/widget","nbextensions/widgets/widgets/js/manager","jquery"],function(a,b,c){var d='<a class="retry-btn" title="Retry"><i class="fa fa-repeat" /></a>';var e=a.DOMWidgetView.extend({initialize:function(a){var b=this;b.listenTo(b.model,'msg:custom',b._handle_route_msg,b);},render:function(){var a=this;a.setElement(c('<div></div>'));},_handle_route_msg:function(a){var b=this;var e=b.$el.closest('.cell');var f=e.data('cell');var g=c(d);g.click(function(a){var b=f.get_text();f.set_text('%retry\n\n'+b);f.execute();f.set_text(b);a.stopPropagation();});var h=function(){var a=e.find('.input_prompt');if(e.find('.retry-btn').length==0)if(e.hasClass('running'))window.setTimeout(h,100);else a.append(g);};window.setTimeout(h,100);}});b.WidgetManager.register_widget_view('PAIRetryButton',e);if('undefined'!==typeof pyodps&&pyodps.loaded)pyodps.loaded();});