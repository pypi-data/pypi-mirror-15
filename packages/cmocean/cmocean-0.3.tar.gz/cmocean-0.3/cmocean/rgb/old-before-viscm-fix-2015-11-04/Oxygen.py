
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [26.22849758266426, 44.248893078769754, 31.431254812701013, -5.4521532590478614, 1.8722114644199905, -6.2369066222765639],
              'yp': [16.27492877492881, 28.456651718983551, 19.039611360239149, -6.0724962630792163, 55.923019431988024, 29.241405082212253],
              'min_Jp': 15.1269035533,
              'max_Jp': 97.1573604061}

cm_data = [[ 0.25611231,  0.00515456,  0.00222041],
       [ 0.26127155,  0.00561139,  0.00236257],
       [ 0.26642046,  0.00607716,  0.00250683],
       [ 0.27157367,  0.00652424,  0.00264266],
       [ 0.27672293,  0.00696799,  0.00277591],
       [ 0.28187119,  0.00740255,  0.00290434],
       [ 0.28702346,  0.00781722,  0.00302387],
       [ 0.29216948,  0.00823292,  0.00314251],
       [ 0.29732509,  0.00861579,  0.00324738],
       [ 0.30247817,  0.00899113,  0.00334817],
       [ 0.30763009,  0.00935586,  0.00344374],
       [ 0.3127922 ,  0.00968382,  0.00352423],
       [ 0.31795207,  0.01000258,  0.00360019],
       [ 0.32311261,  0.01030532,  0.00366907],
       [ 0.3282846 ,  0.0105655 ,  0.00372097],
       [ 0.3334567 ,  0.01080962,  0.00376598],
       [ 0.33862979,  0.0110353 ,  0.0038033 ],
       [ 0.34381081,  0.01122448,  0.00382626],
       [ 0.34899947,  0.0113767 ,  0.00383484],
       [ 0.3541913 ,  0.01150289,  0.00383323],
       [ 0.35938718,  0.01160013,  0.00382046],
       [ 0.36458806,  0.0116653 ,  0.00379547],
       [ 0.36979484,  0.01169517,  0.00375718],
       [ 0.37501067,  0.01167994,  0.00370212],
       [ 0.38023369,  0.01162382,  0.00363191],
       [ 0.38546278,  0.01152918,  0.00354747],
       [ 0.39069803,  0.0113951 ,  0.00344846],
       [ 0.39594283,  0.01121043,  0.00333077],
       [ 0.40119695,  0.01097468,  0.00319409],
       [ 0.40645733,  0.01069647,  0.00304112],
       [ 0.411721  ,  0.01038478,  0.00287437],
       [ 0.41699815,  0.01000626,  0.00268086],
       [ 0.42227603,  0.00960185,  0.00247307],
       [ 0.42756832,  0.00912625,  0.00223124],
       [ 0.43286092,  0.00862717,  0.00196444],
       [ 0.43816341,  0.00807513,  0.00164191],
       [ 0.44344803,  0.00758403,  0.00120374],
       [ 0.44699091,  0.01342491,  0.00218567],
       [ 0.44993553,  0.02149497,  0.00432243],
       [ 0.45285674,  0.02981569,  0.00666434],
       [ 0.45574363,  0.03843765,  0.00919093],
       [ 0.45860473,  0.04691088,  0.01188748],
       [ 0.46143981,  0.05472186,  0.01475229],
       [ 0.46424611,  0.06204222,  0.01778847],
       [ 0.46702085,  0.06898457,  0.02100043],
       [ 0.46977454,  0.07559612,  0.02437842],
       [ 0.47249543,  0.08196245,  0.0279373 ],
       [ 0.47519645,  0.08809496,  0.03166421],
       [ 0.47786881,  0.09404733,  0.03557119],
       [ 0.4805138 ,  0.09984245,  0.03965875],
       [ 0.48313748,  0.10548967,  0.0437811 ],
       [ 0.48573682,  0.11101317,  0.04782766],
       [ 0.48831137,  0.11642864,  0.0518161 ],
       [ 0.49086198,  0.12174697,  0.05575235],
       [ 0.49338942,  0.12697763,  0.05964142],
       [ 0.49589434,  0.13212885,  0.06348751],
       [ 0.49837732,  0.13720784,  0.06729423],
       [ 0.5008396 ,  0.14221989,  0.07106398],
       [ 0.50328106,  0.14717158,  0.07480002],
       [ 0.50570172,  0.15206852,  0.07850499],
       [ 0.50810208,  0.15691501,  0.08218074],
       [ 0.51048262,  0.1617149 ,  0.08582886],
       [ 0.5128438 ,  0.16647161,  0.0894507 ],
       [ 0.51518609,  0.17118826,  0.09304742],
       [ 0.51750993,  0.17586762,  0.09662001],
       [ 0.51981659,  0.18051122,  0.10016868],
       [ 0.52210586,  0.18512218,  0.10369465],
       [ 0.52437811,  0.1897027 ,  0.10719858],
       [ 0.52663377,  0.19425469,  0.11068096],
       [ 0.52887327,  0.19877988,  0.11414219],
       [ 0.53109705,  0.20327987,  0.11758257],
       [ 0.53330556,  0.2077561 ,  0.12100236],
       [ 0.53549925,  0.21220991,  0.12440171],
       [ 0.53767857,  0.21664252,  0.12778073],
       [ 0.539844  ,  0.22105503,  0.13113949],
       [ 0.541996  ,  0.22544849,  0.13447798],
       [ 0.54413647,  0.22982237,  0.13779539],
       [ 0.54626438,  0.23417914,  0.14109251],
       [ 0.5483802 ,  0.23851962,  0.14436925],
       [ 0.55048441,  0.24284457,  0.14762544],
       [ 0.55257751,  0.24715468,  0.15086093],
       [ 0.55465998,  0.25145059,  0.1540755 ],
       [ 0.55673231,  0.25573291,  0.15726893],
       [ 0.55879625,  0.26000104,  0.16044046],
       [ 0.56085098,  0.26425676,  0.16359041],
       [ 0.56289698,  0.26850059,  0.16671851],
       [ 0.56493473,  0.27273299,  0.16982446],
       [ 0.56696476,  0.27695437,  0.17290794],
       [ 0.56898758,  0.28116514,  0.17596861],
       [ 0.57100462,  0.28536487,  0.17900585],
       [ 0.57301548,  0.28955473,  0.18201962],
       [ 0.57502055,  0.29373515,  0.1850096 ],
       [ 0.57702036,  0.29790645,  0.18797539],
       [ 0.57901543,  0.3020689 ,  0.19091663],
       [ 0.5810065 ,  0.30622261,  0.19383287],
       [ 0.5829944 ,  0.31036759,  0.19672366],
       [ 0.584979  ,  0.31450463,  0.19958876],
       [ 0.58696084,  0.31863394,  0.20242775],
       [ 0.58894043,  0.32275576,  0.20524022],
       [ 0.5909183 ,  0.3268703 ,  0.20802577],
       [ 0.59289548,  0.33097734,  0.21078392],
       [ 0.59487193,  0.33507754,  0.21351434],
       [ 0.59684812,  0.33917112,  0.21621662],
       [ 0.59882455,  0.34325825,  0.21889034],
       [ 0.60080175,  0.34733911,  0.22153509],
       [ 0.60278052,  0.35141362,  0.22415046],
       [ 0.60476112,  0.35548214,  0.22673605],
       [ 0.60674393,  0.35954492,  0.22929147],
       [ 0.60872946,  0.3636021 ,  0.23181631],
       [ 0.61071819,  0.36765383,  0.23431017],
       [ 0.61271084,  0.37170008,  0.23677269],
       [ 0.61470775,  0.37574111,  0.23920348],
       [ 0.61670929,  0.37977712,  0.24160215],
       [ 0.61871596,  0.38380824,  0.24396833],
       [ 0.62072822,  0.38783459,  0.24630166],
       [ 0.62274672,  0.39185617,  0.24860183],
       [ 0.62477183,  0.39587318,  0.25086847],
       [ 0.62680393,  0.39988579,  0.25310123],
       [ 0.62884348,  0.40389411,  0.25529977],
       [ 0.63089093,  0.40789825,  0.25746379],
       [ 0.63294691,  0.4118982 ,  0.25959304],
       [ 0.63501176,  0.41589414,  0.26168719],
       [ 0.63708587,  0.41988622,  0.26374592],
       [ 0.63916967,  0.42387452,  0.26576896],
       [ 0.64126359,  0.42785916,  0.26775604],
       [ 0.64336827,  0.43184008,  0.269707  ],
       [ 0.645484  ,  0.43581749,  0.27162154],
       [ 0.64761115,  0.43979149,  0.27349938],
       [ 0.64975014,  0.44376218,  0.27534029],
       [ 0.65190139,  0.44772964,  0.27714405],
       [ 0.65406556,  0.45169379,  0.27891064],
       [ 0.65624284,  0.45565486,  0.28063968],
       [ 0.65843361,  0.45961294,  0.28233098],
       [ 0.66063828,  0.4635681 ,  0.28398434],
       [ 0.66285728,  0.46752041,  0.28559961],
       [ 0.6650912 ,  0.47146978,  0.28717681],
       [ 0.6673402 ,  0.47541647,  0.28871556],
       [ 0.66960466,  0.47936055,  0.29021569],
       [ 0.67188493,  0.48330208,  0.29167703],
       [ 0.67418153,  0.48724106,  0.29309957],
       [ 0.67649487,  0.49117752,  0.29448324],
       [ 0.67882512,  0.49511166,  0.29582767],
       [ 0.68117264,  0.49904355,  0.29713273],
       [ 0.68353776,  0.50297326,  0.29839825],
       [ 0.68592105,  0.50690071,  0.29962442],
       [ 0.68832269,  0.51082609,  0.30081092],
       [ 0.6907429 ,  0.51474952,  0.30195748],
       [ 0.69318199,  0.51867108,  0.30306397],
       [ 0.6956403 ,  0.52259083,  0.30413029],
       [ 0.69811835,  0.5265087 ,  0.30515673],
       [ 0.70061613,  0.53042495,  0.30614268],
       [ 0.70313392,  0.53433968,  0.30708804],
       [ 0.70567198,  0.53825296,  0.30799265],
       [ 0.7082307 ,  0.54216479,  0.30885669],
       [ 0.71081027,  0.5460753 ,  0.30967996],
       [ 0.71341079,  0.54998465,  0.3104621 ],
       [ 0.71603249,  0.55389295,  0.31120299],
       [ 0.71867557,  0.55780028,  0.31190254],
       [ 0.72134039,  0.56170664,  0.31256101],
       [ 0.72402691,  0.56561228,  0.31317783],
       [ 0.72673533,  0.56951729,  0.3137529 ],
       [ 0.72946578,  0.57342179,  0.31428611],
       [ 0.73221848,  0.57732585,  0.31477751],
       [ 0.73499349,  0.58122962,  0.31522686],
       [ 0.7377909 ,  0.58513325,  0.31563395],
       [ 0.74061081,  0.58903685,  0.31599869],
       [ 0.74345334,  0.59294055,  0.31632102],
       [ 0.74631851,  0.59684451,  0.31660065],
       [ 0.74920638,  0.60074886,  0.31683751],
       [ 0.75211704,  0.60465373,  0.31703154],
       [ 0.75505052,  0.60855923,  0.31718268],
       [ 0.75800677,  0.6124656 ,  0.31729042],
       [ 0.76098579,  0.61637298,  0.31735467],
       [ 0.76398766,  0.62028145,  0.31737556],
       [ 0.76701239,  0.62419117,  0.31735309],
       [ 0.77005991,  0.62810232,  0.31728699],
       [ 0.77312997,  0.63201522,  0.31717602],
       [ 0.77622275,  0.63592986,  0.31702116],
       [ 0.7793382 ,  0.63984641,  0.31682239],
       [ 0.78247626,  0.64376501,  0.31657972],
       [ 0.78563661,  0.64768604,  0.31629165],
       [ 0.78881916,  0.65160965,  0.31595809],
       [ 0.79202398,  0.65553588,  0.31558002],
       [ 0.79525094,  0.65946491,  0.31515747],
       [ 0.7984999 ,  0.66339692,  0.31469045],
       [ 0.80177027,  0.66733249,  0.31417566],
       [ 0.80506215,  0.67127158,  0.31361496],
       [ 0.80837543,  0.6752143 ,  0.31300907],
       [ 0.81170989,  0.67916087,  0.31235801],
       [ 0.81506528,  0.68311152,  0.31166183],
       [ 0.8184409 ,  0.68706688,  0.31091644],
       [ 0.82183665,  0.691027  ,  0.31012359],
       [ 0.82525238,  0.694992  ,  0.30928476],
       [ 0.82868769,  0.69896215,  0.3084    ],
       [ 0.83214219,  0.70293774,  0.30746932],
       [ 0.83561542,  0.70691907,  0.30649276],
       [ 0.83910629,  0.71090707,  0.30546329],
       [ 0.84261476,  0.71490158,  0.30438685],
       [ 0.84614026,  0.71890295,  0.3032638 ],
       [ 0.84968206,  0.72291158,  0.30209423],
       [ 0.85323942,  0.72692793,  0.30087825],
       [ 0.85681145,  0.73095247,  0.299616  ],
       [ 0.86039718,  0.73498576,  0.29830767],
       [ 0.86399552,  0.73902836,  0.29695349],
       [ 0.86760482,  0.74308138,  0.29554767],
       [ 0.87122408,  0.74714509,  0.29409695],
       [ 0.87485168,  0.75122025,  0.29260241],
       [ 0.87848578,  0.75530778,  0.2910653 ],
       [ 0.88212422,  0.75940869,  0.28948727],
       [ 0.88576449,  0.76352413,  0.28787055],
       [ 0.88940365,  0.76765544,  0.28621816],
       [ 0.89303821,  0.77180416,  0.28453419],
       [ 0.89666402,  0.77597209,  0.28282423],
       [ 0.90027573,  0.78016166,  0.28109158],
       [ 0.90386623,  0.7843763 ,  0.27933538],
       [ 0.90742845,  0.78861846,  0.27757916],
       [ 0.9109527 ,  0.79289201,  0.27584246],
       [ 0.91442671,  0.7972017 ,  0.27415323],
       [ 0.9178291 ,  0.8015576 ,  0.27250883],
       [ 0.92113989,  0.80596613,  0.27098905],
       [ 0.9243236 ,  0.81044173,  0.26965074],
       [ 0.92733649,  0.81499981,  0.26862812],
       [ 0.93009891,  0.81967146,  0.26807806],
       [ 0.93252207,  0.82448421,  0.26836876],
       [ 0.93449847,  0.82946775,  0.27003365],
       [ 0.93602662,  0.83459916,  0.27368589],
       [ 0.93729633,  0.83978468,  0.27943277],
       [ 0.9385515 ,  0.84493025,  0.28670802],
       [ 0.93990987,  0.85000396,  0.29486303],
       [ 0.94136313,  0.85502146,  0.30354763],
       [ 0.94296243,  0.85997279,  0.31241801],
       [ 0.94464203,  0.86488832,  0.32145533],
       [ 0.94639914,  0.86977315,  0.33057006],
       [ 0.94822696,  0.87463278,  0.33971199],
       [ 0.9501167 ,  0.87947263,  0.34885647],
       [ 0.95205888,  0.88429774,  0.35799488],
       [ 0.95404408,  0.88911264,  0.36712835],
       [ 0.95606333,  0.89392137,  0.37626367],
       [ 0.95814904,  0.89871481,  0.38530329],
       [ 0.96026669,  0.90350479,  0.39432807],
       [ 0.96240018,  0.90829686,  0.40337426],
       [ 0.96457881,  0.91308279,  0.41235892],
       [ 0.96679533,  0.91786546,  0.42129723],
       [ 0.96901117,  0.92265669,  0.43029007],
       [ 0.97129638,  0.9274366 ,  0.43914686],
       [ 0.97357895,  0.93222645,  0.44806014],
       [ 0.97590325,  0.93701396,  0.45690922],
       [ 0.97824523,  0.94180633,  0.46575845],
       [ 0.98061404,  0.94660135,  0.47458276],
       [ 0.98300797,  0.95139985,  0.48338667],
       [ 0.98542566,  0.95620253,  0.49217397],
       [ 0.98786424,  0.96101047,  0.50095269],
       [ 0.9903343 ,  0.96582118,  0.50969441],
       [ 0.99281057,  0.97064153,  0.51846831],
       [ 0.99533579,  0.97546079,  0.52715862],
       [ 0.99784323,  0.98029619,  0.53594762]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
