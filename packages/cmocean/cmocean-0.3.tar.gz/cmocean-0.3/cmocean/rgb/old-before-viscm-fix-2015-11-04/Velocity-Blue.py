
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-4.238368116336659, 0.6289831887553419, -28.575124641796634, -40.18188544624678, -10.119506350699233, -0.8800268271863132],
              'yp': [-16.85387248609328, -46.80680359435172, -16.479460847240034, -9.36563970902867, -4.5904301346249312, 6.1079145768110834],
              'min_Jp': 15.1681957187,
              'max_Jp': 98.6544342508}

cm_data = [[ 0.0753385 ,  0.1254937 ,  0.21443447],
       [ 0.07798201,  0.12837364,  0.21988498],
       [ 0.08060796,  0.13124596,  0.22532951],
       [ 0.08320436,  0.13410416,  0.23082923],
       [ 0.08578076,  0.13695432,  0.23633617],
       [ 0.08832888,  0.13979232,  0.24189064],
       [ 0.09085506,  0.1426224 ,  0.24746071],
       [ 0.09335291,  0.14544173,  0.2530755 ],
       [ 0.09582755,  0.14825387,  0.25870882],
       [ 0.09827228,  0.15105608,  0.26438945],
       [ 0.10069346,  0.15385257,  0.2700854 ],
       [ 0.10308129,  0.1566393 ,  0.27583723],
       [ 0.10544642,  0.1594226 ,  0.28159437],
       [ 0.10777255,  0.16219566,  0.28742241],
       [ 0.11007452,  0.16496671,  0.2932538 ],
       [ 0.11233684,  0.16772988,  0.29914704],
       [ 0.11456751,  0.17049015,  0.30506349],
       [ 0.11676294,  0.17324734,  0.31101123],
       [ 0.11891423,  0.17599943,  0.3170161 ],
       [ 0.12103081,  0.17875181,  0.32303551],
       [ 0.1230996 ,  0.18150128,  0.32910784],
       [ 0.12512099,  0.18425008,  0.33522117],
       [ 0.12709815,  0.18700124,  0.34135536],
       [ 0.12901925,  0.18975312,  0.34753756],
       [ 0.13088027,  0.19250709,  0.35376674],
       [ 0.1326841 ,  0.19526657,  0.36002107],
       [ 0.13442539,  0.19803271,  0.36630259],
       [ 0.13609108,  0.20080535,  0.37263105],
       [ 0.137677  ,  0.20358701,  0.37899894],
       [ 0.13918133,  0.20638083,  0.38539206],
       [ 0.14059616,  0.209189  ,  0.39180961],
       [ 0.1419128 ,  0.21201407,  0.39824969],
       [ 0.1431218 ,  0.21485894,  0.40470895],
       [ 0.144213  ,  0.21772698,  0.41118232],
       [ 0.14517558,  0.22062197,  0.41766267],
       [ 0.14599828,  0.22354816,  0.42414056],
       [ 0.1466696 ,  0.22651019,  0.43060394],
       [ 0.14717813,  0.22951305,  0.43703803],
       [ 0.14751297,  0.23256194,  0.44342534],
       [ 0.14766422,  0.23566209,  0.44974586],
       [ 0.14761952,  0.23881872,  0.45598151],
       [ 0.14736576,  0.24203697,  0.46211374],
       [ 0.14691158,  0.24532027,  0.46810574],
       [ 0.14625764,  0.24867115,  0.47393401],
       [ 0.14539882,  0.25209172,  0.47958295],
       [ 0.14435844,  0.25558023,  0.48502379],
       [ 0.14314772,  0.25913458,  0.49024407],
       [ 0.14178512,  0.26275066,  0.49523414],
       [ 0.14028986,  0.26642323,  0.49999069],
       [ 0.13868673,  0.27014552,  0.50451436],
       [ 0.13698944,  0.27391181,  0.50881367],
       [ 0.13521575,  0.27771564,  0.5128985 ],
       [ 0.13338851,  0.28154974,  0.51678023],
       [ 0.1315102 ,  0.28541013,  0.52047432],
       [ 0.12959283,  0.28929164,  0.52399445],
       [ 0.1276578 ,  0.29318792,  0.52735411],
       [ 0.12569906,  0.29709728,  0.5305676 ],
       [ 0.1237228 ,  0.30101646,  0.53364733],
       [ 0.12173428,  0.30494262,  0.53660488],
       [ 0.11974923,  0.3088716 ,  0.53945173],
       [ 0.11775936,  0.31280329,  0.54219731],
       [ 0.11576726,  0.31673609,  0.54485044],
       [ 0.1137754 ,  0.32066861,  0.54741917],
       [ 0.1117859 ,  0.32459973,  0.5499108 ],
       [ 0.10980055,  0.32852853,  0.55233191],
       [ 0.10782091,  0.33245425,  0.55468846],
       [ 0.10585231,  0.33637574,  0.55698643],
       [ 0.10389192,  0.34029315,  0.55923007],
       [ 0.10194023,  0.34420622,  0.56142364],
       [ 0.09999843,  0.34811466,  0.56357104],
       [ 0.09806769,  0.35201829,  0.56567581],
       [ 0.09614924,  0.35591696,  0.56774116],
       [ 0.09424436,  0.3598106 ,  0.56976996],
       [ 0.09235439,  0.36369916,  0.57176481],
       [ 0.09048084,  0.36758264,  0.57372808],
       [ 0.0886253 ,  0.37146108,  0.57566189],
       [ 0.08678957,  0.37533452,  0.57756817],
       [ 0.08497561,  0.37920304,  0.57944864],
       [ 0.08318561,  0.38306671,  0.58130488],
       [ 0.08142201,  0.38692564,  0.5831383 ],
       [ 0.07968749,  0.39077994,  0.58495016],
       [ 0.07798507,  0.39462971,  0.58674162],
       [ 0.07631803,  0.39847507,  0.58851371],
       [ 0.07469006,  0.40231613,  0.59026732],
       [ 0.07310517,  0.40615302,  0.59200329],
       [ 0.0715678 ,  0.40998584,  0.59372235],
       [ 0.07008281,  0.41381472,  0.59542511],
       [ 0.06865549,  0.41763974,  0.59711215],
       [ 0.06729159,  0.42146103,  0.59878395],
       [ 0.06599734,  0.42527866,  0.60044092],
       [ 0.06477944,  0.42909273,  0.60208341],
       [ 0.06364506,  0.43290332,  0.6037117 ],
       [ 0.06260183,  0.4367105 ,  0.60532601],
       [ 0.06165781,  0.44051432,  0.60692652],
       [ 0.06082144,  0.44431483,  0.60851335],
       [ 0.06010151,  0.44811208,  0.61008655],
       [ 0.05950698,  0.45190608,  0.61164613],
       [ 0.05904683,  0.45569686,  0.613192  ],
       [ 0.0587307 ,  0.45948439,  0.61472418],
       [ 0.05856786,  0.46326864,  0.61624254],
       [ 0.05856744,  0.46704958,  0.61774694],
       [ 0.05873824,  0.47082713,  0.6192372 ],
       [ 0.0590886 ,  0.47460122,  0.62071309],
       [ 0.0596263 ,  0.47837174,  0.62217437],
       [ 0.06035842,  0.48213857,  0.62362073],
       [ 0.06129111,  0.48590157,  0.62505184],
       [ 0.06242896,  0.48966063,  0.62646711],
       [ 0.06377713,  0.4934155 ,  0.62786633],
       [ 0.06533917,  0.49716595,  0.62924908],
       [ 0.0671177 ,  0.50091173,  0.63061492],
       [ 0.06911446,  0.50465254,  0.6319634 ],
       [ 0.0713304 ,  0.50838806,  0.63329403],
       [ 0.07376568,  0.51211793,  0.63460634],
       [ 0.07641988,  0.51584175,  0.63589982],
       [ 0.079292  ,  0.51955907,  0.63717396],
       [ 0.08238063,  0.52326942,  0.63842828],
       [ 0.08568401,  0.52697226,  0.63966226],
       [ 0.08920015,  0.53066702,  0.64087543],
       [ 0.09292693,  0.53435307,  0.64206731],
       [ 0.09686034,  0.53803002,  0.64323604],
       [ 0.10099916,  0.54169706,  0.64438147],
       [ 0.10534252,  0.54535321,  0.64550415],
       [ 0.10988828,  0.54899764,  0.64660377],
       [ 0.11463434,  0.55262945,  0.6476801 ],
       [ 0.1195786 ,  0.55624768,  0.64873299],
       [ 0.12471822,  0.55985176,  0.64975932],
       [ 0.13005264,  0.56344027,  0.65076135],
       [ 0.13557993,  0.567012  ,  0.65173997],
       [ 0.14129776,  0.57056581,  0.65269554],
       [ 0.14720444,  0.57410076,  0.65362583],
       [ 0.15329772,  0.57761549,  0.65453262],
       [ 0.15957407,  0.5811086 ,  0.65541855],
       [ 0.16603037,  0.58457891,  0.65628399],
       [ 0.17266479,  0.58802531,  0.65712758],
       [ 0.17947038,  0.59144638,  0.65795486],
       [ 0.18644223,  0.59484102,  0.65876709],
       [ 0.19357671,  0.59820819,  0.65956421],
       [ 0.2008636 ,  0.60154685,  0.66035225],
       [ 0.20829645,  0.60485618,  0.66113279],
       [ 0.21586664,  0.60813549,  0.66190897],
       [ 0.22356257,  0.61138434,  0.66268584],
       [ 0.23137529,  0.61460238,  0.66346587],
       [ 0.23929189,  0.61778961,  0.66425413],
       [ 0.24730049,  0.62094622,  0.66505453],
       [ 0.25538815,  0.62407266,  0.66587146],
       [ 0.26354295,  0.62716953,  0.66670843],
       [ 0.27175001,  0.63023786,  0.66757061],
       [ 0.27999827,  0.63327866,  0.66846078],
       [ 0.28827641,  0.63629308,  0.66938188],
       [ 0.29656793,  0.63928301,  0.6703397 ],
       [ 0.30486753,  0.64224946,  0.67133392],
       [ 0.31316325,  0.64519423,  0.67236797],
       [ 0.32144195,  0.64811944,  0.67344587],
       [ 0.32970154,  0.65102615,  0.67456611],
       [ 0.33793399,  0.65391612,  0.67573038],
       [ 0.34612518,  0.65679204,  0.67694347],
       [ 0.35427811,  0.65965453,  0.67820187],
       [ 0.36238818,  0.66250519,  0.679506  ],
       [ 0.37044908,  0.66534589,  0.68085722],
       [ 0.3784536 ,  0.66817876,  0.68225736],
       [ 0.38640575,  0.6710043 ,  0.68370317],
       [ 0.39430355,  0.67382386,  0.68519434],
       [ 0.40214551,  0.67663871,  0.68673042],
       [ 0.40993058,  0.67945006,  0.68831089],
       [ 0.41765217,  0.68226005,  0.68993776],
       [ 0.42531645,  0.68506871,  0.69160741],
       [ 0.43292349,  0.68787702,  0.69331908],
       [ 0.44047355,  0.6906859 ,  0.69507196],
       [ 0.44796711,  0.69349621,  0.69686523],
       [ 0.45540484,  0.69630878,  0.69869805],
       [ 0.46278756,  0.69912434,  0.70056955],
       [ 0.47011621,  0.7019436 ,  0.70247886],
       [ 0.47739183,  0.70476721,  0.70442511],
       [ 0.48461557,  0.70759579,  0.70640744],
       [ 0.49178859,  0.71042989,  0.70842501],
       [ 0.49891213,  0.71327005,  0.71047698],
       [ 0.50598745,  0.71611677,  0.71256251],
       [ 0.51301584,  0.7189705 ,  0.71468082],
       [ 0.51999858,  0.72183169,  0.71683112],
       [ 0.52693696,  0.72470074,  0.71901266],
       [ 0.53383225,  0.72757803,  0.7212247 ],
       [ 0.54068572,  0.73046393,  0.72346653],
       [ 0.54749859,  0.73335878,  0.72573746],
       [ 0.55427209,  0.73626292,  0.72803684],
       [ 0.56100739,  0.73917665,  0.73036403],
       [ 0.56770565,  0.74210028,  0.73271841],
       [ 0.57436798,  0.7450341 ,  0.7350994 ],
       [ 0.58099547,  0.74797837,  0.73750644],
       [ 0.58758915,  0.75093338,  0.73993897],
       [ 0.59414958,  0.7538995 ,  0.74239667],
       [ 0.60067602,  0.75687741,  0.74487974],
       [ 0.60717168,  0.7598668 ,  0.74738675],
       [ 0.61363747,  0.76286791,  0.74991724],
       [ 0.62007424,  0.76588098,  0.75247075],
       [ 0.62648285,  0.76890623,  0.75504684],
       [ 0.63286408,  0.77194389,  0.7576451 ],
       [ 0.63921868,  0.7749942 ,  0.76026511],
       [ 0.6455463 ,  0.77805766,  0.76290694],
       [ 0.65184748,  0.78113456,  0.76557025],
       [ 0.65812434,  0.78422472,  0.76825406],
       [ 0.66437751,  0.78732837,  0.770958  ],
       [ 0.67060757,  0.79044572,  0.77368171],
       [ 0.67681509,  0.79357702,  0.77642483],
       [ 0.68300034,  0.79672254,  0.77918709],
       [ 0.68916253,  0.79988289,  0.78196871],
       [ 0.69530395,  0.80305779,  0.78476855],
       [ 0.70142504,  0.80624747,  0.78758624],
       [ 0.70752622,  0.80945216,  0.79042141],
       [ 0.71360786,  0.81267212,  0.79327369],
       [ 0.71966984,  0.81590773,  0.7961429 ],
       [ 0.72571247,  0.81915924,  0.79902863],
       [ 0.73173689,  0.82242668,  0.80193009],
       [ 0.73774337,  0.8257103 ,  0.80484684],
       [ 0.74373216,  0.82901037,  0.80777838],
       [ 0.74970352,  0.83232716,  0.81072419],
       [ 0.75565728,  0.83566107,  0.81368388],
       [ 0.76159435,  0.83901218,  0.8166565 ],
       [ 0.76751493,  0.84238078,  0.81964137],
       [ 0.77341922,  0.84576716,  0.82263773],
       [ 0.77930739,  0.84917163,  0.82564474],
       [ 0.78517981,  0.85259444,  0.82866138],
       [ 0.79103684,  0.85603587,  0.83168652],
       [ 0.79687868,  0.85949623,  0.83471897],
       [ 0.80270557,  0.86297584,  0.83775742],
       [ 0.80851783,  0.86647501,  0.84080035],
       [ 0.8143161 ,  0.86999396,  0.8438459 ],
       [ 0.82010125,  0.87353284,  0.84689193],
       [ 0.82587342,  0.87709207,  0.84993648],
       [ 0.83163335,  0.88067186,  0.8529771 ],
       [ 0.83738194,  0.88427241,  0.85601104],
       [ 0.84312036,  0.88789384,  0.85903523],
       [ 0.84885108,  0.89153589,  0.86204554],
       [ 0.85457521,  0.8951987 ,  0.86503858],
       [ 0.86029472,  0.89888217,  0.86801038],
       [ 0.8660122 ,  0.90258597,  0.87095648],
       [ 0.87173079,  0.9063096 ,  0.8738722 ],
       [ 0.87745414,  0.91005238,  0.87675262],
       [ 0.88318782,  0.91381297,  0.8795916 ],
       [ 0.88893554,  0.91759055,  0.88238501],
       [ 0.89470231,  0.9213838 ,  0.88512837],
       [ 0.90049367,  0.92519115,  0.88781745],
       [ 0.90631532,  0.92901089,  0.89044871],
       [ 0.91217292,  0.9328412 ,  0.89301941],
       [ 0.91807182,  0.93668027,  0.89552779],
       [ 0.92401833,  0.94052596,  0.89797138],
       [ 0.93001522,  0.94437707,  0.90035167],
       [ 0.93606514,  0.94823245,  0.90267008],
       [ 0.94216981,  0.95209126,  0.9049285 ],
       [ 0.94832971,  0.95595306,  0.90712927],
       [ 0.95454413,  0.95981789,  0.90927496],
       [ 0.96081128,  0.96368621,  0.91136808],
       [ 0.9671284 ,  0.96755888,  0.91341087],
       [ 0.97349198,  0.97143714,  0.91540512],
       [ 0.97989792,  0.97532252,  0.91735211],
       [ 0.98634168,  0.97921682,  0.9192525 ],
       [ 0.99281839,  0.98312203,  0.92110641]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
