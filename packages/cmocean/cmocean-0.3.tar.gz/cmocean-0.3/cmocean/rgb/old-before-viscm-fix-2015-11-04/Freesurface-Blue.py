
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-3.9786145871672147, -1.4353558859875477, -12.244471537234688, -6.089611205136492, -17.725249503008826, 0.0],
              'yp': [-33.198380566801603, -50.02216312056737, -42.054655870445316, -32.956560283687935, -22.484485815602824, 0.0],
              'min_Jp': 15,
              'max_Jp': 95}

cm_data = [[ 0.05646157,  0.04577277,  0.44402434],
       [ 0.05919878,  0.04801052,  0.45113947],
       [ 0.06192187,  0.05019536,  0.4582866 ],
       [ 0.06463143,  0.0523275 ,  0.46546881],
       [ 0.06734688,  0.05435443,  0.47274553],
       [ 0.07004712,  0.05633377,  0.48005886],
       [ 0.0727323 ,  0.05826579,  0.48741098],
       [ 0.07541323,  0.06011902,  0.4948387 ],
       [ 0.07808323,  0.06191139,  0.50232506],
       [ 0.0807367 ,  0.06365855,  0.50985498],
       [ 0.08337349,  0.06536008,  0.51743079],
       [ 0.08600069,  0.06699201,  0.52508097],
       [ 0.08861331,  0.06856715,  0.53279314],
       [ 0.0912067 ,  0.07009784,  0.54055519],
       [ 0.09378017,  0.07158357,  0.54836926],
       [ 0.09633289,  0.07302389,  0.55623738],
       [ 0.09886377,  0.07441842,  0.56416151],
       [ 0.10137408,  0.07575749,  0.572154  ],
       [ 0.10386046,  0.07704704,  0.58020976],
       [ 0.10631907,  0.07829489,  0.58832165],
       [ 0.10874771,  0.07950195,  0.59649037],
       [ 0.11114382,  0.08066963,  0.60471616],
       [ 0.11350439,  0.0818    ,  0.61299872],
       [ 0.11582588,  0.08289593,  0.62133709],
       [ 0.11810418,  0.0839613 ,  0.62972947],
       [ 0.12033748,  0.08498637,  0.63818951],
       [ 0.1225191 ,  0.08598113,  0.64670939],
       [ 0.1246411 ,  0.08695977,  0.65527731],
       [ 0.12669569,  0.0879329 ,  0.6638861 ],
       [ 0.12867562,  0.08890213,  0.67253942],
       [ 0.13057407,  0.08985412,  0.68125861],
       [ 0.13237213,  0.09084623,  0.68998817],
       [ 0.13406113,  0.09184622,  0.69877362],
       [ 0.13561689,  0.09292244,  0.70755101],
       [ 0.13702055,  0.09405509,  0.71635766],
       [ 0.13823969,  0.09530598,  0.72514336],
       [ 0.13923606,  0.09672019,  0.73388116],
       [ 0.13995902,  0.09835935,  0.74253144],
       [ 0.14034134,  0.10031648,  0.75102527],
       [ 0.1402877 ,  0.10269507,  0.75929243],
       [ 0.13967848,  0.10569396,  0.76715054],
       [ 0.13835328,  0.10953943,  0.77437865],
       [ 0.13614417,  0.11452208,  0.78062321],
       [ 0.13294695,  0.12087764,  0.78546418],
       [ 0.12884976,  0.12859229,  0.78858712],
       [ 0.12414293,  0.13730486,  0.79000847],
       [ 0.11917623,  0.14649974,  0.79004522],
       [ 0.11419348,  0.1557715 ,  0.78908392],
       [ 0.10935192,  0.1648737 ,  0.78744725],
       [ 0.10473953,  0.17368691,  0.78536414],
       [ 0.10040338,  0.18216835,  0.78298502],
       [ 0.09638419,  0.1903059 ,  0.78041877],
       [ 0.09270391,  0.19811261,  0.77773278],
       [ 0.08939468,  0.20560043,  0.77498692],
       [ 0.08646698,  0.21279641,  0.77220834],
       [ 0.08393983,  0.21972093,  0.7694251 ],
       [ 0.08182794,  0.22639461,  0.76665705],
       [ 0.08014177,  0.23283725,  0.76391818],
       [ 0.07888735,  0.23906739,  0.76121832],
       [ 0.0780661 ,  0.24510207,  0.75856424],
       [ 0.07767746,  0.2509549 ,  0.75596519],
       [ 0.07771418,  0.25663908,  0.75342713],
       [ 0.0781594 ,  0.26217018,  0.75094548],
       [ 0.0789977 ,  0.26755868,  0.74852421],
       [ 0.08021228,  0.27281176,  0.74617334],
       [ 0.08177453,  0.27794367,  0.74388011],
       [ 0.08366422,  0.28295838,  0.7416581 ],
       [ 0.08585193,  0.28786739,  0.73949631],
       [ 0.08831387,  0.29267497,  0.73740344],
       [ 0.09102254,  0.29739029,  0.73537037],
       [ 0.09395484,  0.30201631,  0.73340682],
       [ 0.09708586,  0.30656204,  0.73149979],
       [ 0.10039493,  0.31102879,  0.72966202],
       [ 0.10386119,  0.31542413,  0.72788196],
       [ 0.10746656,  0.31975177,  0.72616071],
       [ 0.11119415,  0.3240141 ,  0.72450395],
       [ 0.11502932,  0.32821692,  0.72290195],
       [ 0.11895873,  0.33236311,  0.72135585],
       [ 0.12296968,  0.33645436,  0.71987137],
       [ 0.12705243,  0.34049541,  0.71843957],
       [ 0.13119773,  0.34448887,  0.71705989],
       [ 0.13539666,  0.3484365 ,  0.71573533],
       [ 0.13964183,  0.35234073,  0.71446491],
       [ 0.14392755,  0.3562045 ,  0.71324408],
       [ 0.1482482 ,  0.36002985,  0.71207215],
       [ 0.15259884,  0.3638187 ,  0.71094841],
       [ 0.15697393,  0.36757207,  0.70987674],
       [ 0.1613707 ,  0.37129247,  0.70885197],
       [ 0.16578599,  0.37498159,  0.70787279],
       [ 0.17021688,  0.37864094,  0.70693847],
       [ 0.17466084,  0.38227195,  0.70604829],
       [ 0.17911564,  0.38587596,  0.70520155],
       [ 0.18357892,  0.38945408,  0.70439883],
       [ 0.18804887,  0.39300749,  0.70363976],
       [ 0.19252463,  0.39653761,  0.70292173],
       [ 0.19700494,  0.4000455 ,  0.70224407],
       [ 0.20148872,  0.40353222,  0.70160613],
       [ 0.20597501,  0.40699872,  0.70100727],
       [ 0.21046302,  0.41044594,  0.70044684],
       [ 0.21495207,  0.41387475,  0.69992424],
       [ 0.21944157,  0.417286  ,  0.69943886],
       [ 0.22393104,  0.42068049,  0.6989901 ],
       [ 0.22842007,  0.42405897,  0.69857739],
       [ 0.23290832,  0.42742217,  0.69820016],
       [ 0.23739554,  0.43077079,  0.69785788],
       [ 0.24188149,  0.43410547,  0.69754999],
       [ 0.24636603,  0.43742687,  0.69727598],
       [ 0.25084903,  0.44073556,  0.69703534],
       [ 0.25533041,  0.44403215,  0.69682759],
       [ 0.25981012,  0.44731716,  0.69665223],
       [ 0.26428815,  0.45059114,  0.69650881],
       [ 0.26876451,  0.45385458,  0.69639687],
       [ 0.27323923,  0.45710798,  0.69631598],
       [ 0.27771236,  0.4603518 ,  0.6962657 ],
       [ 0.28218397,  0.46358647,  0.69624561],
       [ 0.28665415,  0.46681244,  0.69625532],
       [ 0.29112301,  0.47003011,  0.69629444],
       [ 0.29559064,  0.47323988,  0.69636258],
       [ 0.30005718,  0.47644213,  0.69645937],
       [ 0.30452275,  0.47963723,  0.69658445],
       [ 0.3089875 ,  0.48282552,  0.69673748],
       [ 0.31345156,  0.48600736,  0.69691811],
       [ 0.31791509,  0.48918306,  0.69712602],
       [ 0.32237824,  0.49235295,  0.69736087],
       [ 0.32684026,  0.49551727,  0.69762424],
       [ 0.33130187,  0.49867636,  0.69791464],
       [ 0.3357635 ,  0.50183054,  0.69823122],
       [ 0.34022531,  0.50498008,  0.69857368],
       [ 0.34468747,  0.50812524,  0.69894175],
       [ 0.34915015,  0.51126629,  0.69933515],
       [ 0.35361352,  0.51440349,  0.69975361],
       [ 0.35807775,  0.51753706,  0.70019686],
       [ 0.36254162,  0.52066723,  0.70066734],
       [ 0.36700614,  0.52379426,  0.70116313],
       [ 0.37147193,  0.52691839,  0.70168312],
       [ 0.37593914,  0.53003982,  0.70222707],
       [ 0.38040796,  0.53315878,  0.70279474],
       [ 0.38487854,  0.53627547,  0.70338589],
       [ 0.38934962,  0.5393901 ,  0.70400299],
       [ 0.39382176,  0.54250289,  0.70464503],
       [ 0.39829605,  0.54561402,  0.70531006],
       [ 0.40277265,  0.54872368,  0.70599786],
       [ 0.40725173,  0.55183204,  0.7067082 ],
       [ 0.41173234,  0.55493933,  0.7074429 ],
       [ 0.41621389,  0.55804576,  0.70820308],
       [ 0.42069827,  0.56115145,  0.70898537],
       [ 0.42518565,  0.56425657,  0.70978955],
       [ 0.4296762 ,  0.56736127,  0.71061541],
       [ 0.43416746,  0.57046586,  0.71146737],
       [ 0.43866126,  0.57357042,  0.71234221],
       [ 0.44315856,  0.57667507,  0.71323834],
       [ 0.44765954,  0.57977995,  0.71415554],
       [ 0.45216216,  0.58288537,  0.71509736],
       [ 0.4566669 ,  0.58599147,  0.71606301],
       [ 0.46117564,  0.58909827,  0.71704935],
       [ 0.46568855,  0.5922059 ,  0.71805615],
       [ 0.47020282,  0.59531477,  0.71908821],
       [ 0.47471997,  0.5984249 ,  0.72014301],
       [ 0.47924159,  0.60153631,  0.72121789],
       [ 0.48376774,  0.60464914,  0.7223129 ],
       [ 0.48829388,  0.60776397,  0.72343551],
       [ 0.49282482,  0.61088051,  0.72457785],
       [ 0.49736075,  0.61399886,  0.72573968],
       [ 0.50189862,  0.6171195 ,  0.726926  ],
       [ 0.50643945,  0.62024247,  0.72813516],
       [ 0.51098559,  0.62336766,  0.72936342],
       [ 0.51553529,  0.6264954 ,  0.73061366],
       [ 0.52008657,  0.62962608,  0.73188903],
       [ 0.5246435 ,  0.63275936,  0.73318311],
       [ 0.52920493,  0.63589551,  0.73449778],
       [ 0.53376721,  0.63903513,  0.73583874],
       [ 0.5383355 ,  0.64217772,  0.73719799],
       [ 0.54290849,  0.64532357,  0.73857762],
       [ 0.54748236,  0.64847334,  0.73998353],
       [ 0.5520626 ,  0.65162642,  0.7414073 ],
       [ 0.55664694,  0.65478326,  0.74285247],
       [ 0.56123298,  0.65794435,  0.74432266],
       [ 0.5658258 ,  0.66110908,  0.74581026],
       [ 0.57042121,  0.6642782 ,  0.74732158],
       [ 0.57502007,  0.66745173,  0.74885534],
       [ 0.57962612,  0.67062922,  0.75040606],
       [ 0.58423231,  0.67381191,  0.75198413],
       [ 0.58884466,  0.67699898,  0.75358073],
       [ 0.59346253,  0.68019067,  0.75519687],
       [ 0.59808129,  0.68338786,  0.75683927],
       [ 0.60270786,  0.68658954,  0.75849793],
       [ 0.60733601,  0.68979689,  0.76018188],
       [ 0.61196929,  0.69300944,  0.76188603],
       [ 0.61660886,  0.69622711,  0.76360879],
       [ 0.62124895,  0.69945106,  0.76535834],
       [ 0.62589756,  0.70267997,  0.76712342],
       [ 0.63054686,  0.70591541,  0.76891506],
       [ 0.63520264,  0.70915645,  0.7707252 ],
       [ 0.63986306,  0.71240354,  0.77255642],
       [ 0.64452614,  0.71565719,  0.77441149],
       [ 0.64919757,  0.71891645,  0.77628263],
       [ 0.6538681 ,  0.72218324,  0.77818252],
       [ 0.65854819,  0.72545563,  0.78009693],
       [ 0.66322857,  0.72873558,  0.78203848],
       [ 0.66791653,  0.73202178,  0.78399734],
       [ 0.67260759,  0.73531525,  0.78597958],
       [ 0.6773036 ,  0.73861575,  0.78798275],
       [ 0.68200521,  0.74192326,  0.79000604],
       [ 0.68670948,  0.74523852,  0.79205338],
       [ 0.69142151,  0.7485606 ,  0.79411807],
       [ 0.69613422,  0.75189111,  0.79620945],
       [ 0.70085655,  0.75522828,  0.79831589],
       [ 0.70557791,  0.75857452,  0.80045118],
       [ 0.71031039,  0.76192732,  0.80259972],
       [ 0.71504064,  0.76528974,  0.80477878],
       [ 0.71978247,  0.76865885,  0.80697064],
       [ 0.72452247,  0.77203777,  0.80919252],
       [ 0.72927371,  0.7754237 ,  0.8114278 ],
       [ 0.7340235 ,  0.77881962,  0.81369264],
       [ 0.73878438,  0.78222282,  0.81597123],
       [ 0.7435438 ,  0.78563629,  0.81827943],
       [ 0.74831455,  0.78905721,  0.82060125],
       [ 0.75308344,  0.79248879,  0.8229532 ],
       [ 0.75786429,  0.79592789,  0.82531818],
       [ 0.76264249,  0.79937812,  0.8277143 ],
       [ 0.76743265,  0.8028361 ,  0.83012362],
       [ 0.77222097,  0.80630529,  0.83256312],
       [ 0.77702012,  0.80978276,  0.83501739],
       [ 0.78181889,  0.81327135,  0.83750011],
       [ 0.78662681,  0.81676887,  0.8399998 ],
       [ 0.79143621,  0.82027733,  0.84252578],
       [ 0.79625266,  0.82379549,  0.84507142],
       [ 0.80107285,  0.82732429,  0.84764073],
       [ 0.80589754,  0.83086369,  0.85023288],
       [ 0.81072863,  0.83441332,  0.85284568],
       [ 0.81556124,  0.83797457,  0.85548494],
       [ 0.82040328,  0.84154554,  0.85814146],
       [ 0.82524344,  0.84512927,  0.86082851],
       [ 0.83009433,  0.84872264,  0.86353147],
       [ 0.83494366,  0.85232897,  0.86626469],
       [ 0.83980131,  0.85594583,  0.86901677],
       [ 0.84466122,  0.85957493,  0.8717948 ],
       [ 0.84952502,  0.86321598,  0.87459696],
       [ 0.85439517,  0.86686846,  0.8774205 ],
       [ 0.85926433,  0.87053448,  0.88027387],
       [ 0.86414264,  0.87421145,  0.88314561],
       [ 0.86901769,  0.87790286,  0.88604984],
       [ 0.87389963,  0.88160609,  0.88897516],
       [ 0.87878288,  0.88532282,  0.89192791],
       [ 0.88366687,  0.88905333,  0.89490879],
       [ 0.88855671,  0.89279638,  0.89791219],
       [ 0.89344053,  0.89655538,  0.90095132],
       [ 0.89832949,  0.90032739,  0.90401389],
       [ 0.90321472,  0.90411504,  0.90710972],
       [ 0.90809763,  0.90791808,  0.9102373 ],
       [ 0.91297978,  0.91173624,  0.91339498],
       [ 0.91784921,  0.91557305,  0.91659578],
       [ 0.92271269,  0.91942678,  0.91983234],
       [ 0.92755715,  0.92330131,  0.92311877],
       [ 0.93237147,  0.92720002,  0.9264669 ],
       [ 9.68462096e-01,   9.14181857e-01,   9.67907091e-01]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
