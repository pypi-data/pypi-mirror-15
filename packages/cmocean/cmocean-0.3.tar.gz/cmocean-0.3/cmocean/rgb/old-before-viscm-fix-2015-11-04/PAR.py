
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [15.39976588804717, 26.395136258417523, 31.02476588804717, 22.344210332491599, 7.876617739899018, -13.246067445286172],
              'yp': [4.4560185185185333, 10.821759259259267, 20.949074074074076, 32.523148148148152, 36.863425925925924, 38.31018518518519],
              'min_JK': 15.0,
              'max_JK': 95.0}

cm_data = [[ 0.19630296,  0.07849988,  0.08984478],
       [ 0.20091597,  0.08041999,  0.09164461],
       [ 0.20553142,  0.08232313,  0.09341062],
       [ 0.21014948,  0.08420975,  0.09514271],
       [ 0.21477031,  0.08608029,  0.09684075],
       [ 0.21939406,  0.08793521,  0.0985046 ],
       [ 0.22402084,  0.08977494,  0.10013408],
       [ 0.22865075,  0.09159992,  0.10172902],
       [ 0.23328387,  0.09341059,  0.10328923],
       [ 0.23792027,  0.09520739,  0.10481448],
       [ 0.24255999,  0.09699076,  0.10630454],
       [ 0.24720305,  0.09876115,  0.10775917],
       [ 0.25184946,  0.10051901,  0.10917811],
       [ 0.2564992 ,  0.10226478,  0.11056109],
       [ 0.26115225,  0.10399895,  0.11190783],
       [ 0.26580854,  0.10572196,  0.11321803],
       [ 0.27046802,  0.10743432,  0.11449138],
       [ 0.27513059,  0.1091365 ,  0.11572759],
       [ 0.27979625,  0.11082892,  0.1169262 ],
       [ 0.2844653 ,  0.11251171,  0.11808633],
       [ 0.2891371 ,  0.11418583,  0.11920824],
       [ 0.29381147,  0.11585183,  0.12029161],
       [ 0.29848823,  0.11751027,  0.12133607],
       [ 0.30316716,  0.11916172,  0.12234127],
       [ 0.30784804,  0.12080678,  0.12330688],
       [ 0.3125306 ,  0.12244607,  0.12423253],
       [ 0.31721518,  0.12407966,  0.12511703],
       [ 0.32190121,  0.12570846,  0.12596038],
       [ 0.32658806,  0.12733342,  0.12676263],
       [ 0.33127539,  0.12895523,  0.12752345],
       [ 0.33596284,  0.1305746 ,  0.12824251],
       [ 0.34065013,  0.13219218,  0.12891929],
       [ 0.34533769,  0.13380797,  0.12955212],
       [ 0.35002414,  0.13542362,  0.13014215],
       [ 0.35470901,  0.13703995,  0.13068907],
       [ 0.35939181,  0.1386578 ,  0.13119262],
       [ 0.36407266,  0.14027748,  0.13165146],
       [ 0.36875094,  0.14189996,  0.13206541],
       [ 0.37342554,  0.14352664,  0.13243518],
       [ 0.37809589,  0.14515848,  0.13276058],
       [ 0.38276203,  0.14679583,  0.13304017],
       [ 0.38742318,  0.14843985,  0.13327402],
       [ 0.39207816,  0.15009202,  0.13346302],
       [ 0.39672629,  0.15175338,  0.13360708],
       [ 0.40136802,  0.15342395,  0.13370374],
       [ 0.40600145,  0.15510588,  0.13375536],
       [ 0.41062586,  0.15680026,  0.133762  ],
       [ 0.41524126,  0.15850749,  0.13372188],
       [ 0.41984634,  0.16022918,  0.13363631],
       [ 0.42444004,  0.16196672,  0.13350608],
       [ 0.42902222,  0.16372065,  0.13332971],
       [ 0.43359163,  0.16549248,  0.13310843],
       [ 0.43814718,  0.16728362,  0.13284328],
       [ 0.44268871,  0.16909459,  0.13253272],
       [ 0.4472148 ,  0.17092706,  0.13217872],
       [ 0.45172454,  0.17278218,  0.13178191],
       [ 0.45621763,  0.1746606 ,  0.13134116],
       [ 0.46069259,  0.17656396,  0.13085896],
       [ 0.46514885,  0.17849308,  0.1303351 ],
       [ 0.4695856 ,  0.18044899,  0.12977016],
       [ 0.47400176,  0.1824329 ,  0.12916582],
       [ 0.47839686,  0.18444549,  0.12852167],
       [ 0.48276981,  0.18648793,  0.12783963],
       [ 0.48711994,  0.18856102,  0.12712033],
       [ 0.49144655,  0.19066552,  0.12636455],
       [ 0.49574882,  0.1928023 ,  0.12557378],
       [ 0.50002617,  0.19497198,  0.12474863],
       [ 0.50427788,  0.19717524,  0.12389051],
       [ 0.50850336,  0.19941263,  0.12300048],
       [ 0.51270204,  0.20168467,  0.12207972],
       [ 0.51687343,  0.20399177,  0.12112918],
       [ 0.52101695,  0.20633434,  0.12015059],
       [ 0.52513226,  0.20871261,  0.11914451],
       [ 0.52921893,  0.21112684,  0.11811246],
       [ 0.53327657,  0.21357718,  0.11705579],
       [ 0.537305  ,  0.21606367,  0.11597481],
       [ 0.54130377,  0.21858642,  0.11487225],
       [ 0.54527284,  0.22114529,  0.11374776],
       [ 0.54921198,  0.22374023,  0.11260285],
       [ 0.553121  ,  0.22637107,  0.11143951],
       [ 0.55699993,  0.22903758,  0.11025712],
       [ 0.56084862,  0.23173952,  0.10905837],
       [ 0.56466709,  0.23447655,  0.10784357],
       [ 0.56845542,  0.23724836,  0.10661253],
       [ 0.57221355,  0.24005449,  0.10536886],
       [ 0.57594166,  0.24289458,  0.10411129],
       [ 0.57963984,  0.24576821,  0.10284006],
       [ 0.5833082 ,  0.24867474,  0.10155922],
       [ 0.58694693,  0.25161381,  0.10026669],
       [ 0.5905562 ,  0.25458495,  0.09896282],
       [ 0.59413623,  0.2575874 ,  0.09765132],
       [ 0.59768724,  0.26062076,  0.09633076],
       [ 0.60120942,  0.26368456,  0.09500092],
       [ 0.60470306,  0.26677809,  0.09366403],
       [ 0.60816848,  0.26990069,  0.09232151],
       [ 0.61160583,  0.27305203,  0.09097157],
       [ 0.61501536,  0.27623156,  0.08961475],
       [ 0.61839755,  0.27943839,  0.08825436],
       [ 0.62175259,  0.28267211,  0.0868895 ],
       [ 0.6250807 ,  0.28593233,  0.0855194 ],
       [ 0.62838213,  0.28921849,  0.08414458],
       [ 0.63165736,  0.29252982,  0.08276741],
       [ 0.63490673,  0.29586574,  0.08138862],
       [ 0.63813035,  0.29922599,  0.08000666],
       [ 0.64132848,  0.30261009,  0.07862205],
       [ 0.64450143,  0.30601752,  0.07723531],
       [ 0.64764971,  0.30944753,  0.07584875],
       [ 0.65077362,  0.31289963,  0.07446295],
       [ 0.65387324,  0.31637363,  0.07307665],
       [ 0.65694885,  0.31986909,  0.07169044],
       [ 0.66000072,  0.32338556,  0.07030491],
       [ 0.66302913,  0.32692262,  0.06892071],
       [ 0.6660344 ,  0.3304798 ,  0.06753884],
       [ 0.66901717,  0.33405631,  0.0661623 ],
       [ 0.6719773 ,  0.33765222,  0.06478915],
       [ 0.67491504,  0.34126715,  0.06342016],
       [ 0.67783065,  0.34490074,  0.06205618],
       [ 0.68072438,  0.34855264,  0.06069809],
       [ 0.68359648,  0.35222253,  0.05934684],
       [ 0.68644718,  0.35591007,  0.05800342],
       [ 0.68927672,  0.35961495,  0.05666893],
       [ 0.69208533,  0.36333687,  0.05534451],
       [ 0.69487324,  0.36707555,  0.05403138],
       [ 0.69764082,  0.37083056,  0.05273164],
       [ 0.70038825,  0.37460166,  0.05144658],
       [ 0.70311561,  0.37838874,  0.05017688],
       [ 0.70582309,  0.38219155,  0.04892413],
       [ 0.7085109 ,  0.38600986,  0.04769001],
       [ 0.71117923,  0.38984344,  0.04647633],
       [ 0.71382826,  0.39369208,  0.04528497],
       [ 0.71645817,  0.39755557,  0.04411798],
       [ 0.71906915,  0.40143373,  0.04297748],
       [ 0.72166137,  0.40532635,  0.04186573],
       [ 0.72423499,  0.40923326,  0.04078511],
       [ 0.72679018,  0.41315429,  0.03972976],
       [ 0.7293271 ,  0.41708928,  0.03872002],
       [ 0.7318459 ,  0.42103807,  0.03776345],
       [ 0.73434674,  0.42500052,  0.03686101],
       [ 0.73682974,  0.42897647,  0.03601372],
       [ 0.73929507,  0.43296581,  0.03522257],
       [ 0.74174284,  0.4369684 ,  0.0344886 ],
       [ 0.7441732 ,  0.44098413,  0.03381287],
       [ 0.74658663,  0.44501258,  0.03319796],
       [ 0.74898302,  0.44905385,  0.03264392],
       [ 0.75136242,  0.4531079 ,  0.03215155],
       [ 0.75372495,  0.45717462,  0.03172198],
       [ 0.75607072,  0.46125393,  0.03135637],
       [ 0.75839984,  0.46534574,  0.03105587],
       [ 0.76071241,  0.46944997,  0.03082168],
       [ 0.76300853,  0.47356655,  0.030655  ],
       [ 0.7652883 ,  0.47769541,  0.03055705],
       [ 0.76755181,  0.48183648,  0.03052908],
       [ 0.76979916,  0.48598971,  0.03057233],
       [ 0.77203042,  0.49015504,  0.03068811],
       [ 0.77424655,  0.49433179,  0.03088061],
       [ 0.77644704,  0.49852034,  0.03114909],
       [ 0.77863177,  0.50272081,  0.03149413],
       [ 0.78080079,  0.50693316,  0.03191709],
       [ 0.78295418,  0.51115735,  0.03241932],
       [ 0.78509201,  0.51539336,  0.03300218],
       [ 0.78721434,  0.51964115,  0.03366707],
       [ 0.78932126,  0.52390069,  0.03441549],
       [ 0.79141434,  0.52817091,  0.03525334],
       [ 0.79349216,  0.53245282,  0.03617757],
       [ 0.79555478,  0.5367464 ,  0.03718961],
       [ 0.79760225,  0.54105164,  0.03829092],
       [ 0.79963462,  0.54536853,  0.03948296],
       [ 0.80165191,  0.54969707,  0.04076114],
       [ 0.80365552,  0.55403639,  0.04210024],
       [ 0.80564483,  0.55838691,  0.04350526],
       [ 0.80761926,  0.56274904,  0.04497202],
       [ 0.80957886,  0.5671228 ,  0.04649797],
       [ 0.81152363,  0.57150819,  0.04808062],
       [ 0.81345392,  0.57590502,  0.04971822],
       [ 0.81537149,  0.58031223,  0.05141202],
       [ 0.81727439,  0.58473108,  0.05315517],
       [ 0.81916264,  0.58916159,  0.05494543],
       [ 0.82103625,  0.59360379,  0.05678059],
       [ 0.82289553,  0.5980575 ,  0.05865917],
       [ 0.8247426 ,  0.6025215 ,  0.06058283],
       [ 0.82657513,  0.60699723,  0.06254522],
       [ 0.82839313,  0.61148472,  0.0645445 ],
       [ 0.83019659,  0.61598401,  0.06657894],
       [ 0.83198696,  0.62049429,  0.06864915],
       [ 0.83376441,  0.62501549,  0.07075361],
       [ 0.8355274 ,  0.62954857,  0.07288835],
       [ 0.83727589,  0.63409359,  0.07505196],
       [ 0.83901033,  0.63865031,  0.07724374],
       [ 0.84073317,  0.6432174 ,  0.07946562],
       [ 0.84244155,  0.64779652,  0.08171243],
       [ 0.84413544,  0.65238773,  0.08398307],
       [ 0.84581489,  0.65699105,  0.08627658],
       [ 0.84748339,  0.66160457,  0.08859599],
       [ 0.84913739,  0.66623032,  0.09093607],
       [ 0.85077685,  0.67086836,  0.09329594],
       [ 0.85240211,  0.67551854,  0.09567517],
       [ 0.85401634,  0.68017919,  0.09807617],
       [ 0.85561598,  0.68485231,  0.10049443],
       [ 0.85720096,  0.68953795,  0.10292924],
       [ 0.85877268,  0.69423541,  0.10538127],
       [ 0.8603325 ,  0.69894404,  0.10785104],
       [ 0.86187757,  0.70366538,  0.11033532],
       [ 0.86340781,  0.70839952,  0.11283354],
       [ 0.86492646,  0.71314483,  0.11534787],
       [ 0.86643149,  0.71790241,  0.11787602],
       [ 0.86792156,  0.722673  ,  0.12041645],
       [ 0.86939762,  0.72745614,  0.12296948],
       [ 0.8708624 ,  0.73225053,  0.12553667],
       [ 0.87231202,  0.73705816,  0.12811469],
       [ 0.87374638,  0.74187913,  0.13070314],
       [ 0.87516966,  0.74671142,  0.13330452],
       [ 0.87657847,  0.75155675,  0.1359161 ],
       [ 0.87797179,  0.75641568,  0.1385369 ],
       [ 0.87935233,  0.76128693,  0.14116836],
       [ 0.88071985,  0.76617068,  0.14380995],
       [ 0.88207159,  0.7710683 ,  0.1464597 ],
       [ 0.88340914,  0.77597908,  0.14911829],
       [ 0.88473476,  0.78090201,  0.15178675],
       [ 0.88604427,  0.7858391 ,  0.1544624 ],
       [ 0.88733846,  0.79079004,  0.15714548],
       [ 0.88862143,  0.79575297,  0.15983798],
       [ 0.88988792,  0.80073038,  0.1625368 ],
       [ 0.89113827,  0.80572216,  0.16524197],
       [ 0.89237771,  0.81072597,  0.16795595],
       [ 0.89360025,  0.81574459,  0.17067547],
       [ 0.89480615,  0.82077795,  0.17340054],
       [ 0.89600104,  0.82582357,  0.17613368],
       [ 0.89717855,  0.83088436,  0.17887164],
       [ 0.89833926,  0.83596008,  0.18161459],
       [ 0.89948842,  0.8410485 ,  0.18436475],
       [ 0.90061965,  0.84615245,  0.18711907],
       [ 0.9017343 ,  0.85127139,  0.18987803],
       [ 0.90283638,  0.85640365,  0.19264325],
       [ 0.90391992,  0.86155182,  0.19541199],
       [ 0.90498749,  0.86671488,  0.19818524],
       [ 0.90604096,  0.87189206,  0.20096366],
       [ 0.90707523,  0.87708557,  0.20374502],
       [ 0.90809453,  0.88229369,  0.20653094],
       [ 0.90909768,  0.88751694,  0.20932084],
       [ 0.9100809 ,  0.89275696,  0.21211312],
       [ 0.91105059,  0.89801114,  0.2149102 ],
       [ 0.91200152,  0.90328167,  0.21770995],
       [ 0.9129324 ,  0.90856913,  0.22051181],
       [ 0.91385026,  0.9138707 ,  0.22331836],
       [ 0.91474686,  0.91918977,  0.22612642],
       [ 0.9156254 ,  0.92452507,  0.22893712],
       [ 0.91648753,  0.929876  ,  0.23175101],
       [ 0.91732745,  0.9352449 ,  0.23456589],
       [ 0.91815183,  0.94062919,  0.23738415],
       [ 0.91895574,  0.94603083,  0.24020393],
       [ 0.91973771,  0.95145042,  0.2430247 ],
       [ 0.92050458,  0.95688538,  0.24584881],
       [ 0.92124753,  0.96233911,  0.24867313],
       [ 0.92197173,  0.96780969,  0.25149944],
       [ 0.92267582,  0.97329767,  0.25432722],
       [ 0.92335482,  0.97880495,  0.25715475]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
