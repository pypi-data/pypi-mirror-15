
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [8.5631985398662493, 0.6289831887553419, -29.44388579058773, -35.777581049364414, -25.960353398260537, -4.2886986449562698],
              'yp': [-11.490208078335371, -46.80680359435172, -18.40843286283024, -4.79098805646035, 17.06026058631923, 18.140554875561008],
              'min_Jp': 15.1681957187,
              'max_Jp': 98.6544342508}

cm_data = [[ 0.14975045,  0.10125214,  0.18404007],
       [ 0.15241967,  0.10421488,  0.18943018],
       [ 0.15506752,  0.10717101,  0.19481906],
       [ 0.15768188,  0.11011892,  0.20025797],
       [ 0.16027326,  0.1130617 ,  0.20569942],
       [ 0.16283074,  0.11599808,  0.21118747],
       [ 0.16536271,  0.11893066,  0.21668437],
       [ 0.16786097,  0.12185881,  0.22222109],
       [ 0.17033019,  0.12478436,  0.22777561],
       [ 0.1727666 ,  0.1277076 ,  0.23335969],
       [ 0.17516924,  0.13062934,  0.23897328],
       [ 0.17754085,  0.13355098,  0.24460254],
       [ 0.17987264,  0.13647225,  0.25027578],
       [ 0.1821733 ,  0.13939533,  0.25595747],
       [ 0.18443246,  0.14231993,  0.26167976],
       [ 0.18665486,  0.14524767,  0.26742139],
       [ 0.18883996,  0.14817947,  0.27317994],
       [ 0.1909786 ,  0.15111558,  0.27897963],
       [ 0.19307905,  0.15405779,  0.28478902],
       [ 0.19513457,  0.15700665,  0.2906236 ],
       [ 0.19714182,  0.15996314,  0.29648715],
       [ 0.1991057 ,  0.16292858,  0.30235981],
       [ 0.20101934,  0.16590385,  0.30825487],
       [ 0.20287933,  0.16889007,  0.31417454],
       [ 0.20469002,  0.17188847,  0.32010107],
       [ 0.2064483 ,  0.17490012,  0.32603617],
       [ 0.20814324,  0.17792643,  0.33199864],
       [ 0.20978222,  0.18096849,  0.3379636 ],
       [ 0.21136282,  0.18402748,  0.3439298 ],
       [ 0.21288115,  0.18710475,  0.34989842],
       [ 0.21432838,  0.19020209,  0.35587935],
       [ 0.21570985,  0.19332039,  0.36185364],
       [ 0.21702289,  0.19646098,  0.36781877],
       [ 0.21826481,  0.19962523,  0.37377182],
       [ 0.21943289,  0.20281452,  0.37970951],
       [ 0.22051852,  0.20603099,  0.38563726],
       [ 0.22152534,  0.20927534,  0.39154045],
       [ 0.22245111,  0.21254886,  0.39741425],
       [ 0.22329338,  0.21585285,  0.40325396],
       [ 0.22404985,  0.21918855,  0.4090545 ],
       [ 0.2247184 ,  0.22255712,  0.4148105 ],
       [ 0.22529713,  0.22595963,  0.42051633],
       [ 0.22578438,  0.22939703,  0.42616609],
       [ 0.22617879,  0.23287013,  0.43175377],
       [ 0.22647933,  0.23637957,  0.43727322],
       [ 0.22668532,  0.23992583,  0.44271831],
       [ 0.22679647,  0.24350918,  0.44808296],
       [ 0.22681292,  0.24712968,  0.45336123],
       [ 0.2267352 ,  0.25078717,  0.45854743],
       [ 0.2265643 ,  0.25448127,  0.4636362 ],
       [ 0.22630161,  0.25821139,  0.46862257],
       [ 0.22594896,  0.26197668,  0.47350203],
       [ 0.22550858,  0.26577611,  0.47827062],
       [ 0.22498308,  0.26960845,  0.48292496],
       [ 0.22437541,  0.27347227,  0.48746226],
       [ 0.22368885,  0.27736601,  0.49188039],
       [ 0.22292695,  0.28128796,  0.49617785],
       [ 0.2220935 ,  0.2852363 ,  0.50035379],
       [ 0.22119211,  0.28920923,  0.50440804],
       [ 0.22022709,  0.29320473,  0.50834089],
       [ 0.21920324,  0.29722069,  0.51215314],
       [ 0.21812487,  0.30125511,  0.51584624],
       [ 0.21699628,  0.30530603,  0.5194221 ],
       [ 0.21582177,  0.30937151,  0.52288302],
       [ 0.2146056 ,  0.31344969,  0.52623164],
       [ 0.21335195,  0.31753877,  0.52947092],
       [ 0.21206494,  0.32163703,  0.532604  ],
       [ 0.21074902,  0.32574273,  0.53563428],
       [ 0.20940813,  0.32985434,  0.53856526],
       [ 0.2080457 ,  0.33397051,  0.54140053],
       [ 0.20666533,  0.33808994,  0.54414374],
       [ 0.20527049,  0.34221143,  0.54679853],
       [ 0.20386454,  0.34633386,  0.54936855],
       [ 0.20245068,  0.35045623,  0.5518574 ],
       [ 0.201032  ,  0.35457765,  0.55426863],
       [ 0.19961147,  0.3586973 ,  0.55660569],
       [ 0.19819195,  0.36281445,  0.55887197],
       [ 0.19677619,  0.36692846,  0.56107072],
       [ 0.1953677 ,  0.37103858,  0.56320532],
       [ 0.19396818,  0.37514451,  0.56527862],
       [ 0.19258002,  0.37924586,  0.56729351],
       [ 0.19120561,  0.38334227,  0.56925276],
       [ 0.18984726,  0.38743343,  0.57115904],
       [ 0.18850723,  0.39151911,  0.57301486],
       [ 0.18718772,  0.39559909,  0.57482262],
       [ 0.18589088,  0.39967324,  0.57658461],
       [ 0.18461884,  0.40374141,  0.57830296],
       [ 0.18337369,  0.40780355,  0.57997972],
       [ 0.18215747,  0.41185959,  0.58161679],
       [ 0.18097225,  0.4159095 ,  0.58321599],
       [ 0.17982005,  0.4199533 ,  0.58477901],
       [ 0.17870289,  0.423991  ,  0.58630744],
       [ 0.17762279,  0.42802265,  0.58780277],
       [ 0.17658176,  0.4320483 ,  0.5892664 ],
       [ 0.17558184,  0.43606802,  0.59069962],
       [ 0.17462505,  0.4400819 ,  0.59210366],
       [ 0.17371344,  0.44409003,  0.59347964],
       [ 0.17284906,  0.44809251,  0.59482861],
       [ 0.17203401,  0.45208944,  0.59615155],
       [ 0.17127044,  0.45608094,  0.59744938],
       [ 0.17056035,  0.46006712,  0.5987229 ],
       [ 0.16990588,  0.46404811,  0.59997287],
       [ 0.16930919,  0.46802403,  0.60119998],
       [ 0.16877245,  0.47199499,  0.60240489],
       [ 0.16829785,  0.47596112,  0.60358817],
       [ 0.16788761,  0.47992251,  0.60475036],
       [ 0.16754395,  0.48387929,  0.60589196],
       [ 0.16726912,  0.48783155,  0.60701338],
       [ 0.16706537,  0.49177941,  0.60811502],
       [ 0.16693495,  0.49572295,  0.60919724],
       [ 0.16688012,  0.49966227,  0.61026034],
       [ 0.16690315,  0.50359746,  0.6113046 ],
       [ 0.16700627,  0.50752858,  0.61233025],
       [ 0.16719173,  0.51145572,  0.6133375 ],
       [ 0.16746175,  0.51537892,  0.61432652],
       [ 0.16781851,  0.51929825,  0.61529746],
       [ 0.16826417,  0.52321374,  0.61625045],
       [ 0.16880086,  0.52712545,  0.61718558],
       [ 0.16943066,  0.53103338,  0.61810293],
       [ 0.17015559,  0.53493756,  0.61900256],
       [ 0.17097761,  0.53883799,  0.61988451],
       [ 0.17189862,  0.54273467,  0.62074881],
       [ 0.17292046,  0.54662759,  0.62159546],
       [ 0.17404487,  0.55051673,  0.62242446],
       [ 0.17527351,  0.55440204,  0.62323582],
       [ 0.17660796,  0.55828349,  0.6240295 ],
       [ 0.1780497 ,  0.56216101,  0.6248055 ],
       [ 0.17960011,  0.56603455,  0.62556377],
       [ 0.18126039,  0.56990403,  0.62630424],
       [ 0.18303153,  0.57376941,  0.62702667],
       [ 0.18491484,  0.57763054,  0.62773128],
       [ 0.18691127,  0.5814873 ,  0.62841803],
       [ 0.18902164,  0.58533959,  0.62908691],
       [ 0.19124668,  0.58918726,  0.62973791],
       [ 0.19358699,  0.59303018,  0.63037103],
       [ 0.19604305,  0.59686819,  0.63098628],
       [ 0.19861523,  0.60070113,  0.63158368],
       [ 0.20130379,  0.60452883,  0.63216327],
       [ 0.20410887,  0.60835111,  0.63272511],
       [ 0.2070305 ,  0.61216778,  0.63326926],
       [ 0.2100686 ,  0.61597864,  0.63379584],
       [ 0.21322297,  0.61978349,  0.63430494],
       [ 0.21649322,  0.62358216,  0.63479633],
       [ 0.21987902,  0.62737442,  0.63527027],
       [ 0.22337999,  0.63116   ,  0.63572721],
       [ 0.22699554,  0.63493866,  0.63616737],
       [ 0.230725  ,  0.63871017,  0.63659099],
       [ 0.2345676 ,  0.64247429,  0.63699837],
       [ 0.23852248,  0.64623076,  0.6373898 ],
       [ 0.24258872,  0.64997933,  0.63776564],
       [ 0.24676529,  0.65371976,  0.63812626],
       [ 0.25105112,  0.6574518 ,  0.63847188],
       [ 0.25544511,  0.66117522,  0.63880258],
       [ 0.259946  ,  0.66488972,  0.63911943],
       [ 0.26455248,  0.66859505,  0.63942296],
       [ 0.26926316,  0.67229095,  0.63971373],
       [ 0.27407662,  0.67597717,  0.63999235],
       [ 0.27899135,  0.67965347,  0.64025945],
       [ 0.28400579,  0.68331961,  0.64051572],
       [ 0.28911854,  0.68697537,  0.64076139],
       [ 0.29432783,  0.69062052,  0.64099751],
       [ 0.29963187,  0.69425481,  0.64122512],
       [ 0.3050289 ,  0.69787806,  0.64144503],
       [ 0.3105171 ,  0.70149004,  0.64165813],
       [ 0.31609463,  0.70509059,  0.64186529],
       [ 0.32175961,  0.70867952,  0.64206747],
       [ 0.32751039,  0.71225666,  0.64226514],
       [ 0.33334473,  0.71582187,  0.64245984],
       [ 0.33926064,  0.71937501,  0.64265259],
       [ 0.3452561 ,  0.72291596,  0.64284445],
       [ 0.3513291 ,  0.72644461,  0.64303648],
       [ 0.35747758,  0.72996087,  0.64322977],
       [ 0.36369958,  0.73346468,  0.64342531],
       [ 0.36999292,  0.73695597,  0.64362438],
       [ 0.37635549,  0.74043471,  0.64382817],
       [ 0.3827852 ,  0.74390088,  0.64403784],
       [ 0.38927999,  0.74735448,  0.64425453],
       [ 0.3958378 ,  0.75079552,  0.64447941],
       [ 0.40245647,  0.75422404,  0.64471376],
       [ 0.4091339 ,  0.75764009,  0.6449588 ],
       [ 0.41586813,  0.76104374,  0.64521562],
       [ 0.42265717,  0.76443507,  0.64548538],
       [ 0.42949904,  0.76781417,  0.64576923],
       [ 0.43639181,  0.77118116,  0.64606831],
       [ 0.44333343,  0.77453619,  0.6463839 ],
       [ 0.45032168,  0.77787943,  0.64671741],
       [ 0.4573551 ,  0.781211  ,  0.64706959],
       [ 0.46443191,  0.78453108,  0.64744152],
       [ 0.47155037,  0.78783985,  0.64783425],
       [ 0.47870877,  0.79113749,  0.64824883],
       [ 0.48590548,  0.79442421,  0.64868629],
       [ 0.4931384 ,  0.7977003 ,  0.64914804],
       [ 0.50040596,  0.80096599,  0.64963509],
       [ 0.50770709,  0.80422145,  0.65014799],
       [ 0.51504036,  0.80746692,  0.65068768],
       [ 0.52240441,  0.81070263,  0.65125506],
       [ 0.52979791,  0.81392885,  0.65185101],
       [ 0.53721959,  0.81714582,  0.65247637],
       [ 0.54466825,  0.82035379,  0.65313199],
       [ 0.55214187,  0.82355319,  0.65381932],
       [ 0.55963986,  0.8267442 ,  0.65453874],
       [ 0.56716149,  0.82992702,  0.65529076],
       [ 0.5747058 ,  0.83310192,  0.65607612],
       [ 0.58227186,  0.83626916,  0.65689552],
       [ 0.58985879,  0.839429  ,  0.65774964],
       [ 0.59746578,  0.84258172,  0.65863917],
       [ 0.60509207,  0.84572756,  0.65956475],
       [ 0.61273694,  0.84886679,  0.660527  ],
       [ 0.62039973,  0.85199967,  0.66152655],
       [ 0.62807969,  0.85512647,  0.66256406],
       [ 0.63577547,  0.85824761,  0.66364064],
       [ 0.64348746,  0.86136316,  0.66475624],
       [ 0.65121518,  0.86447333,  0.6659114 ],
       [ 0.6589582 ,  0.86757839,  0.66710667],
       [ 0.66671612,  0.87067855,  0.66834259],
       [ 0.67448857,  0.87377404,  0.66961968],
       [ 0.68227522,  0.87686508,  0.67093846],
       [ 0.69007579,  0.8799519 ,  0.67229945],
       [ 0.69789002,  0.8830347 ,  0.67370314],
       [ 0.70571768,  0.88611369,  0.67515006],
       [ 0.71355857,  0.88918907,  0.67664069],
       [ 0.72141252,  0.89226104,  0.67817555],
       [ 0.72927938,  0.8953298 ,  0.67975514],
       [ 0.73715903,  0.89839552,  0.68137996],
       [ 0.74505138,  0.9014584 ,  0.68305052],
       [ 0.75295633,  0.9045186 ,  0.68476733],
       [ 0.76087383,  0.9075763 ,  0.68653092],
       [ 0.76880385,  0.91063167,  0.68834179],
       [ 0.77674634,  0.91368487,  0.69020048],
       [ 0.7847013 ,  0.91673606,  0.69210754],
       [ 0.79266874,  0.9197854 ,  0.69406349],
       [ 0.80064866,  0.92283304,  0.69606891],
       [ 0.80864109,  0.92587912,  0.69812436],
       [ 0.81664605,  0.9289238 ,  0.70023042],
       [ 0.82466359,  0.93196722,  0.70238767],
       [ 0.83269375,  0.93500951,  0.70459672],
       [ 0.84073659,  0.93805082,  0.70685819],
       [ 0.84879216,  0.94109127,  0.70917271],
       [ 0.85686051,  0.944131  ,  0.71154093],
       [ 0.86494032,  0.9471706 ,  0.71396404],
       [ 0.87303218,  0.95021003,  0.71644247],
       [ 0.88113678,  0.95324922,  0.71897667],
       [ 0.88925415,  0.95628833,  0.72156734],
       [ 0.89738433,  0.95932747,  0.72421521],
       [ 0.90552737,  0.9623668 ,  0.72692101],
       [ 0.91368329,  0.96540644,  0.72968549],
       [ 0.92185213,  0.96844655,  0.73250945],
       [ 0.9300339 ,  0.97148725,  0.73539365],
       [ 0.93822862,  0.9745287 ,  0.73833891],
       [ 0.94643287,  0.97757227,  0.74134697],
       [ 0.95464904,  0.98061727,  0.74441793],
       [ 0.9628778 ,  0.98366363,  0.74755243],
       [ 0.97111911,  0.9867115 ,  0.75075133],
       [ 0.97937294,  0.98976106,  0.7540155 ],
       [ 0.98763921,  0.99281248,  0.75734582],
       [ 0.99591788,  0.99586595,  0.76074318]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
