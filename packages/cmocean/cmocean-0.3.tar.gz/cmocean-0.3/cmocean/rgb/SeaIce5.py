
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [1.5140484142500839, 0.23692942457759614, -21.06659674704025, -32.24727278711276, -14.166955169979303, 0.0],
              'yp': [-25.13440860215053, -61.24605055292258, -24.19354838709677, -11.828593996840425, -8.82616487455195, 0.0],
              'min_Jp': 25,
              'max_Jp': 100}

cm_data = [[ 0.1896038 ,  0.19242782,  0.39673571],
       [ 0.19163383,  0.19448411,  0.40313604],
       [ 0.19365631,  0.19653793,  0.40953871],
       [ 0.1956641 ,  0.19857863,  0.41600596],
       [ 0.19765787,  0.20060788,  0.42252862],
       [ 0.19964158,  0.20263251,  0.4290688 ],
       [ 0.20160501,  0.20463731,  0.4357127 ],
       [ 0.20356   ,  0.20664147,  0.44235359],
       [ 0.20549373,  0.20862596,  0.44909811],
       [ 0.20741597,  0.2106068 ,  0.45585823],
       [ 0.20931936,  0.21257368,  0.46269175],
       [ 0.2112066 ,  0.21453185,  0.46957076],
       [ 0.21307648,  0.21648062,  0.47650008],
       [ 0.21492614,  0.21841701,  0.48349681],
       [ 0.21675882,  0.22034724,  0.49052881],
       [ 0.21856793,  0.22226311,  0.4976411 ],
       [ 0.2203591 ,  0.22417452,  0.50478261],
       [ 0.22212424,  0.22607157,  0.51200712],
       [ 0.22386887,  0.2279641 ,  0.51926465],
       [ 0.22558612,  0.22984457,  0.52659661],
       [ 0.22727832,  0.23171854,  0.53397606],
       [ 0.22894317,  0.23358533,  0.54140904],
       [ 0.23057606,  0.23544158,  0.54891535],
       [ 0.23218331,  0.23729838,  0.55644092],
       [ 0.23374884,  0.23913847,  0.56407756],
       [ 0.23528694,  0.24098323,  0.57171931],
       [ 0.23678123,  0.24281642,  0.57945335],
       [ 0.23823674,  0.24464833,  0.58723161],
       [ 0.23965528,  0.24648507,  0.59502788],
       [ 0.241016  ,  0.24830868,  0.60293988],
       [ 0.24233294,  0.25013978,  0.61086842],
       [ 0.24360168,  0.25197887,  0.61881808],
       [ 0.24480042,  0.25381112,  0.62687378],
       [ 0.24594119,  0.25565516,  0.63494868],
       [ 0.24701824,  0.25751264,  0.6430445 ],
       [ 0.24802118,  0.25938252,  0.65117873],
       [ 0.24893643,  0.2612633 ,  0.65937403],
       [ 0.249767  ,  0.26316712,  0.66758163],
       [ 0.25050421,  0.26509792,  0.67579834],
       [ 0.25113843,  0.26706044,  0.68401905],
       [ 0.25165906,  0.26906039,  0.69223629],
       [ 0.25205449,  0.27110459,  0.70043964],
       [ 0.25231214,  0.27320113,  0.70861522],
       [ 0.25241858,  0.27535941,  0.71674505],
       [ 0.25235961,  0.27759031,  0.72480661],
       [ 0.25212062,  0.27990607,  0.73277233],
       [ 0.25168694,  0.28232022,  0.74060948],
       [ 0.25104439,  0.28484726,  0.74828019],
       [ 0.25017993,  0.28750221,  0.75574201],
       [ 0.24908248,  0.29029995,  0.76294888],
       [ 0.24772632,  0.29325444,  0.7698719 ],
       [ 0.24612281,  0.29637909,  0.77643958],
       [ 0.24427657,  0.29968246,  0.7826026 ],
       [ 0.2421803 ,  0.30317068,  0.78833024],
       [ 0.23986733,  0.30684142,  0.79357514],
       [ 0.23735539,  0.31068854,  0.7983192 ],
       [ 0.23467573,  0.31469942,  0.80255301],
       [ 0.23186153,  0.31885708,  0.80628212],
       [ 0.22894829,  0.3231412 ,  0.80952452],
       [ 0.22596184,  0.32753233,  0.81230816],
       [ 0.22294618,  0.33200565,  0.81466746],
       [ 0.21991237,  0.33654556,  0.81663913],
       [ 0.21688947,  0.34113245,  0.81826171],
       [ 0.21390198,  0.34574901,  0.81957411],
       [ 0.21095457,  0.35038534,  0.82060848],
       [ 0.20806393,  0.35502926,  0.82139768],
       [ 0.20525372,  0.35966752,  0.82197623],
       [ 0.20251937,  0.36429701,  0.82236518],
       [ 0.1998698 ,  0.3689114 ,  0.82258808],
       [ 0.19731275,  0.37350556,  0.82266598],
       [ 0.19486043,  0.37807371,  0.82262071],
       [ 0.19251666,  0.38261337,  0.82246814],
       [ 0.1902817 ,  0.38712376,  0.82222016],
       [ 0.18816016,  0.39160314,  0.82188963],
       [ 0.18615611,  0.39605024,  0.82148794],
       [ 0.1842732 ,  0.40046426,  0.82102515],
       [ 0.18251464,  0.40484472,  0.82051016],
       [ 0.1808833 ,  0.40919144,  0.81995083],
       [ 0.17938171,  0.41350445,  0.8193541 ],
       [ 0.17801208,  0.41778397,  0.81872614],
       [ 0.17677632,  0.42203038,  0.81807241],
       [ 0.17567603,  0.42624415,  0.81739775],
       [ 0.17471254,  0.43042585,  0.81670645],
       [ 0.17388689,  0.43457613,  0.81600233],
       [ 0.17319983,  0.43869566,  0.81528879],
       [ 0.17265182,  0.44278518,  0.81456886],
       [ 0.17224304,  0.44684543,  0.81384525],
       [ 0.1719734 ,  0.45087717,  0.81312035],
       [ 0.17184252,  0.45488118,  0.81239631],
       [ 0.17184974,  0.45885822,  0.81167506],
       [ 0.17199415,  0.46280907,  0.81095831],
       [ 0.17227457,  0.46673449,  0.81024758],
       [ 0.17268959,  0.47063522,  0.80954425],
       [ 0.17323755,  0.47451201,  0.80884952],
       [ 0.17391658,  0.47836558,  0.80816449],
       [ 0.17472463,  0.48219663,  0.8074901 ],
       [ 0.17565945,  0.48600585,  0.80682723],
       [ 0.17671863,  0.48979392,  0.80617661],
       [ 0.17789963,  0.49356149,  0.80553891],
       [ 0.17919979,  0.49730918,  0.80491471],
       [ 0.18061636,  0.50103762,  0.80430452],
       [ 0.18214651,  0.5047474 ,  0.80370877],
       [ 0.18378735,  0.50843908,  0.80312782],
       [ 0.18553601,  0.51211321,  0.80256208],
       [ 0.18738945,  0.51577038,  0.80201157],
       [ 0.18934475,  0.51941109,  0.80147646],
       [ 0.191399  ,  0.52303584,  0.80095692],
       [ 0.19354937,  0.52664511,  0.80045306],
       [ 0.19579307,  0.53023935,  0.79996498],
       [ 0.19812736,  0.53381898,  0.79949271],
       [ 0.20054958,  0.53738444,  0.79903626],
       [ 0.20305717,  0.5409361 ,  0.79859561],
       [ 0.20564766,  0.54447435,  0.7981707 ],
       [ 0.20831867,  0.54799954,  0.79776146],
       [ 0.21106794,  0.55151202,  0.79736778],
       [ 0.21389332,  0.5550121 ,  0.79698951],
       [ 0.21679279,  0.5585001 ,  0.7966265 ],
       [ 0.21976441,  0.5619763 ,  0.79627843],
       [ 0.22280636,  0.56544105,  0.79594469],
       [ 0.22591708,  0.56889451,  0.79562558],
       [ 0.22909504,  0.57233688,  0.79532087],
       [ 0.23233885,  0.57576839,  0.79503034],
       [ 0.23564724,  0.57918922,  0.79475372],
       [ 0.23901906,  0.58259953,  0.79449075],
       [ 0.2424533 ,  0.58599946,  0.79424118],
       [ 0.24594906,  0.58938916,  0.7940047 ],
       [ 0.24950557,  0.59276872,  0.79378103],
       [ 0.2531222 ,  0.59613823,  0.79356987],
       [ 0.2567984 ,  0.59949775,  0.79337093],
       [ 0.26053377,  0.60284734,  0.79318389],
       [ 0.26432801,  0.606187  ,  0.79300846],
       [ 0.26818095,  0.60951675,  0.79284432],
       [ 0.27209249,  0.61283657,  0.79269119],
       [ 0.27606269,  0.61614639,  0.79254877],
       [ 0.28009166,  0.61944617,  0.79241677],
       [ 0.28417966,  0.62273581,  0.79229492],
       [ 0.288327  ,  0.62601518,  0.79218297],
       [ 0.2925341 ,  0.62928415,  0.79208067],
       [ 0.29680146,  0.63254256,  0.79198782],
       [ 0.30112968,  0.63579021,  0.7919042 ],
       [ 0.30551963,  0.63902694,  0.79182906],
       [ 0.30997233,  0.64225253,  0.79176153],
       [ 0.31448823,  0.64546664,  0.79170265],
       [ 0.31906817,  0.64866897,  0.79165234],
       [ 0.32371304,  0.6518592 ,  0.79161062],
       [ 0.32842376,  0.65503699,  0.79157752],
       [ 0.33320128,  0.65820197,  0.79155315],
       [ 0.33804654,  0.66135376,  0.79153767],
       [ 0.3429605 ,  0.66449196,  0.79153131],
       [ 0.34794582,  0.66761618,  0.79153132],
       [ 0.35300215,  0.67072591,  0.79154056],
       [ 0.35813005,  0.67382066,  0.79155997],
       [ 0.36333029,  0.67689999,  0.79159014],
       [ 0.3686035 ,  0.6799634 ,  0.79163172],
       [ 0.37395198,  0.6830104 ,  0.79168305],
       [ 0.37937573,  0.68604048,  0.79174578],
       [ 0.38487381,  0.68905318,  0.79182262],
       [ 0.39044624,  0.69204807,  0.79191466],
       [ 0.39609432,  0.69502465,  0.79202133],
       [ 0.40181806,  0.69798245,  0.79214363],
       [ 0.40761487,  0.70092124,  0.79228533],
       [ 0.41348381,  0.70384069,  0.79244795],
       [ 0.41942631,  0.70674034,  0.79263021],
       [ 0.4254383 ,  0.70962018,  0.79283668],
       [ 0.43151744,  0.71248013,  0.79306956],
       [ 0.43766303,  0.71532   ,  0.79332919],
       [ 0.44387153,  0.71813993,  0.7936185 ],
       [ 0.45013909,  0.72094017,  0.7939403 ],
       [ 0.45646329,  0.72372087,  0.79429577],
       [ 0.46284   ,  0.72648245,  0.79468744],
       [ 0.4692649 ,  0.72922542,  0.79511761],
       [ 0.47573399,  0.73195033,  0.7955881 ],
       [ 0.48224267,  0.7346579 ,  0.79610093],
       [ 0.48878676,  0.73734885,  0.79665758],
       [ 0.49536085,  0.74002414,  0.79726028],
       [ 0.50196064,  0.74268467,  0.79791021],
       [ 0.50858241,  0.74533128,  0.79860796],
       [ 0.51522005,  0.74796529,  0.79935575],
       [ 0.52186965,  0.75058772,  0.8001541 ],
       [ 0.52852844,  0.75319941,  0.80100264],
       [ 0.53519117,  0.75580172,  0.80190272],
       [ 0.54185276,  0.75839603,  0.80285544],
       [ 0.54851243,  0.76098296,  0.80385906],
       [ 0.55516708,  0.76356359,  0.80491343],
       [ 0.56181012,  0.76613971,  0.8060206 ],
       [ 0.56844131,  0.76871191,  0.80717858],
       [ 0.57505933,  0.77128099,  0.80838619],
       [ 0.58166202,  0.77384794,  0.80964283],
       [ 0.58824476,  0.77641426,  0.8109494 ],
       [ 0.59480664,  0.77898074,  0.8123046 ],
       [ 0.60134807,  0.78154783,  0.81370649],
       [ 0.60786774,  0.78411637,  0.81515422],
       [ 0.61436454,  0.78668715,  0.81664687],
       [ 0.62083677,  0.78926109,  0.81818395],
       [ 0.62728172,  0.79183938,  0.81976554],
       [ 0.63370164,  0.79442203,  0.82138907],
       [ 0.64009604,  0.79700966,  0.82305356],
       [ 0.64646456,  0.79960289,  0.82475805],
       [ 0.65280691,  0.80220228,  0.82650156],
       [ 0.65912294,  0.80480836,  0.82828315],
       [ 0.66541256,  0.80742165,  0.83010186],
       [ 0.67167576,  0.81004261,  0.83195676],
       [ 0.67791257,  0.8126717 ,  0.83384697],
       [ 0.68412192,  0.81530968,  0.83577219],
       [ 0.69030545,  0.81795654,  0.83773081],
       [ 0.69646338,  0.82061269,  0.83972198],
       [ 0.70259596,  0.82327846,  0.84174487],
       [ 0.70870349,  0.82595421,  0.8437987 ],
       [ 0.71478626,  0.82864025,  0.8458827 ],
       [ 0.72084462,  0.83133688,  0.84799613],
       [ 0.72687892,  0.83404441,  0.85013827],
       [ 0.73288952,  0.83676311,  0.85230842],
       [ 0.73887679,  0.83949324,  0.85450594],
       [ 0.74484111,  0.84223506,  0.85673016],
       [ 0.75078287,  0.84498882,  0.8589805 ],
       [ 0.75670245,  0.84775476,  0.86125635],
       [ 0.76260022,  0.8505331 ,  0.86355716],
       [ 0.76847657,  0.85332406,  0.86588239],
       [ 0.77433187,  0.85612788,  0.86823153],
       [ 0.78016631,  0.85894479,  0.87060416],
       [ 0.78597979,  0.86177516,  0.87300005],
       [ 0.79177326,  0.864619  ,  0.87541846],
       [ 0.79754708,  0.8674765 ,  0.87785896],
       [ 0.80330155,  0.87034788,  0.88032115],
       [ 0.80903699,  0.87323332,  0.88280466],
       [ 0.8147537 ,  0.87613301,  0.88530913],
       [ 0.82045195,  0.87904716,  0.88783423],
       [ 0.826132  ,  0.88197595,  0.89037965],
       [ 0.83179407,  0.88491958,  0.89294511],
       [ 0.83743839,  0.88787825,  0.89553033],
       [ 0.84306514,  0.89085216,  0.89813508],
       [ 0.84867449,  0.89384152,  0.90075914],
       [ 0.85426589,  0.89684676,  0.90340267],
       [ 0.85984008,  0.89986788,  0.90606517],
       [ 0.86539729,  0.90290507,  0.90874645],
       [ 0.87093757,  0.90595855,  0.91144638],
       [ 0.87646092,  0.90902856,  0.91416487],
       [ 0.88196732,  0.91211534,  0.91690188],
       [ 0.88745668,  0.91521916,  0.91965739],
       [ 0.89292887,  0.91834029,  0.92243141],
       [ 0.89838362,  0.92147904,  0.92522406],
       [ 0.90382032,  0.92463585,  0.92803564],
       [ 0.90923914,  0.92781089,  0.93086605],
       [ 0.91463962,  0.93100452,  0.93371554],
       [ 0.92002118,  0.93421715,  0.93658444],
       [ 0.92538307,  0.93744926,  0.9394732 ],
       [ 0.93072436,  0.94070138,  0.94238238],
       [ 0.93604384,  0.94397411,  0.94531274],
       [ 0.94133986,  0.94726822,  0.9482653 ],
       [ 0.94661037,  0.95058462,  0.95124136],
       [ 0.95185269,  0.9539244 ,  0.95424263],
       [ 0.95706278,  0.95728912,  0.95727168],
       [ 0.96223453,  0.96068106,  0.96033236],
       [ 0.9673576 ,  0.96410388,  0.96343118],
       [ 0.97241077,  0.96756491,  0.96658137],
       [ 0.97730443,  0.97109438,  0.96983793]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
