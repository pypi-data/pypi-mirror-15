
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-3.1902526610187465, 0.23692942457759614, -21.066596747040251, -32.24727278711276, -14.166955169979303, -4.4447329477571031],
              'yp': [-37.05197132616486, -61.24605055292258, -24.193548387096769, -11.828593996840425, -8.8261648745519494, -2.2401433691756267],
              'min_Jp': 24.915874177,
              'max_Jp': 98.3613752743}

cm_data = [[ 0.1314946 ,  0.1444833 ,  0.61068736],
       [ 0.13438887,  0.14498222,  0.61931842],
       [ 0.13725798,  0.14548307,  0.62791525],
       [ 0.14014258,  0.14586853,  0.63668834],
       [ 0.14300818,  0.14623275,  0.64546748],
       [ 0.1458769 ,  0.14650724,  0.65437169],
       [ 0.14873688,  0.14672127,  0.66334759],
       [ 0.1515813 ,  0.14689045,  0.67236782],
       [ 0.1544313 ,  0.14694143,  0.68155274],
       [ 0.15725637,  0.14696258,  0.69075423],
       [ 0.16007274,  0.14689268,  0.70007122],
       [ 0.1628774 ,  0.14672919,  0.70950496],
       [ 0.16565297,  0.14651951,  0.71898003],
       [ 0.16840426,  0.14623263,  0.72854483],
       [ 0.17113741,  0.14582521,  0.73826361],
       [ 0.17383031,  0.1453577 ,  0.74804515],
       [ 0.1764778 ,  0.14482507,  0.75789926],
       [ 0.17907292,  0.1442232 ,  0.76783513],
       [ 0.18160634,  0.14354982,  0.7778604 ],
       [ 0.1840685 ,  0.14279017,  0.78800169],
       [ 0.18643662,  0.14197967,  0.7982192 ],
       [ 0.18868731,  0.14114163,  0.80849583],
       [ 0.19079583,  0.14026825,  0.8188628 ],
       [ 0.19271813,  0.1394239 ,  0.82926427],
       [ 0.19439897,  0.13868754,  0.8396401 ],
       [ 0.19576604,  0.13816653,  0.84991235],
       [ 0.19671652,  0.1379277 ,  0.86008724],
       [ 0.19710952,  0.13828016,  0.86988243],
       [ 0.19676374,  0.13952469,  0.87905931],
       [ 0.19548314,  0.14207682,  0.88721295],
       [ 0.19315403,  0.14630907,  0.89385917],
       [ 0.18984386,  0.15227849,  0.89868734],
       [ 0.18578168,  0.15964766,  0.90173455],
       [ 0.18123117,  0.16790251,  0.90329796],
       [ 0.17639131,  0.17659475,  0.90373522],
       [ 0.17137933,  0.1854255 ,  0.90334475],
       [ 0.16628004,  0.19420536,  0.90235516],
       [ 0.1611487 ,  0.20282488,  0.90093521],
       [ 0.15599081,  0.21124443,  0.89918893],
       [ 0.15083726,  0.21943061,  0.89720819],
       [ 0.1457138 ,  0.22736737,  0.895065  ],
       [ 0.14060189,  0.23507189,  0.89278848],
       [ 0.13551392,  0.24254685,  0.89041822],
       [ 0.13047154,  0.24979314,  0.88799361],
       [ 0.12547812,  0.25682291,  0.88553593],
       [ 0.12052558,  0.26365372,  0.88305395],
       [ 0.11561928,  0.27029614,  0.88056251],
       [ 0.11076409,  0.27676083,  0.87807333],
       [ 0.10596469,  0.28305818,  0.87559574],
       [ 0.10122582,  0.28919817,  0.87313713],
       [ 0.09655256,  0.29519029,  0.87070337],
       [ 0.0919505 ,  0.30104344,  0.86829916],
       [ 0.08742597,  0.30676598,  0.86592821],
       [ 0.08298619,  0.31236567,  0.86359349],
       [ 0.07863951,  0.31784977,  0.86129735],
       [ 0.07439554,  0.32322501,  0.85904166],
       [ 0.07026544,  0.32849762,  0.85682787],
       [ 0.06627298,  0.33367068,  0.85466359],
       [ 0.06242522,  0.33875177,  0.85254491],
       [ 0.05873562,  0.34374671,  0.8504706 ],
       [ 0.05522274,  0.34866018,  0.84844105],
       [ 0.05190724,  0.35349653,  0.84645651],
       [ 0.04881181,  0.35825982,  0.84451715],
       [ 0.04596092,  0.36295381,  0.84262304],
       [ 0.04339417,  0.36757947,  0.84078136],
       [ 0.04112633,  0.37214241,  0.83898592],
       [ 0.03916986,  0.37664633,  0.83723477],
       [ 0.03759   ,  0.38109412,  0.83552774],
       [ 0.03639703,  0.38548844,  0.83386464],
       [ 0.03559305,  0.38983069,  0.83224885],
       [ 0.0351736 ,  0.39412327,  0.83068022],
       [ 0.03512631,  0.3983699 ,  0.82915386],
       [ 0.0354477 ,  0.40257265,  0.82766951],
       [ 0.03613456,  0.40673349,  0.82622692],
       [ 0.03719102,  0.41085296,  0.8248303 ],
       [ 0.03860817,  0.41493389,  0.82347582],
       [ 0.04038034,  0.4189785 ,  0.82216126],
       [ 0.04244156,  0.42298831,  0.82088634],
       [ 0.04476921,  0.4269644 ,  0.81965229],
       [ 0.04733822,  0.43090786,  0.81846009],
       [ 0.05011716,  0.43482099,  0.81730571],
       [ 0.05308146,  0.43870505,  0.81618888],
       [ 0.05620879,  0.44256113,  0.81510964],
       [ 0.05948068,  0.44638978,  0.81407005],
       [ 0.06287502,  0.45019299,  0.81306624],
       [ 0.06637564,  0.45397174,  0.81209797],
       [ 0.06996826,  0.45772699,  0.81116496],
       [ 0.07364144,  0.46145931,  0.81026855],
       [ 0.07738243,  0.46517013,  0.80940601],
       [ 0.08118185,  0.46886029,  0.80857706],
       [ 0.08503157,  0.47253058,  0.80778145],
       [ 0.08892467,  0.47618169,  0.80701923],
       [ 0.09285454,  0.47981457,  0.80628903],
       [ 0.09681598,  0.48342993,  0.80559058],
       [ 0.10080452,  0.48702841,  0.8049236 ],
       [ 0.10481606,  0.49061082,  0.80428707],
       [ 0.10884735,  0.49417773,  0.80368071],
       [ 0.11289563,  0.49772973,  0.80310431],
       [ 0.11695852,  0.50126736,  0.80255759],
       [ 0.1210336 ,  0.50479147,  0.80203861],
       [ 0.12511943,  0.50830238,  0.80154797],
       [ 0.12921464,  0.51180057,  0.80108555],
       [ 0.133318  ,  0.51528648,  0.80065107],
       [ 0.13742823,  0.51876097,  0.80024199],
       [ 0.14154476,  0.52222422,  0.7998593 ],
       [ 0.14566703,  0.52567656,  0.79950312],
       [ 0.14979451,  0.5291184 ,  0.79917315],
       [ 0.1539267 ,  0.53255047,  0.79886686],
       [ 0.15806343,  0.53597301,  0.79858464],
       [ 0.16220463,  0.53938617,  0.79832724],
       [ 0.16635019,  0.5427903 ,  0.79809436],
       [ 0.17050013,  0.54618592,  0.79788429],
       [ 0.17465458,  0.54957351,  0.79769533],
       [ 0.1788137 ,  0.55295301,  0.79752952],
       [ 0.18297767,  0.55632469,  0.79738654],
       [ 0.18714672,  0.55968881,  0.79726605],
       [ 0.19132146,  0.56304611,  0.79716403],
       [ 0.19550209,  0.56639645,  0.79708285],
       [ 0.19968895,  0.56973994,  0.79702283],
       [ 0.20388247,  0.57307681,  0.7969836 ],
       [ 0.20808312,  0.57640726,  0.79696466],
       [ 0.21229205,  0.579732  ,  0.79696141],
       [ 0.21650926,  0.58305068,  0.79697765],
       [ 0.22073534,  0.58636344,  0.79701302],
       [ 0.22497088,  0.58967043,  0.79706713],
       [ 0.22921653,  0.5929718 ,  0.7971396 ],
       [ 0.23347364,  0.59626802,  0.79722679],
       [ 0.23774258,  0.59955896,  0.79733038],
       [ 0.24202385,  0.60284459,  0.79745108],
       [ 0.24631822,  0.606125  ,  0.7975885 ],
       [ 0.25062649,  0.60940025,  0.79774225],
       [ 0.25494948,  0.61267041,  0.79791193],
       [ 0.25928876,  0.61593576,  0.79809473],
       [ 0.26364502,  0.6191962 ,  0.79829125],
       [ 0.26801876,  0.62245163,  0.79850257],
       [ 0.27241095,  0.62570204,  0.7987283 ],
       [ 0.27682256,  0.62894743,  0.79896806],
       [ 0.28125461,  0.63218777,  0.79922148],
       [ 0.28570815,  0.63542302,  0.79948818],
       [ 0.29018426,  0.63865313,  0.79976781],
       [ 0.29468459,  0.64187812,  0.80005865],
       [ 0.29921026,  0.64509788,  0.80036057],
       [ 0.30376191,  0.6483122 ,  0.80067457],
       [ 0.30834074,  0.65152098,  0.80100036],
       [ 0.31294795,  0.65472407,  0.80133763],
       [ 0.3175848 ,  0.65792132,  0.80168614],
       [ 0.32225254,  0.66111257,  0.80204563],
       [ 0.32695245,  0.66429762,  0.8024159 ],
       [ 0.33168584,  0.66747628,  0.80279674],
       [ 0.33645401,  0.67064831,  0.80318802],
       [ 0.3412583 ,  0.67381349,  0.8035896 ],
       [ 0.34610003,  0.67697155,  0.8040014 ],
       [ 0.35098053,  0.68012222,  0.8044234 ],
       [ 0.35590111,  0.68326522,  0.80485559],
       [ 0.36086309,  0.68640023,  0.80529803],
       [ 0.36586774,  0.68952695,  0.80575085],
       [ 0.37091632,  0.69264504,  0.80621422],
       [ 0.37601004,  0.69575416,  0.80668836],
       [ 0.38115005,  0.69885396,  0.80717359],
       [ 0.38633747,  0.70194409,  0.80767026],
       [ 0.39157331,  0.70502417,  0.80817883],
       [ 0.3968585 ,  0.70809385,  0.80869981],
       [ 0.4021939 ,  0.71115276,  0.80923379],
       [ 0.40758199,  0.71420045,  0.80977927],
       [ 0.41302185,  0.71723662,  0.81033901],
       [ 0.41851378,  0.72026096,  0.81091401],
       [ 0.42405805,  0.72327312,  0.81150522],
       [ 0.42965475,  0.72627284,  0.81211365],
       [ 0.43530379,  0.72925982,  0.8127404 ],
       [ 0.44100509,  0.73223384,  0.81338642],
       [ 0.4467602 ,  0.73519447,  0.8140509 ],
       [ 0.45256604,  0.73814178,  0.81473759],
       [ 0.45842163,  0.74107567,  0.81544785],
       [ 0.46432579,  0.74399609,  0.81618306],
       [ 0.47027722,  0.74690304,  0.81694452],
       [ 0.47627592,  0.74979638,  0.81773219],
       [ 0.48231792,  0.7526765 ,  0.81854946],
       [ 0.48840112,  0.75554361,  0.81939772],
       [ 0.49452325,  0.75839798,  0.82027836],
       [ 0.5006825 ,  0.76123986,  0.8211922 ],
       [ 0.50687554,  0.76406975,  0.82214115],
       [ 0.51309928,  0.76688818,  0.82312669],
       [ 0.51935092,  0.76969569,  0.82414992],
       [ 0.5256274 ,  0.77249289,  0.82521199],
       [ 0.53192546,  0.77528046,  0.82631405],
       [ 0.53824222,  0.7780591 ,  0.82745684],
       [ 0.54457478,  0.78082952,  0.82864101],
       [ 0.55091975,  0.78359256,  0.82986747],
       [ 0.5572737 ,  0.78634912,  0.83113705],
       [ 0.56363475,  0.78909986,  0.83244946],
       [ 0.57000033,  0.79184557,  0.83380487],
       [ 0.576368  ,  0.79458706,  0.83520332],
       [ 0.58273333,  0.79732556,  0.83664606],
       [ 0.58909587,  0.80006153,  0.83813182],
       [ 0.5954538 ,  0.80279574,  0.83966021],
       [ 0.60180529,  0.80552895,  0.84123088],
       [ 0.60814863,  0.80826192,  0.84284341],
       [ 0.61448031,  0.8109958 ,  0.84449844],
       [ 0.62080044,  0.81373101,  0.8461945 ],
       [ 0.62710825,  0.81646812,  0.84793072],
       [ 0.63340264,  0.81920779,  0.84970645],
       [ 0.63968265,  0.82195067,  0.85152099],
       [ 0.64594745,  0.82469736,  0.85337361],
       [ 0.65219564,  0.82744859,  0.85526395],
       [ 0.65842613,  0.83020504,  0.85719147],
       [ 0.6646397 ,  0.83296695,  0.85915471],
       [ 0.67083593,  0.83573482,  0.8611529 ],
       [ 0.67701452,  0.83850912,  0.86318524],
       [ 0.68317521,  0.84129031,  0.86525096],
       [ 0.68931783,  0.84407882,  0.86734927],
       [ 0.69544228,  0.84687506,  0.86947939],
       [ 0.7015485 ,  0.84967943,  0.87164056],
       [ 0.70763649,  0.85249231,  0.87383203],
       [ 0.7137063 ,  0.85531403,  0.87605304],
       [ 0.71975739,  0.85814512,  0.87830317],
       [ 0.72579052,  0.86098573,  0.88058139],
       [ 0.73180593,  0.86383613,  0.88288695],
       [ 0.73780379,  0.86669664,  0.88521917],
       [ 0.74378429,  0.86956754,  0.88757738],
       [ 0.74974765,  0.87244909,  0.88996093],
       [ 0.75569408,  0.87534157,  0.8923692 ],
       [ 0.76162384,  0.87824524,  0.89480155],
       [ 0.76753715,  0.88116032,  0.89725739],
       [ 0.77343429,  0.88408708,  0.89973613],
       [ 0.7793155 ,  0.88702573,  0.9022372 ],
       [ 0.78518106,  0.88997651,  0.90476005],
       [ 0.79103121,  0.89293964,  0.90730413],
       [ 0.79686624,  0.89591533,  0.90986892],
       [ 0.80268638,  0.89890379,  0.9124539 ],
       [ 0.80849191,  0.90190524,  0.91505857],
       [ 0.81428306,  0.90491989,  0.91768245],
       [ 0.82006009,  0.90794793,  0.92032505],
       [ 0.82582323,  0.91098958,  0.92298592],
       [ 0.8315727 ,  0.91404503,  0.92566459],
       [ 0.83730873,  0.91711448,  0.92836064],
       [ 0.84303152,  0.92019815,  0.93107361],
       [ 0.84874127,  0.92329623,  0.93380309],
       [ 0.85443815,  0.92640893,  0.93654866],
       [ 0.86012233,  0.92953646,  0.93930991],
       [ 0.86579396,  0.93267902,  0.94208644],
       [ 0.87145317,  0.93583683,  0.94487786],
       [ 0.87710008,  0.93901012,  0.94768378],
       [ 0.88273478,  0.94219909,  0.95050381],
       [ 0.88835734,  0.94540399,  0.95333759],
       [ 0.89396781,  0.94862504,  0.95618475],
       [ 0.8995662 ,  0.95186249,  0.95904491],
       [ 0.90515251,  0.9551166 ,  0.96191774],
       [ 0.91072669,  0.95838763,  0.96480287],
       [ 0.91628867,  0.96167585,  0.96769996],
       [ 0.92183831,  0.96498156,  0.97060867],
       [ 0.92737547,  0.96830505,  0.97352868],
       [ 0.93289991,  0.97164666,  0.97645967],
       [ 0.93841137,  0.97500672,  0.97940132],
       [ 0.9439095 ,  0.97838561,  0.98235335],
       [ 0.94939388,  0.98178372,  0.98531545],
       [ 0.95486402,  0.98520148,  0.98828737]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
