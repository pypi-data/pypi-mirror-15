
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-4.238368116336659, 0.6289831887553419, -28.575124641796634, -40.18188544624678, -15.50200768950765, -7.6191248066247681],
              'yp': [-16.85387248609328, -46.80680359435172, -16.479460847240034, -9.36563970902867, -1.0885885885885784, -2.5900900900900865],
              'min_Jp': 15.0,
              'max_Jp': 98.7339606501}

cm_data = [[ 0.07375453,  0.12388048,  0.21276179],
       [ 0.07645698,  0.12679905,  0.21800674],
       [ 0.07914235,  0.12970975,  0.22324534],
       [ 0.08180334,  0.13260865,  0.22851631],
       [ 0.08444207,  0.13549739,  0.23380982],
       [ 0.08706156,  0.13837814,  0.23911169],
       [ 0.08965372,  0.14124683,  0.24446169],
       [ 0.09223021,  0.14411045,  0.24980332],
       [ 0.09477613,  0.14696141,  0.25520721],
       [ 0.09730569,  0.14980801,  0.26060526],
       [ 0.09980688,  0.15264448,  0.26605228],
       [ 0.10228831,  0.15547601,  0.27150714],
       [ 0.10474235,  0.15829942,  0.27700235],
       [ 0.10717391,  0.16111794,  0.28251385],
       [ 0.10957763,  0.16392979,  0.28806227],
       [ 0.11195703,  0.1667375 ,  0.29362955],
       [ 0.11430639,  0.16953937,  0.29923604],
       [ 0.11663078,  0.17233863,  0.30485746],
       [ 0.11892083,  0.17513231,  0.31052655],
       [ 0.12118674,  0.17792572,  0.31619958],
       [ 0.12341148,  0.18071325,  0.32193527],
       [ 0.125611  ,  0.1835023 ,  0.32766958],
       [ 0.12776703,  0.18628741,  0.33346179],
       [ 0.12988965,  0.18907367,  0.33926979],
       [ 0.13197411,  0.19186083,  0.34510332],
       [ 0.13401041,  0.19464739,  0.35098656],
       [ 0.13600902,  0.19743823,  0.35687833],
       [ 0.13795605,  0.20023109,  0.36281231],
       [ 0.1398503 ,  0.20302776,  0.36878131],
       [ 0.14169598,  0.20583128,  0.3747635 ],
       [ 0.1434824 ,  0.20864123,  0.38077728],
       [ 0.14520059,  0.21145825,  0.38683257],
       [ 0.14685595,  0.21428595,  0.39290246],
       [ 0.14844268,  0.21712578,  0.39898782],
       [ 0.14995231,  0.21997913,  0.40509332],
       [ 0.1513704 ,  0.22284717,  0.41123253],
       [ 0.15270042,  0.22573369,  0.41737997],
       [ 0.1539346 ,  0.22864118,  0.42353266],
       [ 0.15506476,  0.23157239,  0.42968616],
       [ 0.1560824 ,  0.23453042,  0.43583437],
       [ 0.15697891,  0.23751864,  0.44196929],
       [ 0.15774583,  0.24054065,  0.44808088],
       [ 0.15837515,  0.24360026,  0.45415695],
       [ 0.1588597 ,  0.24670129,  0.46018327],
       [ 0.15919359,  0.24984749,  0.46614376],
       [ 0.15937263,  0.2530423 ,  0.47202094],
       [ 0.15939477,  0.25628871,  0.47779649],
       [ 0.15925639,  0.2595893 ,  0.48345515],
       [ 0.15896185,  0.26294551,  0.4889775 ],
       [ 0.15852244,  0.2663572 ,  0.49434371],
       [ 0.1579474 ,  0.26982348,  0.49954064],
       [ 0.15724791,  0.27334241,  0.50455858],
       [ 0.15643862,  0.27691086,  0.50939062],
       [ 0.15553573,  0.28052483,  0.51403372],
       [ 0.15455328,  0.28418008,  0.51848946],
       [ 0.15350616,  0.28787194,  0.522762  ],
       [ 0.15241321,  0.29159492,  0.52685703],
       [ 0.15128107,  0.29534535,  0.53078468],
       [ 0.15011996,  0.29911911,  0.53455464],
       [ 0.14893892,  0.3029124 ,  0.53817712],
       [ 0.14774579,  0.30672178,  0.54166248],
       [ 0.14655352,  0.31054313,  0.54502073],
       [ 0.14536225,  0.3143747 ,  0.54826223],
       [ 0.14417528,  0.31821443,  0.55139631],
       [ 0.14299643,  0.32206036,  0.55443162],
       [ 0.14182886,  0.32591083,  0.55737624],
       [ 0.14067519,  0.32976443,  0.5602376 ],
       [ 0.1395376 ,  0.33361999,  0.56302253],
       [ 0.13841789,  0.33747651,  0.56573727],
       [ 0.13731756,  0.3413332 ,  0.56838753],
       [ 0.13623785,  0.34518939,  0.57097849],
       [ 0.13517983,  0.34904455,  0.57351489],
       [ 0.13414441,  0.35289824,  0.57600103],
       [ 0.13313236,  0.35675013,  0.57844082],
       [ 0.13214439,  0.36059996,  0.58083782],
       [ 0.13118113,  0.36444753,  0.58319528],
       [ 0.13024319,  0.3682927 ,  0.58551616],
       [ 0.12933113,  0.37213539,  0.58780315],
       [ 0.12844551,  0.37597551,  0.59005873],
       [ 0.12758688,  0.37981307,  0.59228515],
       [ 0.12675581,  0.38364805,  0.59448448],
       [ 0.12595672,  0.3874799 ,  0.59665946],
       [ 0.12518633,  0.39130926,  0.59881102],
       [ 0.12444501,  0.39513623,  0.60094069],
       [ 0.12373336,  0.39896087,  0.60304992],
       [ 0.12305199,  0.40278329,  0.60514006],
       [ 0.12240158,  0.40660357,  0.60721233],
       [ 0.12178282,  0.41042182,  0.60926787],
       [ 0.12119647,  0.41423813,  0.61130772],
       [ 0.1206454 ,  0.41805233,  0.61333337],
       [ 0.12012913,  0.42186472,  0.6153454 ],
       [ 0.11964711,  0.42567559,  0.61734427],
       [ 0.11920024,  0.42948507,  0.61933075],
       [ 0.11878945,  0.43329327,  0.6213055 ],
       [ 0.11841569,  0.43710029,  0.62326917],
       [ 0.11807998,  0.44090626,  0.62522234],
       [ 0.11778464,  0.44471112,  0.62716586],
       [ 0.11752919,  0.44851518,  0.62909982],
       [ 0.11731437,  0.4523186 ,  0.63102455],
       [ 0.11714136,  0.45612148,  0.63294045],
       [ 0.11701138,  0.45992392,  0.63484788],
       [ 0.1169257 ,  0.46372601,  0.63674717],
       [ 0.11688555,  0.46752787,  0.63863858],
       [ 0.11689174,  0.47132963,  0.64052222],
       [ 0.11694557,  0.4751314 ,  0.6423983 ],
       [ 0.11704848,  0.47893325,  0.644267  ],
       [ 0.11720195,  0.48273525,  0.6461285 ],
       [ 0.1174075 ,  0.48653748,  0.64798292],
       [ 0.11766665,  0.49034001,  0.64983038],
       [ 0.11797896,  0.49414313,  0.65167034],
       [ 0.11834755,  0.49794671,  0.6535033 ],
       [ 0.1187741 ,  0.50175082,  0.65532929],
       [ 0.11926035,  0.50555547,  0.65714831],
       [ 0.11980805,  0.50936071,  0.65896035],
       [ 0.12041898,  0.51316657,  0.66076538],
       [ 0.12109435,  0.51697313,  0.66256313],
       [ 0.12183402,  0.52078065,  0.66435284],
       [ 0.12264217,  0.52458886,  0.66613514],
       [ 0.12352075,  0.52839775,  0.66790989],
       [ 0.12447177,  0.53220731,  0.66967697],
       [ 0.12549722,  0.5360175 ,  0.67143618],
       [ 0.12659915,  0.5398283 ,  0.67318736],
       [ 0.12777963,  0.54363966,  0.67493028],
       [ 0.12904006,  0.5474516 ,  0.67666444],
       [ 0.13038085,  0.55126429,  0.6783889 ],
       [ 0.13180662,  0.55507733,  0.68010429],
       [ 0.13331961,  0.55889063,  0.68181033],
       [ 0.1349221 ,  0.56270407,  0.68350673],
       [ 0.13661638,  0.56651753,  0.68519318],
       [ 0.13840479,  0.57033086,  0.68686934],
       [ 0.14028971,  0.57414389,  0.68853486],
       [ 0.14227354,  0.57795645,  0.69018938],
       [ 0.14435874,  0.58176834,  0.69183252],
       [ 0.14654779,  0.58557932,  0.6934639 ],
       [ 0.14884323,  0.58938917,  0.69508311],
       [ 0.15124764,  0.5931976 ,  0.69668974],
       [ 0.15376365,  0.59700432,  0.69828338],
       [ 0.15639391,  0.60080901,  0.6998636 ],
       [ 0.15914117,  0.60461132,  0.70142999],
       [ 0.16200818,  0.60841086,  0.70298212],
       [ 0.16499776,  0.61220722,  0.70451959],
       [ 0.16811276,  0.61599994,  0.70604198],
       [ 0.17135608,  0.61978855,  0.70754891],
       [ 0.17473064,  0.62357251,  0.70904001],
       [ 0.1782394 ,  0.62735125,  0.71051494],
       [ 0.1818853 ,  0.63112419,  0.71197338],
       [ 0.1856713 ,  0.63489065,  0.71341508],
       [ 0.18960036,  0.63864996,  0.71483981],
       [ 0.19367537,  0.64240137,  0.7162474 ],
       [ 0.19789919,  0.64614411,  0.71763777],
       [ 0.20227455,  0.64987735,  0.71901089],
       [ 0.20680412,  0.65360021,  0.72036682],
       [ 0.21149037,  0.6573118 ,  0.72170572],
       [ 0.21633601,  0.66101146,  0.72302471],
       [ 0.22134334,  0.66469785,  0.72432718],
       [ 0.2265142 ,  0.66836994,  0.72561369],
       [ 0.23185008,  0.67202666,  0.72688497],
       [ 0.23735207,  0.67566694,  0.72814191],
       [ 0.24302276,  0.67928984,  0.72938221],
       [ 0.24886141,  0.68289406,  0.73060977],
       [ 0.25486718,  0.68647847,  0.73182687],
       [ 0.26103896,  0.69004203,  0.7330352 ],
       [ 0.26737844,  0.69358368,  0.73423287],
       [ 0.27388016,  0.69710238,  0.73542591],
       [ 0.28054043,  0.70059726,  0.736617  ],
       [ 0.28735765,  0.70406741,  0.73780645],
       [ 0.29432535,  0.70751216,  0.73899862],
       [ 0.30143609,  0.71093101,  0.74019779],
       [ 0.30868528,  0.71432342,  0.74140546],
       [ 0.31606343,  0.71768926,  0.74262645],
       [ 0.32356112,  0.72102853,  0.74386483],
       [ 0.33117058,  0.72434127,  0.7451232 ],
       [ 0.33888016,  0.72762796,  0.74640631],
       [ 0.34667971,  0.73088913,  0.74771754],
       [ 0.354558  ,  0.73412559,  0.74906065],
       [ 0.36250482,  0.73733819,  0.75043858],
       [ 0.37050842,  0.74052812,  0.75185493],
       [ 0.37855794,  0.74369662,  0.75331262],
       [ 0.38664508,  0.74684481,  0.75481318],
       [ 0.39475697,  0.74997449,  0.75636038],
       [ 0.40288606,  0.75308695,  0.75795526],
       [ 0.41102589,  0.75618343,  0.75959847],
       [ 0.41916461,  0.75926603,  0.76129311],
       [ 0.42729697,  0.76233605,  0.76303928],
       [ 0.43541916,  0.76539462,  0.76483657],
       [ 0.4435238 ,  0.7684435 ,  0.76668621],
       [ 0.45160272,  0.77148463,  0.76858974],
       [ 0.45965687,  0.77451861,  0.77054502],
       [ 0.46768267,  0.77754672,  0.7725519 ],
       [ 0.47567515,  0.78057056,  0.77461085],
       [ 0.48362923,  0.78359177,  0.77672242],
       [ 0.49154745,  0.7866107 ,  0.7788843 ],
       [ 0.49942814,  0.78962843,  0.78109592],
       [ 0.50726998,  0.79264594,  0.78335665],
       [ 0.515071  ,  0.79566439,  0.78566617],
       [ 0.522828  ,  0.79868516,  0.78802461],
       [ 0.53054446,  0.80170835,  0.79042983],
       [ 0.53822017,  0.80473473,  0.79288107],
       [ 0.54585515,  0.80776504,  0.79537755],
       [ 0.55344955,  0.81079996,  0.79791851],
       [ 0.56100368,  0.81384011,  0.80050317],
       [ 0.56851797,  0.81688611,  0.80313077],
       [ 0.57599219,  0.81993868,  0.8058008 ],
       [ 0.58342664,  0.82299841,  0.80851261],
       [ 0.59082344,  0.8260655 ,  0.81126505],
       [ 0.59818331,  0.8291404 ,  0.81405744],
       [ 0.60550705,  0.83222354,  0.8168891 ],
       [ 0.61279548,  0.83531533,  0.81975941],
       [ 0.62004945,  0.83841614,  0.82266774],
       [ 0.62726982,  0.84152635,  0.82561352],
       [ 0.63445747,  0.84464628,  0.82859617],
       [ 0.6416133 ,  0.84777627,  0.83161517],
       [ 0.64873819,  0.85091662,  0.83467001],
       [ 0.65583304,  0.85406762,  0.83776021],
       [ 0.66289872,  0.85722954,  0.84088532],
       [ 0.66993612,  0.86040265,  0.8440449 ],
       [ 0.67694609,  0.8635872 ,  0.84723857],
       [ 0.68392948,  0.86678343,  0.85046594],
       [ 0.69088713,  0.86999157,  0.85372667],
       [ 0.69781987,  0.87321186,  0.85702044],
       [ 0.70472848,  0.87644449,  0.86034696],
       [ 0.71161376,  0.87968968,  0.86370595],
       [ 0.71847646,  0.88294764,  0.86709718],
       [ 0.72531732,  0.88621856,  0.87052042],
       [ 0.73213708,  0.88950262,  0.87397549],
       [ 0.73893644,  0.89280001,  0.87746222],
       [ 0.74571606,  0.89611092,  0.88098047],
       [ 0.75247661,  0.89943553,  0.88453012],
       [ 0.75921873,  0.902774  ,  0.8881111 ],
       [ 0.76594303,  0.9061265 ,  0.89172335],
       [ 0.7726501 ,  0.90949322,  0.89536684],
       [ 0.7793405 ,  0.91287432,  0.89904156],
       [ 0.78601477,  0.91626996,  0.90274757],
       [ 0.79267341,  0.91968031,  0.90648492],
       [ 0.79931691,  0.92310555,  0.91025371],
       [ 0.80594571,  0.92654583,  0.9140541 ],
       [ 0.81256025,  0.93000133,  0.91788626],
       [ 0.81916181,  0.93347194,  0.92175029],
       [ 0.82575006,  0.93695804,  0.92564657],
       [ 0.83232528,  0.94045981,  0.92957545],
       [ 0.83888775,  0.94397744,  0.93353732],
       [ 0.84543764,  0.94751114,  0.93753265],
       [ 0.85197505,  0.95106112,  0.941562  ],
       [ 0.8585    ,  0.95462762,  0.945626  ],
       [ 0.86501235,  0.95821091,  0.94972539],
       [ 0.87151186,  0.9618113 ,  0.95386106],
       [ 0.87800025,  0.96542842,  0.95803384],
       [ 0.8844782 ,  0.96906219,  0.96224489],
       [ 0.89094225,  0.97271396,  0.96649585],
       [ 0.89739119,  0.9763843 ,  0.97078838],
       [ 0.90382391,  0.98007372,  0.97512442],
       [ 0.91024731,  0.98377983,  0.97950619],
       [ 0.91665032,  0.98750656,  0.9839369 ],
       [ 0.92303137,  0.99125445,  0.98842003],
       [ 0.92939625,  0.99502123,  0.99296039],
       [ 0.93572707,  0.99881317,  0.99756321]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
