
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [21.08555470468832, 30.211106249012431, 45.30336457231769, 32.317002759241092, 13.363934167183317, 6.6952618847926146],
              'yp': [-10.17348576012833, -17.19314079422378, -0.34596871239466509, 20.362013638186966, 19.660048134777412, -0.34596871239466509],
              'min_Jp': 15,
              'max_Jp': 95}

cm_data = [[ 0.21016985,  0.03954451,  0.19182779],
       [ 0.21461467,  0.04095177,  0.19636079],
       [ 0.2190859 ,  0.04229227,  0.20085919],
       [ 0.22358376,  0.04357687,  0.20531978],
       [ 0.22810827,  0.04480735,  0.20973924],
       [ 0.23265927,  0.04598571,  0.21411418],
       [ 0.23723642,  0.04711421,  0.21844117],
       [ 0.24183919,  0.0481953 ,  0.22271676],
       [ 0.24646688,  0.0492317 ,  0.22693751],
       [ 0.25111962,  0.05022438,  0.23110085],
       [ 0.2557958 ,  0.05117776,  0.23520285],
       [ 0.26049376,  0.05209627,  0.2392399 ],
       [ 0.26521219,  0.05298355,  0.24320898],
       [ 0.26994969,  0.05384342,  0.24710725],
       [ 0.27470547,  0.05467845,  0.25093244],
       [ 0.27947749,  0.0554937 ,  0.25468179],
       [ 0.28426368,  0.05629422,  0.25835294],
       [ 0.28906238,  0.05708427,  0.26194399],
       [ 0.2938721 ,  0.05786774,  0.26545341],
       [ 0.29869122,  0.05864882,  0.26887982],
       [ 0.30351759,  0.05943262,  0.27222203],
       [ 0.3083496 ,  0.06022327,  0.27547926],
       [ 0.31318565,  0.06102477,  0.27865101],
       [ 0.31802411,  0.0618412 ,  0.28173701],
       [ 0.32286338,  0.06267647,  0.28473722],
       [ 0.32770204,  0.06353412,  0.28765187],
       [ 0.33253865,  0.06441766,  0.29048138],
       [ 0.3373717 ,  0.06533063,  0.29322641],
       [ 0.34220018,  0.06627552,  0.29588773],
       [ 0.34702297,  0.06725497,  0.29846627],
       [ 0.35183893,  0.06827153,  0.30096313],
       [ 0.35664664,  0.06932816,  0.30337972],
       [ 0.36144565,  0.07042591,  0.30571716],
       [ 0.36623513,  0.07156643,  0.30797685],
       [ 0.37101429,  0.07275116,  0.31016024],
       [ 0.3757819 ,  0.07398223,  0.31226921],
       [ 0.38053766,  0.07525998,  0.31430515],
       [ 0.38528113,  0.07658494,  0.31626957],
       [ 0.39001174,  0.07795772,  0.31816412],
       [ 0.39472899,  0.07937873,  0.31999045],
       [ 0.39943179,  0.08084926,  0.32175089],
       [ 0.40412037,  0.08236834,  0.32344654],
       [ 0.40879433,  0.08393592,  0.32507908],
       [ 0.41345334,  0.08555185,  0.32665019],
       [ 0.41809706,  0.08721588,  0.32816156],
       [ 0.42272484,  0.08892817,  0.32961534],
       [ 0.42733662,  0.09068793,  0.33101294],
       [ 0.43193233,  0.09249438,  0.33235579],
       [ 0.43651174,  0.09434694,  0.33364549],
       [ 0.44107464,  0.09624496,  0.33488365],
       [ 0.44562082,  0.09818778,  0.33607185],
       [ 0.45014991,  0.10017497,  0.33721202],
       [ 0.45466177,  0.10220568,  0.33830564],
       [ 0.45915645,  0.10427891,  0.33935389],
       [ 0.46363379,  0.10639391,  0.34035828],
       [ 0.46809365,  0.1085499 ,  0.34132025],
       [ 0.4725359 ,  0.11074609,  0.34224125],
       [ 0.4769604 ,  0.11298173,  0.3431227 ],
       [ 0.48136696,  0.11525611,  0.34396615],
       [ 0.48575537,  0.11756858,  0.34477325],
       [ 0.4901257 ,  0.11991817,  0.34554491],
       [ 0.49447783,  0.12230418,  0.34628244],
       [ 0.49881166,  0.12472588,  0.34698716],
       [ 0.50312707,  0.12718259,  0.34766035],
       [ 0.50742396,  0.12967363,  0.34830329],
       [ 0.51170221,  0.13219836,  0.34891721],
       [ 0.51596171,  0.13475615,  0.34950336],
       [ 0.52020235,  0.1373464 ,  0.35006302],
       [ 0.52442393,  0.13996859,  0.35059765],
       [ 0.52862645,  0.14262205,  0.35110806],
       [ 0.53280981,  0.14530626,  0.35159543],
       [ 0.53697388,  0.14802071,  0.35206089],
       [ 0.54111857,  0.1507649 ,  0.35250558],
       [ 0.54524373,  0.15353835,  0.35293063],
       [ 0.54934927,  0.15634062,  0.35333715],
       [ 0.55343505,  0.15917128,  0.35372623],
       [ 0.55750095,  0.16202991,  0.35409895],
       [ 0.56154686,  0.16491613,  0.3544564 ],
       [ 0.56557263,  0.16782957,  0.35479964],
       [ 0.56957812,  0.17076987,  0.35512983],
       [ 0.5735632 ,  0.1737367 ,  0.35544803],
       [ 0.57752776,  0.17672973,  0.35575514],
       [ 0.58147165,  0.17974865,  0.3560522 ],
       [ 0.58539474,  0.1827932 ,  0.35634024],
       [ 0.58929687,  0.18586309,  0.35662027],
       [ 0.59317789,  0.18895806,  0.35689332],
       [ 0.59703766,  0.19207788,  0.35716039],
       [ 0.60087602,  0.19522231,  0.3574225 ],
       [ 0.6046928 ,  0.19839113,  0.35768064],
       [ 0.60848785,  0.20158414,  0.35793582],
       [ 0.61226101,  0.20480113,  0.35818905],
       [ 0.6160121 ,  0.20804194,  0.35844131],
       [ 0.61974095,  0.21130636,  0.35869362],
       [ 0.62344739,  0.21459425,  0.35894696],
       [ 0.62713124,  0.21790545,  0.35920234],
       [ 0.63079232,  0.22123978,  0.35946082],
       [ 0.63443045,  0.22459712,  0.35972333],
       [ 0.63804543,  0.22797733,  0.35999087],
       [ 0.64163709,  0.23138029,  0.36026444],
       [ 0.64520521,  0.23480586,  0.36054506],
       [ 0.64874962,  0.23825394,  0.36083374],
       [ 0.65227011,  0.24172442,  0.3611315 ],
       [ 0.65576647,  0.24521717,  0.36143936],
       [ 0.65923851,  0.2487321 ,  0.36175834],
       [ 0.66268602,  0.2522691 ,  0.36208949],
       [ 0.66610878,  0.25582809,  0.36243385],
       [ 0.66950659,  0.25940895,  0.36279245],
       [ 0.67287923,  0.26301161,  0.36316636],
       [ 0.67622649,  0.26663597,  0.36355664],
       [ 0.67954814,  0.27028193,  0.36396435],
       [ 0.68284398,  0.27394941,  0.36439057],
       [ 0.68611379,  0.27763833,  0.3648364 ],
       [ 0.68935733,  0.28134859,  0.36530291],
       [ 0.69257439,  0.2850801 ,  0.36579122],
       [ 0.69576475,  0.28883279,  0.36630243],
       [ 0.69892817,  0.29260655,  0.36683767],
       [ 0.70206446,  0.2964013 ,  0.36739806],
       [ 0.70517337,  0.30021694,  0.36798477],
       [ 0.70825469,  0.30405337,  0.36859892],
       [ 0.7113082 ,  0.30791049,  0.3692417 ],
       [ 0.71433368,  0.31178821,  0.36991426],
       [ 0.71733092,  0.31568641,  0.37061779],
       [ 0.72029971,  0.31960498,  0.37135348],
       [ 0.72323984,  0.3235438 ,  0.37212252],
       [ 0.7261511 ,  0.32750276,  0.37292613],
       [ 0.72903329,  0.33148173,  0.37376551],
       [ 0.73188621,  0.33548058,  0.37464189],
       [ 0.73470969,  0.33949916,  0.3755565 ],
       [ 0.73750352,  0.34353734,  0.37651057],
       [ 0.74026755,  0.34759495,  0.37750535],
       [ 0.7430016 ,  0.35167184,  0.37854207],
       [ 0.7457055 ,  0.35576786,  0.37962197],
       [ 0.74837911,  0.35988281,  0.38074631],
       [ 0.75102229,  0.3640165 ,  0.38191635],
       [ 0.75363493,  0.36816873,  0.38313335],
       [ 0.75621691,  0.37233931,  0.38439856],
       [ 0.75876812,  0.37652801,  0.38571321],
       [ 0.76128849,  0.3807346 ,  0.38707857],
       [ 0.76377795,  0.38495885,  0.38849585],
       [ 0.76623644,  0.3892005 ,  0.38996629],
       [ 0.76866393,  0.39345929,  0.39149111],
       [ 0.7710604 ,  0.39773496,  0.39307151],
       [ 0.77342586,  0.4020272 ,  0.39470867],
       [ 0.77576034,  0.40633573,  0.39640377],
       [ 0.77806389,  0.41066024,  0.39815796],
       [ 0.78033657,  0.41500039,  0.39997236],
       [ 0.78257849,  0.41935586,  0.40184808],
       [ 0.78478978,  0.42372629,  0.4037862 ],
       [ 0.78697061,  0.42811128,  0.40578779],
       [ 0.78912116,  0.43251048,  0.40785383],
       [ 0.79124162,  0.43692349,  0.4099853 ],
       [ 0.79333223,  0.44134993,  0.41218313],
       [ 0.79539328,  0.44578937,  0.41444822],
       [ 0.79742505,  0.45024139,  0.41678142],
       [ 0.79942789,  0.45470555,  0.41918351],
       [ 0.80140216,  0.4591814 ,  0.42165525],
       [ 0.80334827,  0.46366847,  0.42419733],
       [ 0.80526666,  0.4681663 ,  0.4268104 ],
       [ 0.80715779,  0.47267442,  0.42949502],
       [ 0.80902218,  0.47719232,  0.43225171],
       [ 0.81086036,  0.48171951,  0.43508094],
       [ 0.81267292,  0.48625549,  0.43798308],
       [ 0.81446046,  0.49079975,  0.44095845],
       [ 0.81622364,  0.49535178,  0.44400732],
       [ 0.81796312,  0.49991105,  0.44712984],
       [ 0.81967964,  0.50447704,  0.45032615],
       [ 0.82137392,  0.50904924,  0.45359626],
       [ 0.82304675,  0.51362711,  0.45694014],
       [ 0.82469893,  0.51821013,  0.46035769],
       [ 0.82633131,  0.52279779,  0.46384871],
       [ 0.82794474,  0.52738957,  0.46741294],
       [ 0.82954011,  0.53198495,  0.47105006],
       [ 0.83111839,  0.5365834 ,  0.47475965],
       [ 0.83268045,  0.54118446,  0.47854124],
       [ 0.83422723,  0.54578764,  0.48239431],
       [ 0.83575969,  0.55039249,  0.48631826],
       [ 0.8372788 ,  0.55499854,  0.49031241],
       [ 0.83878567,  0.55960525,  0.49437599],
       [ 0.84028128,  0.56421223,  0.49850822],
       [ 0.84176662,  0.56881906,  0.50270825],
       [ 0.84324271,  0.57342533,  0.50697519],
       [ 0.84471059,  0.57803064,  0.51130808],
       [ 0.84617129,  0.58263463,  0.51570593],
       [ 0.84762583,  0.58723694,  0.52016769],
       [ 0.84907523,  0.59183722,  0.52469228],
       [ 0.85052051,  0.59643518,  0.5292786 ],
       [ 0.85196267,  0.60103051,  0.53392549],
       [ 0.8534027 ,  0.60562295,  0.5386318 ],
       [ 0.8548416 ,  0.61021223,  0.54339633],
       [ 0.85628033,  0.61479814,  0.54821788],
       [ 0.85771982,  0.61938047,  0.55309522],
       [ 0.85916102,  0.62395902,  0.55802711],
       [ 0.86060484,  0.62853364,  0.56301232],
       [ 0.86205215,  0.63310419,  0.56804961],
       [ 0.86350407,  0.63767041,  0.57313753],
       [ 0.8649632 ,  0.64223136,  0.57827343],
       [ 0.86642859,  0.64678784,  0.58345741],
       [ 0.86790102,  0.6513398 ,  0.58868825],
       [ 0.86938126,  0.6558872 ,  0.5939647 ],
       [ 0.87087005,  0.66043003,  0.59928556],
       [ 0.8723681 ,  0.66496829,  0.60464962],
       [ 0.87387608,  0.66950201,  0.61005572],
       [ 0.87539623,  0.67403048,  0.61550125],
       [ 0.87692983,  0.6785535 ,  0.62098438],
       [ 0.87847551,  0.68307205,  0.62650576],
       [ 0.88003382,  0.68758622,  0.63206429],
       [ 0.88160531,  0.69209612,  0.63765889],
       [ 0.88319046,  0.69660187,  0.64328851],
       [ 0.88479274,  0.70110233,  0.64894916],
       [ 0.88641175,  0.70559803,  0.65464056],
       [ 0.88804606,  0.71008996,  0.66036356],
       [ 0.88969605,  0.71457828,  0.66611721],
       [ 0.89136208,  0.7190632 ,  0.67190058],
       [ 0.89304867,  0.72354319,  0.67770831],
       [ 0.89475395,  0.7280194 ,  0.68354173],
       [ 0.89647647,  0.73249276,  0.68940179],
       [ 0.89821649,  0.73696352,  0.69528764],
       [ 0.89997678,  0.7414309 ,  0.70119564],
       [ 0.90175945,  0.74589445,  0.70712279],
       [ 0.90356049,  0.75035609,  0.71307289],
       [ 0.90538007,  0.75481609,  0.71904518],
       [ 0.90722171,  0.75927343,  0.725035  ],
       [ 0.90908654,  0.76372807,  0.73104032],
       [ 0.91097051,  0.76818186,  0.73706516],
       [ 0.9128737 ,  0.77263512,  0.74310878],
       [ 0.91480293,  0.77708566,  0.7491624 ],
       [ 0.91675328,  0.78153568,  0.75523109],
       [ 0.91872321,  0.78598603,  0.76131597],
       [ 0.92071639,  0.79043577,  0.76741189],
       [ 0.92273463,  0.79488459,  0.77351578],
       [ 0.92477273,  0.79933469,  0.77963321],
       [ 0.92683244,  0.80378578,  0.78576122],
       [ 0.92891982,  0.80823613,  0.79189144],
       [ 0.93102727,  0.8126887 ,  0.79803242],
       [ 0.933156  ,  0.81714342,  0.80418181],
       [ 0.93531371,  0.82159803,  0.81032902],
       [ 0.9374918 ,  0.82605579,  0.81648394],
       [ 0.93969221,  0.83051638,  0.82264326],
       [ 0.94192183,  0.83497787,  0.82879732],
       [ 0.94417241,  0.83944334,  0.8349557 ],
       [ 0.94644787,  0.84391183,  0.84111257],
       [ 0.94875192,  0.84838248,  0.84726236],
       [ 0.95107799,  0.85285774,  0.85341272],
       [ 0.95343323,  0.85733565,  0.85955382],
       [ 0.95581592,  0.86181708,  0.86568729],
       [ 0.95822248,  0.86630344,  0.87181729],
       [ 0.96066438,  0.87079144,  0.8779288 ],
       [ 0.96313246,  0.8752842 ,  0.8840335 ],
       [ 0.96563151,  0.87978049,  0.89012534],
       [ 0.96816559,  0.88427927,  0.89619949],
       [ 0.97072899,  0.88878251,  0.90226392],
       [ 0.97333289,  0.89328695,  0.90830522],
       [ 0.9759707 ,  0.89779475,  0.91433313],
       [ 0.97864706,  0.9023046 ,  0.92034327],
       [ 0.98136578,  0.90681543,  0.92633268],
       [ 0.98412192,  0.91132876,  0.93231002]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
