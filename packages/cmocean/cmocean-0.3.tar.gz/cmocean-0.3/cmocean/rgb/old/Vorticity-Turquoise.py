
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-3.3554044380815924, -37.476139346218048, -30.586375566690492, -0.07456454306844762],
              'yp': [-18.471128608923863, -4.6916010498687513, 2.854330708661422, 15.649606299212593],
              'min_Jp': 15.2040816327,
              'max_Jp': 95}

cm_data = [[ 0.07836481,  0.12279702,  0.22842919],
       [ 0.07967071,  0.12636649,  0.23079044],
       [ 0.08097275,  0.12991579,  0.23315871],
       [ 0.08226265,  0.13344887,  0.23553029],
       [ 0.08354434,  0.13696537,  0.23790712],
       [ 0.08481606,  0.14046683,  0.24028854],
       [ 0.08607487,  0.14395501,  0.24267347],
       [ 0.08732624,  0.14742898,  0.24506431],
       [ 0.08855963,  0.15089273,  0.24745696],
       [ 0.08978468,  0.15434395,  0.24985543],
       [ 0.09099389,  0.15778555,  0.25225693],
       [ 0.09218963,  0.16121738,  0.25466255],
       [ 0.09337291,  0.16463968,  0.25707278],
       [ 0.09453669,  0.16805499,  0.25948524],
       [ 0.09568886,  0.17146152,  0.26190287],
       [ 0.09682103,  0.17486206,  0.26432289],
       [ 0.09793717,  0.17825591,  0.26674682],
       [ 0.09903774,  0.18164333,  0.26917487],
       [ 0.10011511,  0.18502673,  0.27160475],
       [ 0.10117743,  0.18840427,  0.27403911],
       [ 0.1022177 ,  0.19177809,  0.2764759 ],
       [ 0.10323697,  0.19514822,  0.27891555],
       [ 0.10423909,  0.19851397,  0.28135921],
       [ 0.10521327,  0.20187829,  0.28380393],
       [ 0.10616797,  0.20523931,  0.28625212],
       [ 0.10710124,  0.20859776,  0.28870326],
       [ 0.10800557,  0.21195565,  0.29115546],
       [ 0.10888901,  0.21531126,  0.2936108 ],
       [ 0.10974676,  0.21866591,  0.29606809],
       [ 0.11057526,  0.2220206 ,  0.29852648],
       [ 0.1113806 ,  0.2253741 ,  0.30098743],
       [ 0.11215692,  0.22872788,  0.30344955],
       [ 0.11290262,  0.23208243,  0.30591248],
       [ 0.1136228 ,  0.23543677,  0.30837731],
       [ 0.11431179,  0.23879225,  0.31084278],
       [ 0.1149675 ,  0.24214942,  0.3133084 ],
       [ 0.11559524,  0.24550726,  0.31577524],
       [ 0.11619102,  0.24886671,  0.31824239],
       [ 0.11674934,  0.25222896,  0.32070873],
       [ 0.11727716,  0.25559268,  0.32317552],
       [ 0.11777366,  0.25895811,  0.3256425 ],
       [ 0.11822717,  0.26232761,  0.32810744],
       [ 0.1186473 ,  0.26569933,  0.33057199],
       [ 0.11903341,  0.26907346,  0.33303593],
       [ 0.11937956,  0.27245116,  0.33549808],
       [ 0.11968397,  0.27583278,  0.33795806],
       [ 0.11995153,  0.27921742,  0.34041655],
       [ 0.12018131,  0.28260528,  0.34287327],
       [ 0.120365  ,  0.28599786,  0.34532672],
       [ 0.12050552,  0.28939461,  0.34777725],
       [ 0.1206052 ,  0.2927951 ,  0.35022508],
       [ 0.12066305,  0.29619951,  0.35266989],
       [ 0.12067237,  0.29960895,  0.3551105 ],
       [ 0.12063298,  0.30302338,  0.35754673],
       [ 0.12054844,  0.30644217,  0.35997896],
       [ 0.12041763,  0.30986545,  0.36240684],
       [ 0.12023939,  0.31329336,  0.36483002],
       [ 0.12000433,  0.31672733,  0.36724696],
       [ 0.11971802,  0.32016635,  0.36965831],
       [ 0.11938063,  0.32361034,  0.37206387],
       [ 0.11899086,  0.32705939,  0.37446329],
       [ 0.11854741,  0.33051361,  0.37685617],
       [ 0.11804749,  0.33397329,  0.37924191],
       [ 0.11748434,  0.33743929,  0.3816194 ],
       [ 0.11686346,  0.34091066,  0.38398917],
       [ 0.11618339,  0.34438746,  0.3863508 ],
       [ 0.11544266,  0.34786977,  0.38870386],
       [ 0.11463972,  0.35135764,  0.39104791],
       [ 0.11377303,  0.3548511 ,  0.39338249],
       [ 0.11284097,  0.3583502 ,  0.39570715],
       [ 0.11184191,  0.36185495,  0.3980214 ],
       [ 0.11077168,  0.36536569,  0.40032443],
       [ 0.10962935,  0.3688823 ,  0.40261585],
       [ 0.10841547,  0.37240449,  0.40489542],
       [ 0.10712837,  0.37593224,  0.40716263],
       [ 0.10576636,  0.3794655 ,  0.40941694],
       [ 0.10432778,  0.38300424,  0.41165778],
       [ 0.10281095,  0.38654837,  0.41388459],
       [ 0.10121427,  0.39009782,  0.41609678],
       [ 0.09953617,  0.39365248,  0.41829374],
       [ 0.09777518,  0.39721223,  0.42047486],
       [ 0.09592992,  0.40077692,  0.42263949],
       [ 0.09399918,  0.4043464 ,  0.42478697],
       [ 0.09198196,  0.40792048,  0.42691663],
       [ 0.08987177,  0.41149945,  0.42902708],
       [ 0.08767063,  0.41508282,  0.4311179 ],
       [ 0.08538008,  0.41867016,  0.43318856],
       [ 0.08300049,  0.42226117,  0.43523829],
       [ 0.08053293,  0.42585551,  0.43726631],
       [ 0.07797926,  0.42945279,  0.43927183],
       [ 0.07534241,  0.43305261,  0.44125403],
       [ 0.07261048,  0.43665567,  0.44321019],
       [ 0.06979866,  0.44026069,  0.44514058],
       [ 0.06691874,  0.4438668 ,  0.44704482],
       [ 0.06398095,  0.44747338,  0.44892204],
       [ 0.0609754 ,  0.45108122,  0.45076866],
       [ 0.05793226,  0.45468864,  0.45258531],
       [ 0.05488068,  0.45829437,  0.45437193],
       [ 0.05182064,  0.46189909,  0.45612441],
       [ 0.04880086,  0.46550095,  0.45784344],
       [ 0.04586759,  0.46909872,  0.45952842],
       [ 0.04304489,  0.47269272,  0.461175  ],
       [ 0.04043312,  0.47627987,  0.4627864 ],
       [ 0.03806381,  0.47986113,  0.46435595],
       [ 0.03613231,  0.48343297,  0.46588797],
       [ 0.0346605 ,  0.48699565,  0.46737655],
       [ 0.03373957,  0.4905463 ,  0.46882417],
       [ 0.03343093,  0.49408357,  0.47022887],
       [ 0.03380178,  0.49760598,  0.47158853],
       [ 0.0349473 ,  0.50111077,  0.47290523],
       [ 0.036949  ,  0.50459599,  0.47417839],
       [ 0.03988647,  0.50805998,  0.47540588],
       [ 0.04372786,  0.51149978,  0.47659106],
       [ 0.04836828,  0.51491314,  0.47773507],
       [ 0.05374697,  0.51829773,  0.47883973],
       [ 0.05978698,  0.52165133,  0.4799076 ],
       [ 0.06640852,  0.5249718 ,  0.480942  ],
       [ 0.07353319,  0.52825723,  0.48194689],
       [ 0.08108643,  0.53150598,  0.48292703],
       [ 0.0889984 ,  0.53471679,  0.48388793],
       [ 0.09720473,  0.53788883,  0.48483526],
       [ 0.10564663,  0.54102172,  0.48577497],
       [ 0.11427082,  0.54411557,  0.48671306],
       [ 0.12302944,  0.54717095,  0.48765544],
       [ 0.13187993,  0.55018887,  0.48860775],
       [ 0.14078497,  0.55317068,  0.48957517],
       [ 0.14971229,  0.55611809,  0.4905623 ],
       [ 0.1586345 ,  0.55903299,  0.49157315],
       [ 0.16752882,  0.56191746,  0.49261102],
       [ 0.1763767 ,  0.56477364,  0.49367856],
       [ 0.18516094,  0.56760387,  0.49477876],
       [ 0.1938692 ,  0.5704104 ,  0.49591339],
       [ 0.20249522,  0.57319518,  0.49708249],
       [ 0.2110333 ,  0.57596018,  0.49828642],
       [ 0.21947443,  0.57870773,  0.49952726],
       [ 0.22781671,  0.58143964,  0.50080465],
       [ 0.23606393,  0.58415712,  0.50211644],
       [ 0.24420704,  0.58686265,  0.50346545],
       [ 0.25225316,  0.58955707,  0.50484871],
       [ 0.26020167,  0.59224194,  0.50626623],
       [ 0.26805208,  0.59491881,  0.50771805],
       [ 0.27581034,  0.59758841,  0.509202  ],
       [ 0.28347488,  0.60025232,  0.51071866],
       [ 0.29105062,  0.60291126,  0.51226633],
       [ 0.29854166,  0.60556595,  0.51384365],
       [ 0.30594461,  0.60821811,  0.51545193],
       [ 0.31327153,  0.61086724,  0.51708702],
       [ 0.32051661,  0.6135153 ,  0.51875114],
       [ 0.32768631,  0.61616245,  0.52044213],
       [ 0.33478684,  0.61880878,  0.52215795],
       [ 0.34181526,  0.62145573,  0.52389978],
       [ 0.34877465,  0.6241038 ,  0.52566668],
       [ 0.35567178,  0.62675282,  0.52745639],
       [ 0.36250868,  0.62940329,  0.52926833],
       [ 0.36928343,  0.63205638,  0.53110329],
       [ 0.37599937,  0.63471235,  0.53296022],
       [ 0.38266161,  0.63737108,  0.53483741],
       [ 0.38927204,  0.64003297,  0.5367343 ],
       [ 0.39583249,  0.64269837,  0.53865031],
       [ 0.40234478,  0.64536763,  0.54058488],
       [ 0.40880743,  0.64804169,  0.54253862],
       [ 0.41522518,  0.65072031,  0.54450991],
       [ 0.42160039,  0.65340361,  0.54649795],
       [ 0.42793469,  0.65609187,  0.5485022 ],
       [ 0.43422965,  0.65878533,  0.55052215],
       [ 0.44048681,  0.66148421,  0.55255725],
       [ 0.44670768,  0.66418873,  0.554607  ],
       [ 0.45289372,  0.66689909,  0.55667087],
       [ 0.45904636,  0.66961547,  0.55874836],
       [ 0.46516699,  0.67233804,  0.56083896],
       [ 0.47125697,  0.67506697,  0.56294215],
       [ 0.47731763,  0.67780241,  0.56505745],
       [ 0.48335025,  0.68054448,  0.56718435],
       [ 0.4893561 ,  0.68329332,  0.56932236],
       [ 0.49533643,  0.68604906,  0.57147098],
       [ 0.50129243,  0.68881179,  0.57362973],
       [ 0.50722529,  0.69158161,  0.57579811],
       [ 0.51313617,  0.69435862,  0.57797563],
       [ 0.5190262 ,  0.6971429 ,  0.58016182],
       [ 0.52489651,  0.69993453,  0.58235617],
       [ 0.53074818,  0.70273356,  0.58455821],
       [ 0.53658229,  0.70554006,  0.58676745],
       [ 0.54239991,  0.70835407,  0.58898341],
       [ 0.54820208,  0.71117564,  0.5912056 ],
       [ 0.55398983,  0.71400481,  0.59343353],
       [ 0.5597616 ,  0.71684226,  0.59566782],
       [ 0.56552086,  0.71968738,  0.59790695],
       [ 0.57126863,  0.72254019,  0.60015044],
       [ 0.5770059 ,  0.72540069,  0.6023978 ],
       [ 0.58273365,  0.72826888,  0.60464854],
       [ 0.58845286,  0.73114475,  0.60690218],
       [ 0.5941645 ,  0.73402827,  0.60915824],
       [ 0.59986832,  0.73691976,  0.61141679],
       [ 0.6055642 ,  0.73981945,  0.61367787],
       [ 0.61125534,  0.74272673,  0.61593999],
       [ 0.6169427 ,  0.74564154,  0.61820267],
       [ 0.62262723,  0.74856383,  0.62046543],
       [ 0.62830989,  0.75149352,  0.62272781],
       [ 0.63398965,  0.75443109,  0.62499033],
       [ 0.63966735,  0.7573765 ,  0.6272526 ],
       [ 0.645346  ,  0.76032909,  0.62951319],
       [ 0.65102653,  0.76328877,  0.63177165],
       [ 0.65670992,  0.76625543,  0.63402754],
       [ 0.66239505,  0.76922954,  0.63628152],
       [ 0.66808249,  0.7722111 ,  0.6385334 ],
       [ 0.6737756 ,  0.77519929,  0.64078155],
       [ 0.67947533,  0.77819398,  0.64302558],
       [ 0.68518261,  0.78119503,  0.6452651 ],
       [ 0.69089386,  0.78420361,  0.6475023 ],
       [ 0.69661424,  0.78721834,  0.64973453],
       [ 0.70234496,  0.79023897,  0.65196133],
       [ 0.70808697,  0.79326535,  0.65418238],
       [ 0.71383719,  0.79629847,  0.65639973],
       [ 0.71959936,  0.79933733,  0.65861155],
       [ 0.72537552,  0.80238141,  0.66081693],
       [ 0.73116657,  0.80543052,  0.66301568],
       [ 0.73696863,  0.8084859 ,  0.66521048],
       [ 0.74278663,  0.81154615,  0.6673988 ],
       [ 0.74862209,  0.81461088,  0.6695801 ],
       [ 0.75447483,  0.81768019,  0.67175492],
       [ 0.76034198,  0.82075501,  0.67392552],
       [ 0.76622902,  0.82383374,  0.67608897],
       [ 0.77213673,  0.82691617,  0.67824525],
       [ 0.77806193,  0.83000332,  0.68039691],
       [ 0.78400715,  0.83309445,  0.68254288],
       [ 0.78997519,  0.83618872,  0.68468191],
       [ 0.79596507,  0.83928648,  0.68681519],
       [ 0.80197442,  0.84238849,  0.68894484],
       [ 0.80800849,  0.84549313,  0.69106802],
       [ 0.81406788,  0.84860022,  0.6931849 ],
       [ 0.82014657,  0.85171171,  0.69530007],
       [ 0.82625157,  0.85482538,  0.69740949],
       [ 0.83238342,  0.85794107,  0.69951337],
       [ 0.8385369 ,  0.86106048,  0.7016158 ],
       [ 0.84471689,  0.86418205,  0.70371412],
       [ 0.85092498,  0.86730528,  0.70580783],
       [ 0.8571562 ,  0.87043181,  0.70790084],
       [ 0.86341437,  0.87356041,  0.70999115],
       [ 0.86970163,  0.87669039,  0.71207787],
       [ 0.87601272,  0.87982351,  0.71416509],
       [ 0.8823515 ,  0.88295852,  0.71625073],
       [ 0.88872009,  0.88609472,  0.71833384],
       [ 0.89511243,  0.88923418,  0.72041903],
       [ 0.9015335 ,  0.89237524,  0.72250339],
       [ 0.9079849 ,  0.89551739,  0.72458627],
       [ 0.91445924,  0.89866319,  0.72667314],
       [ 0.92096372,  0.90181022,  0.7287595 ],
       [ 0.92749775,  0.90495868,  0.73084614],
       [ 0.93405547,  0.9081107 ,  0.73293741],
       [ 0.94064401,  0.9112638 ,  0.73502881],
       [ 0.94726027,  0.91441913,  0.73712277],
       [ 0.95390223,  0.91757746,  0.73922096],
       [ 0.96057519,  0.92073696,  0.74132007],
       [ 0.96727344,  0.92389972,  0.74342422],
       [ 0.97399988,  0.92706477,  0.74553169],
       [ 0.98075746,  0.93023111,  0.74764072]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
