
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [-9.21329491069011, -24.895065050282511, -30.264905310379675, -33.567972539269306, -0.16121776687575107, -1.7673117463177732, -0.16121776687575107],
              'yp': [13.043267365153298, 9.9944933920704671, 19.494567326348488, 36.334434654919221, 43.080029368575595, 24.12812041116004, 0.35792951541850471],
              'min_Jp': 15.0,
              'max_Jp': 98.8723570869}

cm_data = [[ 0.08929866,  0.13741248,  0.03452094],
       [ 0.09005217,  0.14117184,  0.0376479 ],
       [ 0.09075209,  0.14492592,  0.04087516],
       [ 0.09139725,  0.14867548,  0.04406528],
       [ 0.09198634,  0.15242126,  0.04720839],
       [ 0.09251494,  0.15616466,  0.05030546],
       [ 0.0929792 ,  0.15990688,  0.05335692],
       [ 0.09338314,  0.1636472 ,  0.05636219],
       [ 0.09372499,  0.16738628,  0.05932128],
       [ 0.09400292,  0.1711247 ,  0.06223402],
       [ 0.09421496,  0.17486304,  0.06510011],
       [ 0.09435805,  0.17860204,  0.06791914],
       [ 0.09442644,  0.18234295,  0.07069049],
       [ 0.09442302,  0.18608516,  0.07341338],
       [ 0.09434551,  0.18982911,  0.07608706],
       [ 0.09419157,  0.19357519,  0.07871068],
       [ 0.09395878,  0.19732377,  0.08128331],
       [ 0.09364469,  0.20107517,  0.08380393],
       [ 0.09324677,  0.2048297 ,  0.08627141],
       [ 0.09276244,  0.20858759,  0.08868457],
       [ 0.09218912,  0.21234906,  0.09104215],
       [ 0.09152414,  0.21611426,  0.09334279],
       [ 0.09076484,  0.21988331,  0.09558509],
       [ 0.08990854,  0.22365628,  0.09776757],
       [ 0.08895255,  0.22743321,  0.0998887 ],
       [ 0.08789419,  0.23121406,  0.10194688],
       [ 0.08673077,  0.23499877,  0.10394046],
       [ 0.08545965,  0.23878721,  0.10586777],
       [ 0.08407823,  0.24257921,  0.10772706],
       [ 0.08258397,  0.24637455,  0.10951659],
       [ 0.08097441,  0.25017295,  0.11123455],
       [ 0.07924719,  0.25397408,  0.11287913],
       [ 0.07740008,  0.25777755,  0.11444851],
       [ 0.07542695,  0.26158344,  0.11593993],
       [ 0.07332668,  0.26539112,  0.11735164],
       [ 0.07110037,  0.26919969,  0.11868244],
       [ 0.06874672,  0.27300854,  0.1199305 ],
       [ 0.06626486,  0.27681701,  0.12109406],
       [ 0.06365435,  0.2806244 ,  0.12217138],
       [ 0.06090584,  0.28443091,  0.12315829],
       [ 0.05802852,  0.28823482,  0.12405521],
       [ 0.05502501,  0.29203519,  0.12486077],
       [ 0.05189843,  0.29583112,  0.12557348],
       [ 0.04864411,  0.29962245,  0.12618941],
       [ 0.04527463,  0.30340762,  0.12670883],
       [ 0.04180204,  0.30718534,  0.12713129],
       [ 0.03823402,  0.31095484,  0.12745473],
       [ 0.03473941,  0.31471541,  0.12767642],
       [ 0.03139368,  0.31846524,  0.12779813],
       [ 0.02822486,  0.32220336,  0.12781851],
       [ 0.02525737,  0.32592912,  0.12773448],
       [ 0.02253342,  0.32964067,  0.12754873],
       [ 0.02008324,  0.33333709,  0.12725975],
       [ 0.01793883,  0.33701742,  0.12686618],
       [ 0.01614163,  0.34068006,  0.12637055],
       [ 0.01472279,  0.34432423,  0.12577074],
       [ 0.0137218 ,  0.3479486 ,  0.12506833],
       [ 0.01317683,  0.351552  ,  0.12426453],
       [ 0.0131218 ,  0.35513362,  0.12335786],
       [ 0.01359823,  0.35869212,  0.12235181],
       [ 0.01464097,  0.36222671,  0.12124556],
       [ 0.01628854,  0.36573636,  0.12004135],
       [ 0.01857761,  0.36922018,  0.11874051],
       [ 0.02154394,  0.37267741,  0.11734384],
       [ 0.02522382,  0.3761072 ,  0.11585416],
       [ 0.02965131,  0.37950894,  0.1142718 ],
       [ 0.03486062,  0.38288195,  0.11259986],
       [ 0.0408756 ,  0.3862257 ,  0.11083965],
       [ 0.04728516,  0.38953971,  0.10899342],
       [ 0.05389608,  0.39282357,  0.10706323],
       [ 0.06067062,  0.39607697,  0.10505127],
       [ 0.06757894,  0.39929964,  0.1029595 ],
       [ 0.07459687,  0.4024914 ,  0.10079075],
       [ 0.08170553,  0.40565216,  0.09854637],
       [ 0.08888861,  0.40878187,  0.09622969],
       [ 0.09613365,  0.41188057,  0.09384205],
       [ 0.10342952,  0.41494834,  0.09138618],
       [ 0.11076695,  0.41798536,  0.08886457],
       [ 0.11813889,  0.42099181,  0.08627836],
       [ 0.12553708,  0.42396803,  0.08363214],
       [ 0.13295752,  0.42691425,  0.08092553],
       [ 0.14039358,  0.42983093,  0.07816309],
       [ 0.14784162,  0.43271843,  0.07534601],
       [ 0.15529796,  0.43557717,  0.07247632],
       [ 0.16275743,  0.43840778,  0.06955892],
       [ 0.17021905,  0.44121059,  0.06659338],
       [ 0.17767803,  0.44398632,  0.06358545],
       [ 0.18513273,  0.44673548,  0.06053698],
       [ 0.19258171,  0.44945854,  0.05745018],
       [ 0.20002002,  0.45215648,  0.05433337],
       [ 0.20744865,  0.45482957,  0.05118671],
       [ 0.21486481,  0.4574786 ,  0.04801715],
       [ 0.2222658 ,  0.4601044 ,  0.04483271],
       [ 0.22965219,  0.46270734,  0.04163759],
       [ 0.23702099,  0.46528837,  0.03843912],
       [ 0.24437105,  0.46784816,  0.03537165],
       [ 0.25170258,  0.47038722,  0.0324719 ],
       [ 0.25901272,  0.47290655,  0.029751  ],
       [ 0.26630097,  0.47540677,  0.0272163 ],
       [ 0.27356746,  0.47788844,  0.02487462],
       [ 0.28080971,  0.48035257,  0.02273692],
       [ 0.28802713,  0.48279985,  0.02081152],
       [ 0.29521996,  0.48523081,  0.01910596],
       [ 0.30238638,  0.48764642,  0.01763101],
       [ 0.30952501,  0.49004754,  0.01639701],
       [ 0.31663647,  0.49243466,  0.01541216],
       [ 0.3237197 ,  0.49480859,  0.01468726],
       [ 0.33077208,  0.49717054,  0.0142353 ],
       [ 0.33779475,  0.49952086,  0.01406525],
       [ 0.34478684,  0.50186038,  0.01418906],
       [ 0.35174625,  0.50419019,  0.01462036],
       [ 0.35867261,  0.50651103,  0.01537144],
       [ 0.36556574,  0.50882355,  0.01645514],
       [ 0.37242467,  0.51112863,  0.01788563],
       [ 0.37924673,  0.51342759,  0.01967894],
       [ 0.38603273,  0.51572086,  0.02184899],
       [ 0.39278165,  0.51800933,  0.0244119 ],
       [ 0.39949208,  0.52029402,  0.02738464],
       [ 0.40616206,  0.52257613,  0.03078497],
       [ 0.41279182,  0.52485622,  0.03463035],
       [ 0.41938027,  0.52713527,  0.0389397 ],
       [ 0.4259259 ,  0.52941433,  0.04360424],
       [ 0.43242666,  0.53169469,  0.04841506],
       [ 0.43888271,  0.53397694,  0.05336441],
       [ 0.44529287,  0.53626208,  0.0584389 ],
       [ 0.45165601,  0.53855112,  0.0636275 ],
       [ 0.45796923,  0.54084563,  0.06892049],
       [ 0.46423302,  0.54314612,  0.07431069],
       [ 0.47044628,  0.54545358,  0.07979191],
       [ 0.47660789,  0.54776904,  0.08535894],
       [ 0.48271617,  0.55009372,  0.09100703],
       [ 0.48876935,  0.55242887,  0.09673181],
       [ 0.49476767,  0.55477507,  0.10253081],
       [ 0.50071015,  0.5571333 ,  0.10840126],
       [ 0.50659588,  0.55950452,  0.11434064],
       [ 0.512424  ,  0.56188969,  0.12034672],
       [ 0.5181919 ,  0.56429041,  0.12641539],
       [ 0.52390071,  0.56670689,  0.13254648],
       [ 0.52954983,  0.56913999,  0.13873815],
       [ 0.53513876,  0.57159053,  0.14498864],
       [ 0.54066707,  0.57405927,  0.15129621],
       [ 0.54613443,  0.57654696,  0.15765915],
       [ 0.55154032,  0.57905442,  0.16407524],
       [ 0.55688379,  0.58158265,  0.1705413 ],
       [ 0.56216608,  0.58413174,  0.17705749],
       [ 0.56738731,  0.58670221,  0.18362213],
       [ 0.57254771,  0.58929455,  0.19023352],
       [ 0.57764761,  0.5919092 ,  0.19688998],
       [ 0.58268746,  0.59454652,  0.2035898 ],
       [ 0.5876678 ,  0.59720684,  0.21033129],
       [ 0.59258926,  0.59989044,  0.21711278],
       [ 0.59745258,  0.60259752,  0.22393258],
       [ 0.60225858,  0.60532828,  0.23078906],
       [ 0.60700816,  0.60808281,  0.23768059],
       [ 0.6117023 ,  0.61086121,  0.24460557],
       [ 0.61634203,  0.61366351,  0.25156247],
       [ 0.62092848,  0.61648969,  0.25854979],
       [ 0.6254628 ,  0.61933971,  0.26556606],
       [ 0.6299462 ,  0.62221348,  0.27260989],
       [ 0.63437993,  0.62511089,  0.27967995],
       [ 0.63876528,  0.6280318 ,  0.28677497],
       [ 0.64310355,  0.63097602,  0.29389373],
       [ 0.64739608,  0.63394338,  0.30103509],
       [ 0.6516442 ,  0.63693364,  0.30819799],
       [ 0.65584927,  0.63994657,  0.31538141],
       [ 0.66001263,  0.64298193,  0.32258442],
       [ 0.66413565,  0.64603945,  0.32980615],
       [ 0.66821965,  0.64911887,  0.33704578],
       [ 0.67226521,  0.65222056,  0.34429594],
       [ 0.6762744 ,  0.65534368,  0.35156112],
       [ 0.68024861,  0.65848785,  0.35884136],
       [ 0.68418916,  0.66165278,  0.36613611],
       [ 0.68809731,  0.66483816,  0.37344484],
       [ 0.69197431,  0.66804371,  0.38076709],
       [ 0.69582116,  0.67126942,  0.38809867],
       [ 0.69963895,  0.67451534,  0.39543482],
       [ 0.70342935,  0.67778054,  0.40278262],
       [ 0.70719349,  0.68106473,  0.41014178],
       [ 0.71093249,  0.68436763,  0.41751206],
       [ 0.71464737,  0.6876893 ,  0.42488836],
       [ 0.71833926,  0.6910298 ,  0.43226527],
       [ 0.7220094 ,  0.69438818,  0.43965207],
       [ 0.72565879,  0.6977642 ,  0.44704861],
       [ 0.72928843,  0.70115768,  0.45445346],
       [ 0.73289959,  0.70456923,  0.46185208],
       [ 0.73649309,  0.70799766,  0.46925961],
       [ 0.7400698 ,  0.71144275,  0.47667598],
       [ 0.74363081,  0.71490456,  0.48409608],
       [ 0.74717746,  0.71838331,  0.49151102],
       [ 0.75071011,  0.72187806,  0.49893426],
       [ 0.75422955,  0.72538863,  0.50636571],
       [ 0.75773755,  0.72891556,  0.51378983],
       [ 0.76123437,  0.73245812,  0.52121722],
       [ 0.7647205 ,  0.73601594,  0.52865243],
       [ 0.76819746,  0.7395893 ,  0.53608487],
       [ 0.77166616,  0.74317803,  0.54351425],
       [ 0.77512647,  0.74678151,  0.55095113],
       [ 0.77857988,  0.75039996,  0.55838666],
       [ 0.78202761,  0.75403338,  0.56581625],
       [ 0.78546912,  0.75768114,  0.57325306],
       [ 0.78890609,  0.76134346,  0.58068701],
       [ 0.79233956,  0.76502031,  0.58811534],
       [ 0.79576884,  0.76871112,  0.59555057],
       [ 0.79919613,  0.77241625,  0.60297886],
       [ 0.80262162,  0.77613542,  0.6104046 ],
       [ 0.80604483,  0.77986825,  0.6178369 ],
       [ 0.80946886,  0.78361524,  0.62525591],
       [ 0.81289231,  0.7873758 ,  0.63267782],
       [ 0.81631588,  0.79114988,  0.64010159],
       [ 0.81974217,  0.79493781,  0.64751242],
       [ 0.82316921,  0.79873898,  0.65492922],
       [ 0.8265995 ,  0.80255371,  0.662338  ],
       [ 0.83003304,  0.80638179,  0.66974294],
       [ 0.83346923,  0.81022296,  0.67715199],
       [ 0.83691169,  0.81407769,  0.68454446],
       [ 0.84035772,  0.81794537,  0.6919421 ],
       [ 0.84380991,  0.82182629,  0.6993313 ],
       [ 0.84726826,  0.8257203 ,  0.70671564],
       [ 0.85073234,  0.82962723,  0.71410105],
       [ 0.85420525,  0.83354741,  0.72147148],
       [ 0.85768443,  0.83748035,  0.72884592],
       [ 0.8611732 ,  0.84142643,  0.7362072 ],
       [ 0.86467017,  0.84538535,  0.74356671],
       [ 0.86817652,  0.84935717,  0.75092035],
       [ 0.87169342,  0.85334197,  0.75826418],
       [ 0.8752196 ,  0.8573395 ,  0.76560841],
       [ 0.87875851,  0.86135013,  0.77293574],
       [ 0.88230741,  0.86537342,  0.78026484],
       [ 0.88586973,  0.86940975,  0.78757867],
       [ 0.88944376,  0.87345884,  0.79488967],
       [ 0.89303135,  0.87752085,  0.80219002],
       [ 0.89663259,  0.88159574,  0.80948175],
       [ 0.90024762,  0.88568347,  0.81676658],
       [ 0.90387814,  0.8897842 ,  0.82403765],
       [ 0.90752283,  0.89389772,  0.83130474],
       [ 0.91118474,  0.89802436,  0.83855351],
       [ 0.91486154,  0.90216378,  0.84579923],
       [ 0.91855678,  0.9063164 ,  0.85302486],
       [ 0.92226826,  0.91048188,  0.86024483],
       [ 0.92599876,  0.91466056,  0.86744642],
       [ 0.92974721,  0.91885224,  0.87463789],
       [ 0.93351542,  0.92305714,  0.88181182],
       [ 0.93730328,  0.92727519,  0.88897127],
       [ 0.94111183,  0.93150649,  0.89611308],
       [ 0.94494177,  0.93575109,  0.90323596],
       [ 0.94879358,  0.94000901,  0.91033996],
       [ 0.95266868,  0.94428038,  0.91742011],
       [ 0.95656721,  0.94856514,  0.92447864],
       [ 0.96049124,  0.95286349,  0.93150736],
       [ 0.96444091,  0.95717528,  0.93850948],
       [ 0.9684191 ,  0.96150073,  0.94547357],
       [ 0.9724265 ,  0.96583955,  0.95240208],
       [ 0.97646754,  0.97019183,  0.95927914],
       [ 0.98054548,  0.97455675,  0.96610244],
       [ 0.98467083,  0.97893315,  0.97284512],
       [ 0.98886599,  0.98331531,  0.97947892]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
