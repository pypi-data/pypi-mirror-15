#!/usr/bin/env python
import json

if( __name__ == '__main__' ):
  memory_total = None
  memory_free = None

  with file('/proc/meminfo', 'r') as mem_file:
    for line in mem_file:
      if( ':' not in line ):
        continue
      split = line.rstrip('\n').split(':')
      key = split[0]
      value = split[1].lstrip(' ')

      if( key == 'MemTotal' ):
        memory_total = value

      if( key == 'MemFree' ):
        memory_free = value

  print json.dumps({
    'hardware': {
      'memory': {
        'memoryTotal': memory_total,
        'memoryFree': memory_free,
      }
    }
  }, indent=2)

  exit(0)
