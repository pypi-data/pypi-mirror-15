<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New in Workload Automation &mdash; Workload Automation 2.4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Workload Automation 2.4.0 documentation" href="index.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="Welcome to Documentation for Workload Automation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Documentation for Workload Automation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-workload-automation">
<h1>What&#8217;s New in Workload Automation<a class="headerlink" href="#what-s-new-in-workload-automation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-2-4-0">
<h2>Version 2.4.0<a class="headerlink" href="#version-2-4-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="additions">
<h3>Additions:<a class="headerlink" href="#additions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="devices">
<h4>Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gem5_linux</span></code> and <code class="docutils literal"><span class="pre">gem5_android</span></code>: Interfaces for Gem5 simulation
environment running Linux and Android respectively.</li>
<li><code class="docutils literal"><span class="pre">XE503C1211</span></code>: Interface for Samsung XE503C12 Chromebooks.</li>
<li><code class="docutils literal"><span class="pre">chromeos_test_image</span></code>: Chrome OS test image device. An off the shelf
device will not work with this device interface.</li>
</ul>
</div>
<div class="section" id="instruments">
<h4>Instruments<a class="headerlink" href="#instruments" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">freq_sweep</span></code>: Allows &#8220;sweeping&#8221; workloads across multiple CPU frequencies.</li>
<li><code class="docutils literal"><span class="pre">screenon</span></code>: Ensures screen is on, before each iteration, or periodically
on Android devices.</li>
<li><code class="docutils literal"><span class="pre">energy_model</span></code>: This instrument can be used to generate an energy model
for a device based on collected power and performance measurments.</li>
<li><code class="docutils literal"><span class="pre">netstats</span></code>:  Allows monitoring data sent/received by applications on an
Android device.</li>
</ul>
</div>
<div class="section" id="modules">
<h4>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cgroups</span></code>: Allows query and manipulation of cgroups controllers on a Linux
device. Currently, only cpusets controller is implemented.</li>
<li><code class="docutils literal"><span class="pre">cpuidle</span></code>: Implements cpuidle state discovery, query and manipulation for
a Linux device. This replaces the more primitive get_cpuidle_states method
of LinuxDevice.</li>
<li><code class="docutils literal"><span class="pre">cpufreq</span></code> has now been split out into a device module</li>
</ul>
</div>
<div class="section" id="reasource-getters">
<h4>Reasource Getters<a class="headerlink" href="#reasource-getters" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">http_assets</span></code>:  Downloads resources from a web server.</li>
</ul>
</div>
<div class="section" id="results-processors">
<h4>Results Processors<a class="headerlink" href="#results-processors" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ipynb_exporter</span></code>: Generates an IPython notebook from a template with the
results and runs it.</li>
<li><code class="docutils literal"><span class="pre">notify</span></code>: Displays a desktop notification when a run finishes
(Linux only).</li>
<li><code class="docutils literal"><span class="pre">cpustates</span></code>: Processes power ftrace to produce CPU state and parallelism
stats. There is also a script to invoke this outside of WA.</li>
</ul>
</div>
<div class="section" id="workloads">
<h4>Workloads<a class="headerlink" href="#workloads" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">telemetry</span></code>: Executes Google&#8217;s Telemetery benchmarking framework</li>
<li><code class="docutils literal"><span class="pre">hackbench</span></code>: Hackbench runs tests on the Linux scheduler</li>
<li><code class="docutils literal"><span class="pre">ebizzy</span></code>: This workload resembles common web server application workloads.</li>
<li><code class="docutils literal"><span class="pre">power_loadtest</span></code>: Continuously cycles through a set of browser-based
activities and monitors battery drain on a device (part of ChromeOS autotest
suite).</li>
<li><code class="docutils literal"><span class="pre">rt-app</span></code>: Simulates configurable real-time periodic load.</li>
<li><code class="docutils literal"><span class="pre">linpack-cli</span></code>:  Command line version of linpack benchmark.</li>
<li><code class="docutils literal"><span class="pre">lmbench</span></code>: A suite of portable ANSI/C microbenchmarks for UNIX/POSIX.</li>
<li><code class="docutils literal"><span class="pre">stream</span></code>: Measures memory bandwidth.</li>
<li><code class="docutils literal"><span class="pre">iozone</span></code>: Runs a series of disk I/O performance tests.</li>
<li><code class="docutils literal"><span class="pre">androbench</span></code>:  Measures the storage performance of device.</li>
<li><code class="docutils literal"><span class="pre">autotest</span></code>:  Executes tests from ChromeOS autotest suite.</li>
</ul>
</div>
<div class="section" id="framework">
<h4>Framework<a class="headerlink" href="#framework" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.utils</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">trace_cmd</span></code>, a generic trace-cmd paraser.</li>
<li>Added <code class="docutils literal"><span class="pre">UbootMenu</span></code>, allows navigating Das U-boot menu over serial.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.utils.types</span></code>:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">caseless_string</span></code>: Behaves exactly like a string, except this ignores
case in comparisons. It does, however, preserve case.</li>
<li><code class="docutils literal"><span class="pre">list_of</span></code>: allows dynamic generation of type-safe list types based on
an existing type.</li>
<li><code class="docutils literal"><span class="pre">arguments</span></code>: represents arguments that are passed on a command line to
an application.</li>
<li><code class="docutils literal"><span class="pre">list-or</span></code>: allows dynamic generation of types that accept either a base
type or a list of base type. Using this <code class="docutils literal"><span class="pre">list_or_integer</span></code>,
<code class="docutils literal"><span class="pre">list_or_number</span></code> and <code class="docutils literal"><span class="pre">list_or_bool</span></code> were also added.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.core.configuration.WorkloadRunSpec</span></code>:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">copy</span></code>: Allows making duplicates of <code class="docutils literal"><span class="pre">WorkloadRunSpec</span></code>&#8216;s</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlatuo.utils.misc</span></code>:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">list_to_ranges</span></code> and <code class="docutils literal"><span class="pre">ranges_to_list</span></code>: convert between lists of
integers and corresponding range strings, e.g. between [0,1,2,4] and
&#8216;0-2,4&#8217;</li>
<li><code class="docutils literal"><span class="pre">list_to_mask</span></code> and <code class="docutils literal"><span class="pre">mask_to_list</span></code>: convert between lists of integers
and corresponding integer masks, e.g. between [0,1,2,4] and 0x17</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.instrumentation</span></code>:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">instrument_is_enabled</span></code>: Returns whether or not an instrument is
enabled for the current job.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.core.result</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added &#8220;classifiers&#8221; field to Metric objects. This is a dict mapping
classifier names (arbitrary strings) to corresponding values for that
specific metrics. This is to allow extensions to add extension-specific
annotations to metric that could be handled in a generic way (e.g. by
result processors). They can also be set in agendas.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Failed jobs will now be automatically retired</p>
</li>
<li><p class="first">Implemented dynamic device modules that may be loaded automatically on
device initialization if the device supports them.</p>
</li>
<li><p class="first">Added support for YAML configs.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">initialze</span></code> and <code class="docutils literal"><span class="pre">finalize</span></code> methods to workloads.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.core.ExecutionContext</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">job_status</span></code> property that returns the status of the currently
running job.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="fixes-improvements">
<h3>Fixes/Improvements<a class="headerlink" href="#fixes-improvements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Devices<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">tc2</span></code>: Workaround for buffer overrun when loading large initrd blob.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">juno</span></code>:</dt>
<dd><ul class="first last simple">
<li>UEFI config can now be specified as a parameter.</li>
<li>Adding support for U-Boot booting.</li>
<li>No longer auto-disconnects ADB at the end of a run.</li>
<li>Added <code class="docutils literal"><span class="pre">actually_disconnect</span></code> to restore old disconnect behaviour</li>
<li>Now passes <code class="docutils literal"><span class="pre">video</span></code> command line to Juno kernel to work around a known
issue where HDMI loses sync with monitors.</li>
<li>Fixed flashing.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id2">
<h4>Instruments<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">trace_cmd</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixed <code class="docutils literal"><span class="pre">buffer_size_file</span></code> for non-Android devices</li>
<li>Reduce starting priority.</li>
<li>Now handles trace headers and thread names with spaces</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">energy_probe</span></code>: Added <code class="docutils literal"><span class="pre">device_entry</span></code> parameter.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">hwmon</span></code>:</dt>
<dd><ul class="first last simple">
<li>Sensor discovery is now done only at the start of a run.</li>
<li>Now prints both before/after and mean temperatures.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">daq</span></code>:</dt>
<dd><ul class="first last simple">
<li>Now reports energy</li>
<li>Fixed file descriptor leak</li>
<li><code class="docutils literal"><span class="pre">daq_power.csv</span></code> now matches the order of labels (if specified).</li>
<li>Added <code class="docutils literal"><span class="pre">gpio_sync</span></code>. When enabled, this wil cause the instrument to
insert a marker into ftrace, while at the same time setting a GPIO pin
high.</li>
<li>Added <code class="docutils literal"><span class="pre">negative_values</span></code> parameter. which can be used to specify how
negative values in the samples should be handled.</li>
<li>Added <code class="docutils literal"><span class="pre">merge_channels</span></code> parameter. When set DAQ channel will be summed
together.</li>
<li>Workload labels, rather than names, are now used in the &#8220;workload&#8221;
column.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">cpufreq</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixes missing directories problem.</li>
<li>Refined the availability check not to rely on the top-level cpu/cpufreq
directory</li>
<li>Now handles non-integer output in <code class="docutils literal"><span class="pre">get_available_frequencies</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">sysfs_extractor</span></code>:</dt>
<dd><ul class="first last simple">
<li>No longer raises an error when both device and host paths are empty.</li>
<li>Fixed pulled files verification.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">perf</span></code>:</dt>
<dd><ul class="first last simple">
<li>Updated binaries.</li>
<li>Added option to force install.</li>
<li><code class="docutils literal"><span class="pre">killall</span></code> is now run as root on rooted Android devices.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">fps</span></code>:</dt>
<dd><ul class="first last simple">
<li>now generates detailed FPS traces as well as report average FPS.</li>
<li>Updated jank calcluation to only count &#8220;large&#8221; janks.</li>
<li>Now filters out bogus <code class="docutils literal"><span class="pre">actual-present</span></code> times and ignore janks above
<code class="docutils literal"><span class="pre">PAUSE_LATENCY</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">delay</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">fixed_before_start</span></code> parameter.</li>
<li>Changed existing <code class="docutils literal"><span class="pre">*_between_specs</span></code> and <code class="docutils literal"><span class="pre">*_between_iterations</span></code>
callbacks to be <code class="docutils literal"><span class="pre">very_slow</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">streamline</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added Linux support</li>
<li><code class="docutils literal"><span class="pre">gatord</span></code> is now only started once at the start of the run.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id3">
<h4>modules<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">flashing</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixed vexpress flashing</li>
<li>Added an option to keep UEFI entry</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="result-processors">
<h4>Result Processors<a class="headerlink" href="#result-processors" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">cpustate</span></code>:</dt>
<dd><ul class="first last simple">
<li>Now generates a timeline csv as well as stats.</li>
<li>Adding ID to overall cpustate reports.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">csv</span></code>: (partial) <code class="docutils literal"><span class="pre">results.csv</span></code> will now be written after each iteration
rather than at the end of the run.</p>
</li>
</ul>
</div>
<div class="section" id="id4">
<h4>Workloads<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">glb_corporate</span></code>: clears logcat to prevent getting results from previous
run.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">sysbench</span></code>:</dt>
<dd><ul class="first last simple">
<li>Updated sysbench binary to a statically linked verison</li>
<li>Added <code class="docutils literal"><span class="pre">file_test_mode</span> <span class="pre">parameter</span></code> - this is a mandatory argumet if
<code class="docutils literal"><span class="pre">test</span></code> is <code class="docutils literal"><span class="pre">&quot;fileio&quot;</span></code>.</li>
<li>Added <code class="docutils literal"><span class="pre">cmd_params</span></code> parameter to pass options directily to sysbench
invocation.</li>
<li>Removed Android browser launch and shutdown from workload (now runs on
both Linux and Android).</li>
<li>Now works with unrooted devices.</li>
<li>Added the ability to run based on time.</li>
<li>Added a parameter to taskset to specific core(s).</li>
<li>Added <code class="docutils literal"><span class="pre">threads</span></code> parameter to be consistent with dhrystone.</li>
<li>Fixed case where default <code class="docutils literal"><span class="pre">timeout</span></code> &lt; <code class="docutils literal"><span class="pre">max_time</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">Dhrystone</span></code>:</dt>
<dd><ul class="first last simple">
<li>added <code class="docutils literal"><span class="pre">taskset_mask</span></code> parameter to allow pinning to specific cores.</li>
<li>Now kills any running instances during setup (also handles CTRL-C).</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">sysfs_extractor</span></code>: Added parameter to explicitly enable/disable tempfs
caching.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">antutu</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixed multi-<code class="docutils literal"><span class="pre">times</span></code> playback for v5.</li>
<li>Updated result parsing to handle Android M logcat output.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">geekbench</span></code>: Increased timout to cater for slower devices.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">idle</span></code>: Now works on Linux devices.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">manhattan</span></code>: Added <code class="docutils literal"><span class="pre">run_timemout</span></code> parameter.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">bbench</span></code>: Now works when binaries_directory is not in path.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">nemamark</span></code>: Made duration configurable.</p>
</li>
</ul>
</div>
<div class="section" id="id5">
<h4>Framework<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">BaseLinuxDevice</span></code>:</dt>
<dd><ul class="first last">
<li><p class="first">Now checks that at least one core is enabled on another cluster before
attempting to set number of cores on a cluster to <code class="docutils literal"><span class="pre">0</span></code>.</p>
</li>
<li><p class="first">No longer uses <code class="docutils literal"><span class="pre">sudo</span></code> if already logged in as <code class="docutils literal"><span class="pre">root</span></code>.</p>
</li>
<li><p class="first">Now saves <code class="docutils literal"><span class="pre">dumpsys</span> <span class="pre">window</span></code> output to the <code class="docutils literal"><span class="pre">__meta</span></code> directory.</p>
</li>
<li><p class="first">Now takes <code class="docutils literal"><span class="pre">password_prompt</span></code> as a parameter for devices with a non
standard <code class="docutils literal"><span class="pre">sudo</span></code> password prompt.</p>
</li>
<li><p class="first">No longer raises an error if <code class="docutils literal"><span class="pre">keyfile</span></code> or <code class="docutils literal"><span class="pre">password</span></code> are not
provided when they are not necessary.</p>
</li>
<li><dl class="first docutils">
<dt>Added new cpufreq APIs:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">core</span></code> APIs take a core name as the parameter (e.g. &#8220;a15&#8221;)</li>
<li><code class="docutils literal"><span class="pre">cluster</span></code> APIs take a numeric cluster ID (eg. 0)</li>
<li><code class="docutils literal"><span class="pre">cpu</span></code> APIs take a cpufreq cpu ID as a parameter.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">set_cpu_frequency</span></code> now has a <code class="docutils literal"><span class="pre">exact</span></code> parameter. When true (the
default) it will produce an error when the specified frequency is not
supported by the cpu, otherwise cpufreq will decide what to do.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">{core}_frequency</span></code> runtime parameter to set cluster frequency.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">abi</span></code> property.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">get_properties</span></code> moved from <code class="docutils literal"><span class="pre">LinuxDevice</span></code>, meaning <code class="docutils literal"><span class="pre">AndroidDevice</span></code>
will try to pull the same files. Added more paths to pull by default
too.</p>
</li>
<li><p class="first">fixed <code class="docutils literal"><span class="pre">list_file_systems</span></code> for Android M and Linux devices.</p>
</li>
<li><p class="first">Now sets <code class="docutils literal"><span class="pre">core_clusters</span></code> from <code class="docutils literal"><span class="pre">core_names</span></code> if not explicitly
specified.</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">invoke</span></code> method that allows invoking an executable on the device
under controlled contions (e.g. within a particular directory, or
taskset to specific CPUs).</p>
</li>
<li><p class="first">No longer attempts to <code class="docutils literal"><span class="pre">get_sysfile_value()</span></code> as root on unrooted
devices.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">LinuxDevice</span></code>:</dt>
<dd><ul class="first last simple">
<li>Now creates <code class="docutils literal"><span class="pre">binaries_directory</span></code> path if it doesn&#8217;t exist.</li>
<li>Fixed device reset</li>
<li>Fixed <code class="docutils literal"><span class="pre">file_exists</span></code></li>
<li>implemented <code class="docutils literal"><span class="pre">get_pid_of()</span></code> and <code class="docutils literal"><span class="pre">ps()</span></code>. Existing implementation
relied on Android version of ps.</li>
<li><code class="docutils literal"><span class="pre">listdir</span></code> will now return an empty list for an empty directory
instead of a list containing a single empty string.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">AndroidDevice</span></code>:</dt>
<dd><ul class="first last simple">
<li>Executable (un)installation now works on unrooted devices.</li>
<li>Now takes into account <code class="docutils literal"><span class="pre">binar_directory</span></code> when setting up busybox path.</li>
<li>update <code class="docutils literal"><span class="pre">android_prompt</span></code> so that it works even if is not <code class="docutils literal"><span class="pre">&quot;/&quot;</span></code></li>
<li><code class="docutils literal"><span class="pre">adb_connect</span></code>: do not assume port 5555 anymore.</li>
<li>Now always deploys busybox on rooted devices.</li>
<li>Added <code class="docutils literal"><span class="pre">swipe_to_unlock</span></code> method.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Fixed initialization of <code class="docutils literal"><span class="pre">~/.workload_automation.</span></code>.</p>
</li>
<li><p class="first">Fixed replaying events using revent on 64 bit platforms.</p>
</li>
<li><p class="first">Improved error repoting when loading extensions.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">result</span></code> objects now track their output directories.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">context.result</span></code> will not result in <code class="docutils literal"><span class="pre">context.run_result</span></code> when not
executing a job.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlauto.utils.ssh</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixed key-based authentication.</li>
<li>Fixed carriage return stripping in ssh.</li>
<li>Now takes <code class="docutils literal"><span class="pre">password_prompt</span></code> as a parameter for non standard <code class="docutils literal"><span class="pre">sudo</span></code>
password prompts.</li>
<li>Now with 100% more thread safety!</li>
<li>If a timeout condition is hit, ^C is now sent to kill the current
foreground process and make the shell available for subsequent commands.</li>
<li>More robust <code class="docutils literal"><span class="pre">exit_code</span></code> handling for ssh interface</li>
<li>Now attempts to deal with dropped connections</li>
<li>Fixed error reporting on failed exit code extraction.</li>
<li>Now handles backspaces in serial output</li>
<li>Added <code class="docutils literal"><span class="pre">port</span></code> argument for telnet connections.</li>
<li>Now allows telnet connections without a password.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Fixed config processing for extensions with non-identifier names.</p>
</li>
<li><p class="first">Fixed <code class="docutils literal"><span class="pre">get_meansd</span></code> for numbers &lt; 1</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">wlatuo.utils.ipython</span></code>:</dt>
<dd><ul class="first last simple">
<li>Now supports old versions of IPython</li>
<li>Updated version check to only initialize ipython utils if version is
&lt; 4.0.0. Version 4.0.0 changes API and breaks WA&#8217;s usage of it.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">ignore</span></code> parameter to <code class="docutils literal"><span class="pre">check_output</span></code></p>
</li>
<li><dl class="first docutils">
<dt>Agendas:</dt>
<dd><ul class="first last simple">
<li>Now raise an error if an agenda contains duplicate keys</li>
<li>Now raise an error if config section in an agenda is not dict-like</li>
<li>Now properly handles <code class="docutils literal"><span class="pre">core_names</span></code> and <code class="docutils literal"><span class="pre">core_clusters</span></code></li>
<li>When merging list parameters from different sources, duplicates are no
longer removed.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">INITIAL_BOOT</span></code> signal is now sent went performing a hard reset during
intial boot</p>
</li>
<li><p class="first">updated <code class="docutils literal"><span class="pre">ExecutionContext</span></code> to keep a reference to the <code class="docutils literal"><span class="pre">runner</span></code>. This
will enable Extenstions to do things like modify the job queue.</p>
</li>
<li><p class="first">Parameter now automatically convert int and boot kinds to integer and
boolean respectively, this behavior can be supressed by specifying
<code class="docutils literal"><span class="pre">convert_types``=``False</span></code> when defining the parameter.</p>
</li>
<li><p class="first">Fixed resource resolution when dependency location does not exist.</p>
</li>
<li><p class="first">All device <code class="docutils literal"><span class="pre">push</span></code> and <code class="docutils literal"><span class="pre">pull</span></code> commands now raise <code class="docutils literal"><span class="pre">DeviceError</span></code> if they
didn&#8217;t succeed.</p>
</li>
<li><p class="first">Fixed showing Parameter default of <code class="docutils literal"><span class="pre">False</span></code> for boolean values.</p>
</li>
<li><p class="first">Updated csv result processor with the option to use classifiers to
add columns to <code class="docutils literal"><span class="pre">results.csv</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">wlauto.utils.formatter</span></code>: Fix terminal size discovery.</p>
</li>
<li><p class="first">The extension loader will now follow symlinks.</p>
</li>
<li><p class="first">Added arm64-v8a to ABI map</p>
</li>
<li><p class="first">WA now reports syntax errors in a more informative way.</p>
</li>
<li><p class="first">Resource resolver: now prints the path of the found resource to the log.</p>
</li>
<li><p class="first">Resource getter: look for executable in the bin/ directory under resource
owner&#8217;s dependencies directory as well as general dependencies bin.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">GamingWorkload</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added an option to prevent clearing of package data before execution.</li>
<li>Added the ability to override the timeout of deploying the assets
tarball.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">ApkWorkload</span></code>: Added an option to skip host-side APK check entirely.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">utils.misc.normalize</span></code>: only normalize string keys.</p>
</li>
<li><p class="first">Better error reporting for subprocess.CalledProcessError</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">boolean</span></code> now interprets <code class="docutils literal"><span class="pre">'off'</span></code> as <code class="docutils literal"><span class="pre">False</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">wlauto.utils.uefi</span></code>: Added support for debug builds.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">wlauto.utils.serial_port</span></code>: Now supports fdexpect versions &gt; 4.0.0</p>
</li>
<li><p class="first">Semanatics for <code class="docutils literal"><span class="pre">initialize</span></code>/<code class="docutils literal"><span class="pre">finalize</span></code> for <em>all</em> Extensions are changed
so that now they will always run at most once per run. They will not be
executed twice even if invoked via instances of different subclasses (if
those subclasses defined their own verions, then their versions will be
invoked once each, but the base version will only get invoked once).</p>
</li>
<li><p class="first">Pulling entries from procfs does not work on some platforms. WA now tries
to cat the contents of a property_file and write it to a output file on the
host.</p>
</li>
</ul>
</div>
<div class="section" id="documentation">
<h4>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">installation</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">post</span> <span class="pre">install</span></code> section which lists workloads that require
additional external dependencies.</li>
<li>Added the <code class="docutils literal"><span class="pre">uninstall</span></code> and <code class="docutils literal"><span class="pre">upgrade</span></code> commands for users to remove or
upgrade Workload Automation.</li>
<li>Added documentation explaining how to use <code class="docutils literal"><span class="pre">remote_assets_path</span></code>
setting.</li>
<li>Added warning about potential permission issues with pip.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">quickstart</span></code>: Added steps for setting up WA to run on Linux devices.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">device_setup</span></code>: fixed <code class="docutils literal"><span class="pre">generic_linux</span></code> <code class="docutils literal"><span class="pre">device_config</span></code> example.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">contributing</span></code>: Clarified style guidelines</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">daq_device_setup</span></code>: Added an illustration for DAQ wiring.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">writing_extensions</span></code>: Documented the Workload initialize and finalize
methods.</p>
</li>
<li><p class="first">Added descriptions to extension that didn&#8217;t have one.</p>
</li>
</ul>
</div>
<div class="section" id="other">
<h4>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">daq_server</span></code>:</dt>
<dd><ul class="first last simple">
<li>Fixed showing available devices.</li>
<li>Now works with earlier versions of the DAQmx driver.thus you can now run
the server on Linux systems.</li>
<li>DAQ error messages are now properly propaged to the client.</li>
<li>Server will now periodically clean up uncollected files.</li>
<li>fixed not being able to resolve IP address for hostname
(report &#8220;localhost&#8221; in that case).</li>
<li>Works with latest version of twisted.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">setup.py</span></code>: Fixed paths to work with Mac OS X.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">summary_csv</span></code> is no longer enabled by default.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">status</span></code> result processor is now enabled by default.</p>
</li>
<li><dl class="first docutils">
<dt>Commands:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">show</span></code>:</dt>
<dd><ul class="first last simple">
<li>Now shows what platform extensions support.</li>
<li>Will no longer try to use a pager if <code class="docutils literal"><span class="pre">PAGER=''</span></code> in the environment.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">list</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">&quot;-p&quot;</span></code> option to filter results by supported platforms.</li>
<li>Added <code class="docutils literal"><span class="pre">&quot;--packaged-only&quot;</span></code> option to only list extensions packaged
with WA.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">run</span></code>: Added <code class="docutils literal"><span class="pre">&quot;--disable&quot;</span></code> option to diable instruments.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">create</span></code>:</dt>
<dd><ul class="first last simple">
<li>Added <code class="docutils literal"><span class="pre">agenda</span></code> sub-command to generate agendas for a set of
extensions.</li>
<li><code class="docutils literal"><span class="pre">create</span> <span class="pre">workload</span></code> now gives more informative errors if Android SDK
installed but no platform has been downloaded.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="incompatible-changes">
<h3>Incompatible changes<a class="headerlink" href="#incompatible-changes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id6">
<h4>Framework<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">BaseLinuxDevice</span></code>:</dt>
<dd><ul class="first last simple">
<li>Renamed <code class="docutils literal"><span class="pre">active_cpus</span></code> to <code class="docutils literal"><span class="pre">online_cpus</span></code></li>
<li>Renamed <code class="docutils literal"><span class="pre">get_cluster_cpu</span></code> to <code class="docutils literal"><span class="pre">get_cluster_active_cpu</span></code></li>
<li>Renamed <code class="docutils literal"><span class="pre">get_core_cpu</span></code> to <code class="docutils literal"><span class="pre">get_core_online_cpu</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">All extension&#8217;s <code class="docutils literal"><span class="pre">initialize</span></code> function now takes one (and only one)
parameter, <code class="docutils literal"><span class="pre">context</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">wlauto.core.device</span></code>: Removed <code class="docutils literal"><span class="pre">init</span></code> function. Replaced with
<code class="docutils literal"><span class="pre">initialize</span></code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="version-2-3-0">
<h2>Version 2.3.0<a class="headerlink" href="#version-2-3-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>First publicly-released version.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What&#8217;s New in Workload Automation</a><ul>
<li><a class="reference internal" href="#version-2-4-0">Version 2.4.0</a><ul>
<li><a class="reference internal" href="#additions">Additions:</a><ul>
<li><a class="reference internal" href="#devices">Devices</a></li>
<li><a class="reference internal" href="#instruments">Instruments</a></li>
<li><a class="reference internal" href="#modules">Modules</a></li>
<li><a class="reference internal" href="#reasource-getters">Reasource Getters</a></li>
<li><a class="reference internal" href="#results-processors">Results Processors</a></li>
<li><a class="reference internal" href="#workloads">Workloads</a></li>
<li><a class="reference internal" href="#framework">Framework</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixes-improvements">Fixes/Improvements</a><ul>
<li><a class="reference internal" href="#id1">Devices</a></li>
<li><a class="reference internal" href="#id2">Instruments</a></li>
<li><a class="reference internal" href="#id3">modules</a></li>
<li><a class="reference internal" href="#result-processors">Result Processors</a></li>
<li><a class="reference internal" href="#id4">Workloads</a></li>
<li><a class="reference internal" href="#id5">Framework</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#incompatible-changes">Incompatible changes</a><ul>
<li><a class="reference internal" href="#id6">Framework</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#version-2-3-0">Version 2.3.0</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Documentation for Workload Automation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="quickstart.html"
                        title="next chapter">Quickstart</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changes.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Documentation for Workload Automation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Workload Automation 2.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, ARM Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>