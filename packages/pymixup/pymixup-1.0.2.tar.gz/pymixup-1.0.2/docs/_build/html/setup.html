<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Setup &mdash; Pymixup 1.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Pymixup 1.0.2 documentation" href="index.html" />
    <link rel="next" title="Steps to Obfuscate a Project" href="steps.html" />
    <link rel="prev" title="Coding Standards to Accommodate Obfuscating" href="coding-standards.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<p>The obfuscator uses a few lists and some extra files or packages to create the final project.</p>
<div class="section" id="identify-the-project-files">
<h2>Identify the project files<a class="headerlink" href="#identify-the-project-files" title="Permalink to this headline">¶</a></h2>
<p><em>pymixup</em> needs to know which Python packages plus other files and directories make up the project. These are specified in the following <strong>common/settings.py</strong> lists.</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>obfuscated_packages</strong></dt>
<dd>Your project&#8217;s Python packages; that is, your source code packages. Note that for Kivy projects, this will automatically pick up the .kv files. Do not include Python standard libraries and libraries imported from site-packages in this list.</dd>
<dt><strong>unobfuscated_folders</strong></dt>
<dd>Non-python folders required by the project plus any Python packages copied into your project&#8217;s root directory that should not be obfuscated. For example, a folder <em>fonts</em> of fonts could be in this list. Also, if a Python package like <em>peewee</em> is used in your project and is copied into your project root instead of using site-packages, then include it here too.</dd>
<dt><strong>obfuscated_root_files</strong></dt>
<dd>Required files that are in the project root folder that should be obfuscated. Use a wild card to specify the extension type. For example, &#8220;main.py&#8221; and &#8220;*.kv&#8221;.</dd>
<dt><strong>unobfuscated_root_files</strong></dt>
<dd>Required files that are in the project root folder that should not be obfuscated. Use a wild card to specify the extension type. For example, &#8220;*.ini&#8221; and &#8220;setup.py&#8221;.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="identify-the-obfuscation-directories">
<h2>Identify the obfuscation directories<a class="headerlink" href="#identify-the-obfuscation-directories" title="Permalink to this headline">¶</a></h2>
<p>The project&#8217;s root directory and the working directories needed for obfuscating the project must also be specified. A project is obfuscated by using the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>It is imported into IMPORTED.</li>
<li>The imported project is obfuscated and placed in OBFUSCATED.</li>
<li>The obfuscated project is exported into EXPORTED for testing.</li>
<li>The exported project is deployed into DEPLOYED.</li>
<li>Extra files required for the deployed project will be copied from EXTRAS.</li>
</ol>
</div></blockquote>
<p>These are directories are defined in the following <strong>common/settings.py</strong> variables. (By default, the directories for these five steps end with /IMPORTED, /OBFUSCATED, /EXPORTED, /DEPLOYED, and /EXTRAS respectively, although this is not required. See <a class="reference internal" href="folder-structure.html"><span class="doc">Folder Structure for Source Files</span></a> for a graphic of the directory tree.)</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>project_name</strong></dt>
<dd>The root directory of the project. For example, the <strong>project_name</strong> for a project ~/projects/MyProject would be &#8220;MyProject&#8221;.</dd>
<dt><strong>project_base_dir</strong></dt>
<dd>The directory which contains the root directory of the development project. For example, the <strong>project_base_dir</strong> for project ~/projects/MyProject would be &#8220;~/projects&#8221;.</dd>
<dt><strong>imported_dir</strong></dt>
<dd>The working directory that the development project will be imported into.</dd>
<dt><strong>obfuscated_dir</strong></dt>
<dd>The working directory the obfuscated project will be placed in.</dd>
<dt><strong>exported_dir</strong></dt>
<dd>The directory to hold obfuscated projects that are ready to test.</dd>
<dt><strong>deployed_dir</strong></dt>
<dd>The directory to deploy the obfuscated project to.</dd>
<dt><strong>extras_dir</strong></dt>
<dd>Location for extra files, packages, and folders that the deployed project will need. For exapmle, add files, Python modules, or whole folders to this folder for which there is no &#8220;recipe&#8221; to include as part of the platform build. The entire file, module, or folder will be copied to the platform without modification.</dd>
</dl>
<p>NOTE: These base directories must be created before running the project; that is, <em>pymixup</em> expects the basic project structure to be in place, it does not create these base directories. <em>pymixup</em> will create any required sub-folders of these base directories.</p>
</div></blockquote>
</div>
<div class="section" id="specify-names-that-should-not-be-obfuscated">
<h2>Specify names that should not be obfuscated<a class="headerlink" href="#specify-names-that-should-not-be-obfuscated" title="Permalink to this headline">¶</a></h2>
<p><em>pymixup</em> builds a database of all the names used in a project. Some names, like Python key names, should not be obfuscated. Identify these names in the following lists found in <strong>data/builddb.py</strong> package.</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>reserved_list</strong></dt>
<dd><p class="first">These names will not be obfuscated. For convenience, the loading of <em>reserved_list</em> has been broken up into sections matching the library the reserved name is part of.</p>
<p>If the name is a module name, then any imported name from the module and any attribute from one of those names will be considered reserved as well. For example,
with reserved name &#8220;foo&#8221;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">foo</span> <span class="k">import</span> <span class="n">bar</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">baz</span>
</pre></div>
</div>
<p>&#8220;bar&#8221; and &#8220;baz&#8221; will be reserved as well.</p>
<p>The following should be included in <em>reserved_list</em>:</p>
<blockquote class="last">
<div><ul>
<li><p class="first">Python reserved names.</p>
</li>
<li><p class="first">Libraries you are importing that that should not be obfuscated (that is, libraries you did not write as part of your project).</p>
</li>
<li><p class="first">Names (methods, class names, etc.) from imported libraries that are not either specifically imported using a &#8220;from somelibrary import name1, name2, ...&#8221; statement, or an attribute of a reserved name.</p>
</li>
<li><p class="first">Parameter names in reserved methods and classes.</p>
<blockquote>
<div><p>For example, consider the following code for reserved libraries foo where bar is a class in foo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">foo</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">baz</span><span class="p">(</span><span class="n">parm1</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">something</span>
</pre></div>
</div>
<p>In this case, the following describes whether the names have to be added to <em>reserved_list</em>:</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;foo&#8221;: yes, to designate the module as reserved,</li>
<li>&#8220;bar&#8221;: yes, it&#8217;s not identified as a reserved name in the import statement,</li>
<li>&#8220;baz&#8221;: no,  it&#8217;s an attribute of &#8220;bar&#8221;,</li>
<li>&#8220;parm1&#8221;: yes, parameters in reserved objects have to be added,</li>
<li>&#8220;x&#8221;: optional, if it is added, then &#8220;something&#8221; does not need to be added. If you want the variable &#8220;x&#8221; itself to be obfuscated, then add it.</li>
<li>&#8220;something&#8221;, yes, unless &#8220;x&#8221; is added</li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><p class="first">Database variable names (fields), named tuple fields, and other variables that exist both as quoted names and unquoted names in your programs or external tables. For example, the variable name &#8220;amount&#8221; cannot be obfuscated if it is used both as row.amount and row[&#8220;amount&#8221;].</p>
</li>
</ul>
</div></blockquote>
</dd>
<dt><strong>identifiers_list</strong></dt>
<dd><p class="first">The names in <em>identifiers_list</em> that should not be obfuscated are a special class of reserved names. They will be added to Identifier with the parameter <strong>do_obfuscate</strong> equal to False. This will prevent these names from being obfuscated, but will allow their attributes to be obfuscated. For example, &#8220;self&#8221; is a reserved name in the program Kivy, so it should not be obfuscated. However, we do want &#8220;bar&#8221; in self.bar to be obfuscated. Therefore add &#8220;self&#8221; to the <em>identifiers_list</em>, not to the <em>reserved_list</em>.</p>
<p class="last">There should be a very limited number of names in this list.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="specify-work-files-and-directories-to-exclude">
<h2>Specify work files and directories to exclude<a class="headerlink" href="#specify-work-files-and-directories-to-exclude" title="Permalink to this headline">¶</a></h2>
<p>Some files and directories may be generated by your working environment that should not be included in the deployed version (for example, the .git folder). These are specified in the skip lists found in <strong>&lt;pymixup.py</strong>.</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>skip_directories</strong></dt>
<dd>Directories to skip (exclude from final project). For example, the .git repository.</dd>
<dt><strong>skip_files</strong></dt>
<dd>Files to skip (exclude from the final project).</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="specify-modules-and-files-to-add">
<h2>Specify modules and files to add<a class="headerlink" href="#specify-modules-and-files-to-add" title="Permalink to this headline">¶</a></h2>
<p>Some deployed platforms, for example Android and iOS, may require additional modules and files. Add these to the folder <strong>extras_dir</strong> (defined in the obfuscation directories above) and map them to the appropriate platform by including them in the <strong>extra_paths</strong> list. This list is loaded in <strong>export/fabfile.py</strong>, which is run with a parameter to specify which platform to export to.</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>extra_paths</strong></dt>
<dd>Add the names of the files, modules, and folders that are in <strong>extras_dir</strong> to this list for the &lt;platform&gt; build.</dd>
</dl>
</div></blockquote>
<p>For example, to use a Python library called &#8220;somelibrary&#8221;, for which there is no Android recipe, plus a &#8220;bin&#8221; folder and a &#8220;buildozer.spec&#8221; file in your Android build, copy the entire library somelibrary, the directory bin, and the file buildozer.spec into the <strong>extras_dir</strong> library and add them to the <strong>extra_paths</strong> list in <strong>export/fabfile.py</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">platform</span> <span class="ow">is</span> <span class="s1">&#39;android&#39;</span><span class="p">:</span>
    <span class="n">extra_paths</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;somelibrary&#39;</span><span class="p">,</span>
        <span class="s1">&#39;bin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;buildozer.spec&#39;</span><span class="p">,</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>These will be copied into the EXPORTED project as a final step when exporting to the &#8220;android&#8221; platform.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Setup</a><ul>
<li><a class="reference internal" href="#identify-the-project-files">Identify the project files</a></li>
<li><a class="reference internal" href="#identify-the-obfuscation-directories">Identify the obfuscation directories</a></li>
<li><a class="reference internal" href="#specify-names-that-should-not-be-obfuscated">Specify names that should not be obfuscated</a></li>
<li><a class="reference internal" href="#specify-work-files-and-directories-to-exclude">Specify work files and directories to exclude</a></li>
<li><a class="reference internal" href="#specify-modules-and-files-to-add">Specify modules and files to add</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="coding-standards.html" title="previous chapter">Coding Standards to Accommodate Obfuscating</a></li>
      <li>Next: <a href="steps.html" title="next chapter">Steps to Obfuscate a Project</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/setup.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Richard DeVost.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/setup.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>